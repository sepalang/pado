{"version":3,"file":"pado.js","sources":["packages/pado/functions/isLike.js","packages/pado/functions/enumerable.js","packages/pado/functions/read.js","packages/pado/functions/remark.js","packages/pado/functions/cast.js","packages/pado/functions/reform.js","packages/pado/functions/reduce/reduce.base.js","packages/pado/functions/reduce/reduce.js","packages/pado/functions/nice.js","packages/pado/functions/matrix.js","packages/pado/functions/random.js","packages/pado/functions/datetime.js","packages/pado/functions/hack.js","packages/pado/functions/draw.js","packages/pado/modules/promise/promiseEngine.js","packages/pado/modules/promise/promise.js","packages/pado/modules/operate.js","packages/pado/modules/promise/promiseFunctions.js","packages/pado/modules/block.js","packages/pado/modules/session.js","packages/pado/modules/ranger.js","packages/pado/modules/matrix.js","packages/pado/modules/stance.js","packages/pado/modules/affect.js","packages/pado/modules/decorator.js","packages/pado/pado.core.js","packages/pado/pado.js"],"sourcesContent":["export const isAbsoluteNaN = function (it){\n  // eslint-disable-next-line no-self-compare\n  return it !== it && typeof it === \"number\"\n}\n\nexport const isNone = function (data){\n  return isAbsoluteNaN(data) || data === undefined || data === null\n}\n\nexport const isInfinity = function (it){\n  return it === Number.POSITIVE_INFINITY || it === Number.NEGATIVE_INFINITY\n}\n\nexport const isNumber = function (it){\n  return (typeof it === \"number\" && !isInfinity(it) && !isAbsoluteNaN(it))\n}\n\nexport const isInteger = function (value){\n  //NaN, null, undefined\n  if(isNone(value) === true) return false\n  \n  if(typeof value === \"string\"){\n    value = value.trim()\n  }\n\n  if(!(/string|number/.test(typeof value)) || isInfinity(value) || isNaN(value)){\n    return false\n  }\n\n  return value == parseInt(value, 10)\n}\n\nexport const isArray = function (data){\n  return Array.isArray(data) || data instanceof Array\n}\n\nexport const isObject   = it=>!!((it !== null && typeof it === \"object\"))\nexport const isFunction = (it)=>typeof it === \"function\"\n\n/*\n  * likeObject is have hasOwnProperty\n*/\nexport const likeObject = (it)=>isObject(it) || isFunction(it)\n\nexport const likeString = function (data){\n  if(typeof data === \"string\") return true\n  if(isNumber(data)) return true\n  return false\n}\n\nexport const likeNumber = function (data){\n  if(isNumber(data) || isInfinity(data)) return true\n  if(typeof data === \"string\") return String(parseFloat(data)) === String(data)\n  return false\n}\n\nexport const likeArray = function (item){\n  return (\n    Array.isArray(item) || \n    ( \n      item !== null &&\n      typeof item === \"object\" &&\n      item.hasOwnProperty(\"length\") && \n      typeof item.length === \"number\" && \n      item.length > 0\n    )\n  )\n}\n\nexport const isPlainObject = data=>typeof data === \"object\" && data.constructor === Object\n\nexport const isEnumerableObject = data=>isPlainObject(data) || isArray(data)\n\nexport const isNode = (a)=>isObject(a) && typeof a.nodeType === \"number\"\n\nexport const isEmpty = function (it){\n  if(typeof it === \"undefined\") return true\n  if(typeof it === \"string\") return it.trim().length < 1\n  if(typeof it === \"object\"){\n    if(it == null) return true\n    if(it instanceof RegExp) return false      \n    if(isArray(it)){\n      return !it.length\n    } else {\n      for(var prop in it) return false; return true\n    }\n  }\n  if(typeof it === \"number\"){\n    //NaN check \n    return isAbsoluteNaN(it) || false\n  }\n  if(typeof it === \"function\") return false\n  if(typeof it === \"boolean\") return false\n  return true\n}\n\n// check JSON, input.value possible value\nexport const isPresence = function (it){\n  return !(it === undefined || isAbsoluteNaN(it))\n}\n\nexport const likeRegexp = (s)=>(typeof s === \"string\") || (s instanceof RegExp)\n\n// none(undfinec, null, NaN), value(1,\"1\"), hash({}), array([]), node, object(new, Date), function, boolean\nexport const eqof = function (it){\n  const typeIt = typeof it\n  switch (typeIt){\n    case \"number\":\n      if(isAbsoluteNaN(it)) return \"none\"\n    case \"string\":\n      return \"value\"\n      break\n    case \"object\":\n      if(isNone(it)) return \"none\"\n      if(likeArray(it)) return \"array\"\n      if(isNode(it)) return \"node\"\n      if(!isPlainObject(it)) return \"object\"\n      return \"hash\"\n      break\n    case \"undefined\":\n      return \"none\"\n      break\n    case \"function\":\n    case \"boolean\":\n    default:\n      return typeIt\n      break\n  }\n}\n\nconst baseEq = function (value, other, filter, depth = 0, strict){\n  if(arguments.length < 2) return false\n  \n  const valueType = eqof(value)\n  const otherType = eqof(other)\n  \n  if(valueType !== otherType) return false\n  \n  switch (valueType){\n    case \"none\":\n      return true\n    case \"array\":\n      if(value.length !== other.length){\n        return false\n      }\n      return value.every((vValue, i)=>{\n        const oValue = other[i]\n        return (typeof filter === \"function\" && filter(i, [vValue, oValue], depth) === false) ? true : baseEq(vValue, oValue, filter, depth + 1, strict)\n      })\n      break\n    case \"hash\":\n      const vKeys = Object.keys(value); const oKeys = Object.keys(other)\n      if(vKeys.length !== oKeys.length || !baseEq(vKeys.sort(), oKeys.sort())) return false\n      return vKeys.every((key)=>{\n        const vValue = value[key]\n        const oValue = other[key]\n        return (typeof filter === \"function\" && filter(key, [vValue, oValue], depth) === false) ? true : baseEq(vValue, oValue, filter, depth + 1, strict)\n      })\n      break\n    case \"node\":\n    case \"object\":\n    case \"function\":\n    case \"boolean\":\n    case \"value\":\n    default:\n      return strict ? value === other : value == other\n  }\n}\n\nexport const isEqual   = (value, other, filter, depth)=>baseEq(value, other, filter, depth, true)\nexport const likeEqual = (value, other, filter, depth)=>baseEq(\n  value,\n  other,\n  (key, values, depth)=>/^(\\$|\\_)/.test(key) ? false : typeof filter === \"function\" ? filter(key, values, depth) : true, \n  depth, \n  true\n)\nexport const eqeq      = (value, other, filter, depth)=>baseEq(value, other, filter, depth, false)\n\nexport const isExsist = function (value){\n  if(value === true){\n    return true\n  }\n  if(value === false){\n    return false\n  }\n  if(typeof value === \"string\" || typeof value === \"number\"){\n    return true\n  } else {\n    return false\n  }\n}\n\nexport const notExsist = value=>!isExsist(value)\n\nexport const likePromise = (target)=>(typeof target === \"object\" && target !== null && typeof target['then'] === \"function\" && typeof target['catch'] === \"function\")\n","import {\n  isArray\n} from './isLike'\n\nimport {\n  asArray\n} from './cast'\n\nexport const all = function (data, fn){\n  data = asArray(data)\n  \n  if(data.length === 0){\n    return false\n  }\n  \n  for(let i = 0, l = data.length; i < l; i++){\n    if(!fn(data[i], i)){\n      return false\n    } \n  };\n  \n  return true\n}\n\nexport const times = function (length, fn){\n  const result = []\n  for(var i = 0, l = length; i < l; i++){\n    result.push(fn(i))\n  }\n  return result\n}\n\nexport const hashMap = function (object, fn){\n  if(typeof object === \"object\" && !isArray(object)) for(var k in object) object[k] = fn(object[k], k)\n  else return fn(object, (void 0))\n  return object\n}\n\nexport const pairs = (inputArr, fn)=>{\n  let result = []\n  for(let i = 0, l = inputArr.length; i < l; i++){\n    for(let ai = 0, al = l; ai < al; (i !== ai && result.push([inputArr[i], inputArr[ai]])), ai++);\n  }\n  return typeof fn === \"function\" ? result.map(applyArgs=>fn.apply(undefined, applyArgs)) : result\n}\n","import {\n  isArray,\n  likeString,\n  isObject,\n  likeObject,\n  isNumber,\n  isEmpty\n} from './isLike'\n\nimport {\n  entries,\n  matchString\n} from './remark'\n\nimport {\n  all\n} from './enumerable'\n\nimport {\n  asArray\n} from './cast'\n\n\n//read.readString.spec.js\nexport const readString = (function (){\n  const rebaseMatches = matches=>entries(asArray(matches))\n  return function (text, matches, castFn, props){\n    const payload = {\n      content: text,\n      props\n    }\n  \n    const newMatchEntries = rebaseMatches(matches)\n  \n    const castingState = {\n      firstIndex  : 0,\n      lastIndex   : text.length,\n      castingStart: 0,\n      cursor      : 0\n    }\n    \n    if(typeof props === \"object\" && isNumber(props.start)){\n      castingState.castingStart = props.start\n      castingState.cursor = props.start\n    }\n\n    const open = function ({ castingState:{ firstIndex, lastIndex, castingStart, cursor }, matchEntries, castFn, parentScope }){\n      if(cursor >= lastIndex){\n        return false\n      }\n      \n      //find match\n      const matchesMap = matchEntries.map(([matchType, matchExp])=>([matchString(text, matchExp, cursor), matchType, matchExp]))\n      let firstMatch   = asArray(matchesMap).sort(([a, aPriority], [b, bPriority])=>(\n        a[0] < 0 ? true\n        : b[0] < 0 ? false\n        : a[0] == b[0] ? aPriority < bPriority : a[0] > b[0]\n      ))[0]\n      \n      // top match is not exsist\n      if(!firstMatch){ return false }\n      \n      // unmatched\n      if(firstMatch[0][0] === -1){\n        firstMatch = [[-1, 0], -1, null]\n      }\n\n      //next variant\n      const [[ matchIndex, matchSize ], matchType, matchExp] = firstMatch\n      const castStart = castingStart\n      const castEnd   = matchType === -1 ? lastIndex : (matchIndex + matchSize)\n      const castSize  = castEnd - castStart\n      const skipSize  = castSize - matchSize\n      \n      //next params\n      const matching = { \n        matchType, \n        matchExp,\n        matchIndex,\n        matchSize,\n        skipSize\n      }\n      const casting = {\n        firstIndex,\n        lastIndex,\n        castStart,\n        castEnd,\n        castSize\n      }\n      const scope = {\n        fork (matchEntries, castFn){\n          const newMatchEntries = rebaseMatches(matches)\n          open({\n            castingState: {\n              firstIndex  : matching.matchIndex,\n              lastIndex   : matching.matchIndex + matchSize,\n              castingStart: matching.matchIndex,\n              cursor      : matching.matchIndex\n            }, \n            matchEntries: newMatchEntries,\n            castFn,\n            parentScope\n          })\n        },\n        next (needCursor){\n          const cursorTo = isNumber(needCursor) ? needCursor : casting.castEnd\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: cursorTo,\n              cursor      : cursorTo\n            },\n            matchEntries,\n            castFn,\n            parentScope\n          })\n        },\n        enter (enterMatches, enterCastFn){\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: matching.matchIndex,\n              cursor      : matching.matchIndex\n            },\n            matchEntries: rebaseMatches(enterMatches),\n            castFn      : enterCastFn,\n            parentScope : {\n              next: scope.next\n            }\n          })\n        },\n        exit (needCursor){\n          parentScope && parentScope.next(isNumber(needCursor) ? needCursor : casting.castEnd)\n        },\n        more (){\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: castStart,\n              cursor      : casting.castEnd\n            },\n            matchEntries,\n            castFn,\n            parentScope\n          })\n        }\n      }\n      \n      castFn({\n        ...payload,\n        ...matching,\n        ...casting,\n        ...scope\n      })\n      \n      return true\n    }\n    \n    open({\n      castingState,\n      matchEntries: newMatchEntries,\n      castFn\n    })\n  \n    return payload\n  }\n}())\n\nexport const readPath = (function (){\n  const __filterDotPath = (dotPath, removeFirstDot)=>removeFirstDot && dotPath.indexOf(\".\") === 0 ? dotPath.substr(1) : dotPath\n  const __filterBlockPath = (blockPath)=>{\n    //remove []\n    blockPath = blockPath.substring(1, blockPath.length - 1)\n    \n    //interger\n    if(/^[0-9]+$/.test(blockPath)){\n      return parseInt(blockPath, 10)\n    }\n    \n    //remove ''\n    if(/^\\'.*\\'$/.test(blockPath) || /^\\\".*\\\"$/.test(blockPath)){\n      blockPath = blockPath.substring(1, blockPath.length - 1)\n    }\n    return blockPath\n  }\n\n  return function (pathParam){\n    if(isArray(pathParam)){\n      return pathParam\n    }\n  \n    if(likeString(pathParam)){\n      if(isNumber(pathParam)){\n        return [pathParam]\n      }\n    \n      if(typeof pathParam === \"string\"){\n        //one depth\n        if(!/\\.|\\[/.test(pathParam)){\n          return [pathParam]\n        }\n        \n        //multiple depth\n        const { props:{ path:result } } = readString(pathParam, [\".\", \"[\"], ({\n          content, props:{ path }, matchExp, castStart, castEnd, skipSize, enter, next\n        })=>{\n          if(matchExp === \".\"){\n            skipSize && path.push(content.substr(castStart, skipSize))\n            next()\n          }\n          if(matchExp === \"[\"){\n            let stackCount = 0\n          \n            if(skipSize){\n              path.push(__filterDotPath(content.substr(castStart, skipSize), castStart !== 0))\n            }\n          \n            enter([\"[\", \"]\"], ({ matchExp, castStart, castEnd, more, exit })=>{\n              if(matchExp === \"[\") stackCount++\n              if(matchExp === \"]\") stackCount--\n              if(matchExp === null) return\n              if(stackCount === 0){\n                path.push(__filterBlockPath(content.substring(castStart, castEnd)))\n                exit()\n              } else {\n                more()\n              }\n            })\n          }\n          if(matchExp === null){\n            path.push(__filterDotPath(content.substr(castStart, castEnd), castStart !== 0))\n          }\n        }, { path: [] })\n      \n        return result\n      }\n    }\n    return []\n  }\n}())\n\nexport const get = function (target, path, defaultValue){\n  if(typeof target === \"object\"){\n    switch (typeof path){\n      case \"number\": path += \"\"\n      case \"string\":\n        path = readPath(path)\n      case \"object\":\n        if(isArray(path)){\n          const allget = all(path, (name)=>{\n            if(likeObject(target) && (target.hasOwnProperty(name) || target[name])){\n              target = target[name]\n              return true\n            } else {\n              return false\n            }\n          })\n          return allget ? target : defaultValue\n        } else {\n          return\n        }\n        break\n      case \"function\": return path.call(this, target)\n    }\n  } else if(typeof target === \"function\"){\n    return target.apply(this, Array.prototype.slice.call(arguments, 1))\n  }\n  return target\n}\n\nexport const hasProperty = function (target, pathParam){\n  return all(readPath(pathParam), path=>{\n    if(likeObject(target) && likeString(path) && target.hasOwnProperty(path)){\n      target = target[path]\n      return true\n    }\n    return false\n  })\n}\n\nexport const hasValue = (function (){\n  const defaultObjectValueFunc = function (object, value){\n    return object === value\n  }\n    \n  const functionKeyObjectValueProc = function (functionKey){\n    return function (object, value){\n      return Boolean(functionKey(object, value))\n    }\n  }\n    \n  const selectKeyObjectValueProc = function (leftSelect, rightSelect){\n    var useLeftSelector  = (typeof leftSelect === \"string\" || typeof leftSelect === \"number\")\n    var useRightSelector = leftSelect === rightSelect ? useLeftSelector : (typeof rightSelect === \"string\" || typeof rightSelect === \"number\")\n        \n    return function (object, value){\n      if(useLeftSelector && !object.hasOwnProperty(leftSelect)) return false\n      if(useRightSelector && !value.hasOwnProperty(rightSelect)) return false\n            \n      return (useLeftSelector ? get(object, leftSelect) : object) === (useRightSelector ? get(value, rightSelect) : value)\n    }\n  }\n    \n  return function (obj, value, key, getKey){\n    if(typeof key === \"boolean\"){\n      if(typeof getKey !== \"boolean\"){\n        getKey = key\n      }\n      key = void 0\n    }\n        \n    if(obj === value){\n      return true\n    } else if(likeObject(obj)){\n      if(value === (void 0) && key === (void 0)) return !isEmpty(obj)\n            \n      var proc\n            \n      if(key){\n        if(typeof key === \"function\"){\n          proc = functionKeyObjectValueProc(key)\n        } else if(isArray(key) && key.length > 1){\n          proc = selectKeyObjectValueProc(key[0], key[1])\n        } else if(typeof key === \"string\" || typeof key === \"number\"){\n          proc = selectKeyObjectValueProc(key, key)\n        }\n      } else {\n        proc = defaultObjectValueFunc\n      }\n            \n      if(isArray(obj)){\n        for(var i = 0, l = obj.length; i < l; i++) if(proc(obj[i], value)) return getKey ? i : true\n      } else {\n        for(var objKey in obj) if(obj.hasOwnProperty(objKey) && proc(obj[objKey], value)) return getKey ? objKey : true \n      }\n    }\n        \n    return getKey ? void 0 : false\n  }\n}())\n\nexport const readDown = function (rootValue, readFn, rootParam){\n  const enterScope = (value, depth, param)=>isArray(value) ? arrayScope(value, depth, param) : isObject(value) ? objectScope(value, depth, param) : primitiveScope(value, depth, param)\n  \n  const arrayScope = (array, depth, param)=>{\n    return readFn({\n      type : \"array\",\n      value: array,\n      key  : null,\n      depth,\n      param,\n      enter: (param)=>{\n        const childrenDepth = depth + 1\n        return Array(array.length).fill(void 0).map((v, i)=>i).map(key=>{\n          const value = array[key]\n          return enterScope(value, childrenDepth, param)\n        })\n      }\n    })\n  }\n  \n  const objectScope = (object, depth, param)=>{\n    return readFn({\n      type : \"object\",\n      value: object,\n      key  : null,\n      depth,\n      param,\n      enter: (param)=>{\n        const childrenDepth = depth + 1\n        return Object.keys(object).map(key=>{\n          const value = object[key]\n          return readFn({\n            type : \"hash\",\n            key,\n            value,\n            depth,\n            param,\n            enter: (param)=>enterScope(value, childrenDepth, param)\n          })\n        })\n      }\n    })\n  }\n  \n  const primitiveScope = (value, depth, param)=>{\n    readFn({\n      type : \"value\",\n      key  : null,\n      value,\n      depth,\n      param,\n      enter: (param)=>param\n    })\n  }\n  \n  enterScope(rootValue, 0, rootParam)\n  return rootParam\n}\n","import { \n  isNone,\n  likeString,\n  isNumber,\n  likeRegexp,\n  isObject,\n  isArray,\n  likeArray,\n  likeObject,\n  isPlainObject,\n  isEqual\n} from './isLike'\n\nimport {\n  get,\n  hasValue\n} from './read'\n\nimport {\n  clone,\n  unique,\n  asArray\n} from './cast'\n\n\nexport const fallback = function (value, fallbackFn, ...args){\n  return typeof value === \"undefined\" ? fallbackFn(...args) : value\n}\n\nexport const valueOf = function (value, ...args){\n  return typeof value === \"function\" ? value(...args) : value\n}\n\nexport const stringTest = function (string, rule, meta){\n  if(!likeString(string)) return false\n  if(typeof rule === \"undefined\") return true\n  return typeof rule === \"function\" ? Boolean(rule(string, meta))\n    : likeString(rule) ? (string + '').indexOf(rule + '') > -1\n    : rule instanceof RegExp ? rule.test(string)\n    : isArray(rule) ? rule.some(filterKey=>filterKey === string)\n    : false\n}\n\nexport const keys = function (target, filterExp, strict){\n  const result = []\n  \n  if(!likeObject(target)){\n    return result\n  }\n  \n  if(strict === true ? isArray(target) : likeArray(target)){\n    Object.keys(target).filter(key=>{ \n      if(isNaN(key)) return\n      const numberKey = parseInt(key, 10)\n      stringTest(numberKey, filterExp, target[key]) && result.push(parseInt(numberKey, 10)) \n    })\n  } else if((strict === true ? isPlainObject(target) : likeObject(target))){\n    Object.keys(target).forEach(key=>{ \n      stringTest(key, filterExp, target[key]) && result.push(key) \n    })\n  }\n  \n  return result\n}\n\n\nexport const deepKeys = (function (){\n  const nestedDeepKeys = function (target, filter, scope, total){\n    if(typeof target === \"object\"){\n      keys(target, (key)=>{\n        const child  = target[key]\n        const useKey = filter(child, key, scope.length)\n        if(!useKey){\n          return\n        }\n        const currentScope = clone(scope)\n        currentScope.push(key)\n        total.push(currentScope)\n        nestedDeepKeys(child, filter, currentScope, total)\n      }, true)\n    }\n  }\n  \n  return function (target, filter){\n    const result = []\n    nestedDeepKeys(target, filter ? (child, key)=>{ filter(child, key) } : ()=>true, [], result)\n    return result\n  }\n}())\n\nexport const entries = function (it){\n  const result = []\n  switch (typeof it){\n    case \"object\":\n      // eslint-disable-next-line no-unused-expressions\n      isNone(it) ? 0\n        : likeArray(it) ? asArray(it).forEach((v, k)=>{ result.push([k, v]) })\n        : Object.keys(it).forEach(key=>{ result.push([key, it[key]]) })\n      break\n  }\n  return result\n}\n\n//remark.spec.js\nexport const matchString = (it, search, at = 0)=>{\n  if(typeof it !== \"string\") throw new Error(`matchString :: worng argument ${it}`)\n  if(typeof search === \"string\") search = search.replace(new RegExp(\"(\\\\.|\\\\[|\\\\])\", \"g\"), s=>`\\\\${s}`)\n  const result = it.substr(at).match(search)\n  return result ? [result.index + at, result[0].length] : [-1, 0]\n}\n\nexport const findIndex = (function (){\n  const __find_string = (it, search, at)=>it.indexOf(search, at)\n  const __find_regexp = (it, search, at)=>{\n    let i = it.substring(at || 0).search(search)\n    return (i >= 0) ? (i + (at || 0)) : i\n  }\n  return (it, search, at)=>((search instanceof RegExp) ? __find_regexp : __find_string)(it, search, at)\n}())\n\n//remark.spec.js\nexport const findIndexes = (function (){\n  return function (c, s, at){\n    if(typeof c === \"string\" || typeof c === \"number\"){\n      var idxs = []; var s = likeRegexp(s) ? s : s + \"\"; var at = (!at || !isNumber(at) || at < 0) ? 0 : at; var next\n      do {\n        let i = findIndex(c, s, at)\n        if(i > -1){\n          at = (s.length || 1) + i\n          idxs.push(i) \n          next = true\n        } else {\n          next = false\n        }\n      } while(next)\n      return idxs\n    }\n  }\n}())\n\n\n//TODO: Union hasValue\nconst NESTED_HAS_PROC = function (obj, key){\n  var keys = key.split(\".\")\n  if(!keys.length) return false\n\n  var pointer = obj\n  for(var ki in keys){\n    var k = keys[ki]\n\n    if(!pointer.hasOwnProperty(k)){\n      return false\n    } else {\n      pointer = pointer[k]\n    }\n  }\n  return true\n}\n\nexport const diffStructure = function (before, after){\n  var afterKeys = Object.keys(after)\n  var beforeKeys\n  var canDiff = false\n  if(isObject(before)){\n    if(isArray(before)){\n      beforeKeys = before\n    } else {\n      beforeKeys = Object.keys(before)\n      canDiff = true\n    }\n  } else {\n    beforeKeys = []\n  }\n\n  var analysis = {\n    after  : after,\n    before : before,\n    keys   : unique(afterKeys.concat(beforeKeys)).reduce((dest, key)=>{ dest[key] = undefined; return dest }, {}),\n    match  : [],\n    missing: [],\n    surplus: [],\n    diff   : [],\n    pass   : false\n  }\n  \n  //match, missing\n  for(var ki in beforeKeys){\n    if(!beforeKeys.hasOwnProperty(ki)) continue\n      \n    var key = beforeKeys[ki]\n      \n    if(NESTED_HAS_PROC(after, key)){\n      analysis.match.push(key)\n      analysis.keys[key] = \"match\"\n\n      if(canDiff && !isEqual(get(after, key), get(before, key))){\n        analysis.diff.push(key)\n        analysis.keys[key] = \"diff\"\n      }\n    } else {\n      analysis.surplus.push(key)\n      analysis.keys[key] = \"surplus\"\n    }\n  }\n\n  //surplus\n  asArray(afterKeys).forEach(key=>{\n    if(!hasValue(analysis.match, key)){\n      analysis.missing.push(key)\n      analysis.keys[key] = \"missing\"\n    }\n  })\n\n  //absolute\n  analysis.pass = !analysis.missing.length && !analysis.surplus.length\n\n  return analysis\n}\n","import {\n  isNumber,\n  isArray,\n  isNone,\n  isAbsoluteNaN,\n  isPlainObject,\n  isObject,\n  isFunction,\n  isNode\n} from './isLike'\n\nimport {\n  stringTest,\n  keys\n} from './remark'\n\nexport const asArray = function (data, defaultArray = undefined){\n  if(isArray(data)){\n    return data\n  }\n  if(isNone(data)){\n    return isArray(defaultArray) ? defaultArray\n      : isNone(defaultArray) ? [] : [defaultArray]\n  }\n  if(typeof data === \"object\" && typeof data.toArray === \"function\"){\n    return data.toArray()\n  }\n  return [data]\n}\n\nexport const toArray = function (data, option){\n  if(typeof data === \"undefined\" || data === null || isAbsoluteNaN(data)) return []\n  if(isArray(data)) return Array.prototype.slice.call(data)\n  if(typeof data === \"object\" && typeof data.toArray === \"function\") return data.toArray()\n  if(typeof data === \"string\" && typeof option === \"string\") return data.split(option)\n  return [data]\n}\n\nexport const asObject = function (data, defaultKey = \"default\"){\n  if(isPlainObject(data)){\n    return data\n  } else {\n    return { [defaultKey]: data }\n  }\n}\n\nexport const toNumber = function (v, d){\n  switch (typeof v){ case \"number\":return v; case \"string\":const vr = v.replace(/[^.\\d\\-]/g, \"\") * 1; return isAbsoluteNaN(vr) ? 0 : vr; break }\n  switch (typeof d){ case \"number\":return d; case \"string\":const dr = d * 1; return isAbsoluteNaN(dr) ? 0 : dr; break }\n  return 0\n}\n\nexport const cleanObject = function (data){\n  if(data instanceof Array){\n    Array.prototype.splice.call(data, 0, data.length)\n  } else if(typeof data == \"object\"){\n    Object.keys(data).forEach(key=>{ delete data[key] })\n  }\n  return data\n}\n\nexport const clone = function (target){\n  switch (typeof target){\n    case \"undefined\": case \"function\": case \"boolean\": case \"number\": case \"string\": return target; break\n    case \"object\":\n      if(target === null) return target\n    \n      if(isArray(target)){\n        let r = []\n        for(let i = 0, length = target.length; i < length; i++)r.push(target[i])\n        return r\n      }\n    \n      if(!isPlainObject(target)){\n        if(target instanceof Date){\n          let r = new Date()\n          r.setTime(target.getTime())\n          return r\n        }\n        return target\n      }\n    \n      let r = {}\n    \n      Object.keys(target).forEach(k=>{\n        if(target.hasOwnProperty(k)) r[k] = target[k]\n      })\n      return r\n      break\n    default : \n      console.error(\"clone::copy failed : target => \", target)\n      return target \n      break\n  }\n}\n\nexport const cloneDeep = function (target){\n  if(typeof target === \"object\"){\n    let d\n    if(isArray(target)){\n      if(!isArray(d)){ d = [] };\n      for(var i = 0, l = target.length; i < l; i++) d.push(((typeof target[i] === \"object\" && target[i] !== null) ? clone(target[i]) : target[i]))\n      return d\n    } else {\n      d = {}\n      Object.keys(target).forEach(p=>{\n        (typeof target[p] === \"object\" && target[p] !== null && d[p]) ? clone(target[p], d[p]) : d[p] = target[p]\n      })\n      return d\n    }\n  } else {\n    return clone(target)\n  }\n}\n\nconst getKeyWithValue = function (obj, value){\n  if(isArray(obj)){\n    for(var i = 0, l = obj.length; i < l; i++) if(obj[i] === value) return i\n  } \n  if(isObject(obj)){\n    for(var key in obj) if(obj[key] === value) return key\n  }\n  return undefined\n}\n\nexport const removeValue = function (obj, value){\n  var detect = true\n  var array  = isArray(obj)\n\n  while(detect){\n    var key = getKeyWithValue(obj, value)\n    if(typeof key === \"undefined\"){\n      detect = false\n    } else {\n      if(array){\n        obj.splice(key, 1)\n      } else {\n        delete obj[key]\n      }\n    }\n  }\n\n  return obj\n}\n\n\n// Only one unique value is left.\nexport const unique = function (array, findKey){\n  const result    = []\n  const uniqueSet = new Set()\n  if(typeof findKey === \"undefined\"){ findKey = (v)=>v }\n  if(typeof findKey === \"string\"){ const keyPath = findKey; findKey = (v)=>v[keyPath] }\n  array.forEach((v)=>{\n    const key = findKey(v)\n    if(uniqueSet.has(key)) return\n    uniqueSet.add(key)\n    result.push(v)\n  })\n  return result\n}\n\nexport const getKeyBy = function (object, value){\n  if(isFunction(value)){\n    if(isArray(object)) for(var i = 0, l = object.length; i < l; i++) if(value(object[i], i) === true) return i\n    if(isObject(object)) for(var key in object) if(value(object[key], key) === true) return key\n  } else {\n    if(isArray(object)) for(var i = 0, l = object.length; i < l; i++) if(object[i] === value) return i\n    if(isObject(object)) for(var key in object) if(object[key] === value) return key\n  }\n}\n\n// Change the positions of the specified indexes in the array\nexport const moveOf = function (data, oldIndex, newIndex){\n  data = asArray(data)\n  oldIndex !== newIndex && \n  isNumber(oldIndex) &&\n  isNumber(newIndex) &&\n  oldIndex >= 0 && oldIndex < data.length && \n  Array.prototype.splice.call(data, newIndex > data.length ? data.length : newIndex, 0, Array.prototype.splice.call(data, oldIndex, 1)[0])\n  return data\n}\nexport const move = (data, oldIndex, newIndex)=>moveOf(toArray(data), oldIndex, newIndex)\n\n\n// Supports self concat.\nconst baseConcatOf = (data, args)=>{\n  const result = asArray(data)\n  return (args.forEach(data=>{ asArray(data).forEach(value=>{ result.push(value) }) }), result)\n}\nexport const concatOf = (data, ...args)=>baseConcatOf(data, args)\nexport const concat = (data, ...args)=>baseConcatOf(toArray(data), args)\n\n\n// Removes the value of data that does not return a positive value to the filter function.\nexport const filterOf = function (data, filterFn, exitFn){\n  const dataArray = asArray(data)\n  const dataKeys = keys(data)\n  const isOnExit = typeof exitFn === \"function\"\n  const exitArray = isOnExit ? [] : null\n  for(let i = 0, removedIndex = 0, l = dataKeys.length; i < l; i++, removedIndex++){\n    const datumKey = dataKeys[i]\n    const datum = dataArray[datumKey]\n    if(filterFn(datum, datumKey) !== true){\n      const exitDatum = dataArray.splice(i, 1)\n      i--\n      l--\n      isOnExit && exitArray.push([removedIndex, exitDatum])\n    }\n  }\n  isOnExit && exitFn(exitArray, dataArray)\n  return dataArray\n}\nexport const filter = (data, func, exitFn)=>filterOf(toArray(data), func, exitFn)\n\n\n// Put the specified value in the specified index.\nexport const insertOf = function (data, v, a){\n  data = asArray(data)\n  return (data.splice(typeof a === \"number\" ? a : 0, 0, v), data)\n}\nexport const insert = (data, v, a)=>insertOf(toArray(data), v, a)\n\n\n// Removes all contents of an array or object.\nexport const clearOf = function (data, fillFn, sp){\n  if(isArray(data)){\n    sp = Array.prototype.splice.call(data, 0, data.length)\n  } else if(typeof data == \"object\"){\n    sp = {}\n    for(var key in data){ sp[key] = data[key]; delete data[key] } \n  }\n  return (fillFn && fillFn(data, sp)), data\n}\n\n// sort\nexport const sortOf = function (data, filter){\n  if(data.length == 0){\n    return data\n  }\n  \n  switch (filter){\n    case 'desc':\n      filter = function (a, b){ return a > b }\n      break\n    case undefined:\n    case 'asc':\n    default:\n      if(typeof filter !== \"function\"){\n        filter = function (a, b){ return a < b }\n      }\n      break\n  }\n\n  var result = [data[0]]\n\n  for(var i = 1, l = data.length; i < l; i++){\n    for(var ri = 0, rl = result.length; ri < rl; ri++){\n      if(filter(data[i], result[ri]) === true){\n        insertOf(result, data[i], ri)\n        break\n      }\n      if((ri + 1) === result.length){\n        result.push(data[i])\n      }\n    }\n  }\n\n  clearOf(data)\n\n  for(var i = 0, l = result.length; i < l; data.push(result[i]), i++);\n  \n  return data\n}\n\nexport const sort = (data, filter)=>sortOf(toArray(data), filter)\n\n// If have defined multiple key names in one hash, change them appropriately.\n// rebase({ \"a,b\":1 }) => { \"a\":1, \"b\":1 }\nexport const rebase = function (obj, ref){\n  var result = {}\n  for(var key in obj){\n    if(key === \".*\"){\n      var refValue = obj[key]\n      for(var i = 0, d = Object.keys(ref), l = d.length; i < l; i++){\n        var refKey = d[i]\n        if(typeof refValue === \"function\"){\n          result[refKey] = obj[key]\n        } else {\n          if((typeof refValue !== \"object\" && typeof refValue !== \"object\") || isNode(refValue)){\n            result[refKey] = refValue\n          } else {\n            result[refKey] = Object.assign(result[refKey], refValue)\n          }\n        }\n      }\n    } else if(key.indexOf(\",\") > -1){\n      key.split(\",\").forEach(deepKey=>{\n        deepKey = deepKey.trim()\n        if(typeof obj[key] === \"function\"){\n          result[deepKey] = obj[key]\n        } else {\n          if((!result.hasOwnProperty(deepKey) && typeof obj[key] !== \"object\") || isNode(obj[key])){\n            result[deepKey] = obj[key]\n          } else {\n            result[deepKey] = Object.assign(result[deepKey] || (isArray(obj[key]) ? [] : {}), obj[key], obj[deepKey])\n          }\n        }\n      })\n    } else {\n      if(typeof obj[key] === \"function\"){\n        result[key] = obj[key]\n      } else {\n        if((typeof result[key] !== \"object\" && typeof obj[key] !== \"object\") || isNode(obj[key])){\n          result[key] = obj[key]\n        } else {\n          result[key] = Object.assign(result[key], obj[key])\n        }\n      }\n    }\n  }\n  return result\n}\n\nconst removeKey = function (datum, rule){\n  if(!isObject(datum)) return datum\n  const removeRule = typeof rule === \"function\" ? (key, value)=>rule(value, key) : rule\n  const removeKeys = keys(datum, removeRule)\n  if(!removeKeys.length) return datum\n  \n  isArray(datum)\n    ? removeKeys.forEach((originalIndex, offset)=>{\n      const removeIndex = originalIndex - offset\n      datum.splice(removeIndex, 1)\n    })\n    : removeKeys.forEach(key=>{ delete datum[key] })\n\n  return datum\n}\n\n// If the rule matches the rule, remove the key\nexport const omitOf = (datum, rule)=>removeKey(datum, rule)\nexport const omit = (datum, rule)=>omitOf(clone(datum), rule)\n\n// If the rule matches the rule, preserve the key.\nexport const pickOf = (datum, rule)=>removeKey(datum, (value, key)=>!stringTest(key, rule, value))\nexport const pick = (datum, rule)=>pickOf(clone(datum), rule)\n\n// Remove the key that has a value of undefined\n//const COMPACT_MATCH_FN = value=>typeof value !== \"undefined\"\nconst COMPACT_MATCH_FN = value=>{\n  return typeof value === \"undefined\"\n}\nexport const compactOf = (datum)=>omitOf(datum, COMPACT_MATCH_FN)\nexport const compact = (datum)=>compactOf(clone(datum))\n\n// Clears key values starting with $\nconst FREE_MATCH_EXPRESSION = /^\\$/\nexport const freeOf = (datum)=>omitOf(datum, FREE_MATCH_EXPRESSION)\nexport const free = (datum)=>freeOf(clone(datum))\n\n// Remove the key that begins with $ or has a value of undefined.\nexport const purgeOf = (datum)=>omitOf(datum, (value, key)=>FREE_MATCH_EXPRESSION.test(key) || COMPACT_MATCH_FN(value))\nexport const purge = (datum)=>purgeOf(clone(datum))\n\nexport const instance = function (func, proto){\n  var ins; var DummyInstance = function (param){ if(typeof param === \"object\") for(var k in param) this[k] = param[k] }\n  if(typeof func == \"object\"){\n    if(typeof proto === \"object\") DummyInstance.prototype = proto\n    ins = new DummyInstance(func)\n  }\n  if(typeof func == \"function\"){\n    if(typeof proto === \"object\") func.prototype = proto\n    ins = (new func())\n  }\n  return ins\n}\n\nexport const alloc = function (init){\n  let fn = init()\n  const rn = function (...args){\n    return fn.apply(this, args)\n  }\n  rn['reset'] = function (){ fn = init(rn, rn) }\n  rn['$constructor'] = fn\n  return rn\n}\n\n// TODO\n/*\nconst syncData = (function (){\n  const ENTER_HOOK  = (newDatum)=>Object.assign({}, newDatum)\n  const UPDATE_HOOK = (oldDatum, newDatum)=>Object.assign({}, oldDatum, newDatum)\n  \n  return function (oldData, newData, getId, options){\n    if(!/string|function/.test(typeof getId)) throw new Error(\"syncData need getId\")\n  \n    if(typeof getId === \"string\"){\n      const getIdString = getId\n      getId = e=>_.get(e, getIdString)\n    }\n\n    oldData = asArray(oldData)\n    newData = asArray(newData)\n\n    const result = []\n    const hooks  = asObject(options, \"afterEach\")\n    \n    if(typeof hooks[\"enter\"] !== \"function\"){\n      hooks[\"enter\"] = ENTER_HOOK\n    }\n    \n    if(typeof hooks[\"update\"] !== \"function\"){\n      hooks[\"update\"] = UPDATE_HOOK\n    }\n    \n    const oldDataMap = _.map(oldData, e=>{\n      return { id: getId(e), ref: e }\n    })\n    \n    \n    asArray(newData).forEach((newDatum, i)=>{\n      const newId = getId(newDatum)\n      \n      let oldDatum = _.get(oldDataMap[_.findIndex(oldDataMap, e=>e.id === newId)], \"ref\")\n      let genDatum\n      let dirty = false\n      // eslint-disable-next-line no-undef\n      if(oldDatum){\n        // change is not dirty, modify is dirty\n        if(typeof oldDatum !== typeof newDatum){\n          dirty = false\n        } else { // same type\n          const oldOwnKeys = Object.keys(oldDatum).filter(key=>!(key.indexOf(\"$\") === 0))\n          const newOwnKeys = Object.keys(newDatum).filter(key=>!(key.indexOf(\"$\") === 0))\n\n          // inspect key chnage\n          if(_.isEqual(oldOwnKeys, newOwnKeys)){\n            dirty = !_.isEqual(_.pick(oldDatum, oldOwnKeys), _.pick(newDatum, newOwnKeys))\n          } else {\n            dirty = true\n          }\n        }\n        \n        if(typeof hooks[\"beforeUpdate\"] === \"function\"){\n          if(hooks[\"beforeUpdate\"](oldDatum, newDatum) === false){\n            return\n          }\n        }\n        \n        genDatum = hooks[\"update\"](oldDatum, newDatum)\n        \n        if(typeof hooks[\"afterUpdate\"] === \"function\"){\n          genDatum = hooks[\"afterUpdate\"](genDatum, oldDatum, newDatum)\n        }\n      } else {\n        if(typeof hooks[\"beforeEnter\"] === \"function\"){\n          if(hooks[\"beforeEnter\"](newDatum) === false){\n            return\n          }\n        }\n        \n        genDatum = hooks[\"enter\"](newDatum)\n        \n        if(typeof hooks[\"afterEnter\"] === \"function\"){\n          genDatum = hooks[\"afterEnter\"](genDatum, newDatum)\n        }\n      }\n\n      if(typeof hooks[\"afterEach\"] === \"function\"){\n        hooks[\"afterEach\"](genDatum, i, dirty)\n      }\n\n      result.push(genDatum)\n    })\n\n    return result\n  }\n}())\n*/\n","import {\n  asArray\n} from './cast'\n\nimport { \n  isNumber\n} from './isLike'\n\nexport const fill = function (collection, fillLength, emptyDefault = undefined){\n  const data = asArray(collection)\n  let dataLength = data.length\n  \n  fillLength = isNumber(fillLength) ? fillLength : 0\n  const fillFn = typeof emptyDefault !== \"function\" ? ()=>emptyDefault : emptyDefault\n  \n  for(let i = 0, l = fillLength - dataLength; i < l; data.push(fillFn(dataLength++, i++)));\n  \n  return collection\n}\n","import { \n  isNumber\n} from '../isLike'\n\nimport {\n  asArray\n} from '../cast'\n\nimport {\n  fill\n} from '../reform'\n\nexport const baseCut = function (collection, cutLength, emptyDefault, useFill){\n  let data = asArray(collection); let rest\n  cutLength = isNumber(cutLength) ? cutLength : 1\n  \n  if(data.length > cutLength){\n    rest = data.splice(cutLength, Number.POSITIVE_INFINITY)\n    return [data, rest]\n  }\n  \n  useFill === true && (data = fill(data, cutLength, emptyDefault))\n  return [data, []]\n}\n","import {\n  baseCut\n} from './reduce.base'\n\nimport { \n  isInfinity,\n  isNumber\n} from '../isLike'\n\nimport {\n  asArray\n} from '../cast'\n\nimport {\n  get\n} from '../read'\n\n\nexport const cut = function (collection, cutLength, fillContent){\n  const useFill = arguments.length > 2\n  return baseCut(collection, cutLength, fillContent, useFill)[0]\n}\n\nexport const cuts = function (collection, cutLength, fillContent){\n  const result = []\n  let rest = collection\n  let rowIndex = 0\n  const enumFn = typeof fillContent !== \"function\" ? ()=>fillContent : (index)=>fillContent(rowIndex * cutLength + index, index, rowIndex)\n  const useFill = arguments.length > 2\n  \n  do {\n    ([collection, rest] = baseCut(rest, cutLength, enumFn, useFill))\n    result.push(collection)\n    rowIndex++\n  } while(rest.length > 0)\n  return result\n}\n\n//reduce.spec.js\nexport const top = function (data, iteratee, topLength){\n  switch (typeof iteratee){\n    case \"function\":\n    //iteratee=iteratee;\n      break\n    case \"string\":\n      const path = iteratee\n      iteratee = (a, b)=>get(a, path) < get(b, path)\n      break\n    case \"boolean\":\n      iteratee = iteratee ? (a, b)=>a < b : (a, b)=>a > b\n      break\n    default:\n      iteratee = (a, b)=>a < b\n      break\n  }\n  \n  if(typeof topLength === \"boolean\"){\n    topLength = topLength ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY\n  }\n  \n  return isNumber(topLength) || isInfinity(topLength)\n    ? asArray(data).sort((a, b)=>iteratee(a, b)).splice(0, topLength)\n    : asArray(data).sort((a, b)=>iteratee(a, b))[0]\n}\n","import { isNumber, isArray, isAbsoluteNaN } from './isLike'\nimport { asArray } from './cast'\n\nexport const limitNumber = (function (){\n  const limitOf = function (number, max, min){\n    if(typeof number == \"number\"){\n      if(isAbsoluteNaN(number) || number === Infinity){\n        return min\n      }\n      if(isNumber(min) && (number < min)){\n        return min\n      }\n      if(isNumber(max) && (number > max)){\n        return max\n      }\n    }\n    return number\n  }\n  const limitNumber = function (numbers, max, min){\n    if(typeof max !== \"number\"){ max = Number.POSITIVE_INFINITY }\n    if(typeof min !== \"number\"){\n      if(min === null || isAbsoluteNaN(min)){\n        min = Number.NEGATIVE_INFINITY\n      } else {\n        min = 0\n      }\n    }\n    if(isArray(numbers)){\n      for(var d = numbers, i = 0, l = d.length; i < l; i++){\n        d[i] = limitOf(d[i], max, min)\n      }\n      return numbers\n    } else {\n      return limitOf(numbers, max, min)\n    }\n  }\n  return limitNumber\n}())\n\nexport const accurateTimeout = (function (originalTimeout){\n  return function (trigger, time = 0, resolutionRatio = 0.75, coverage = 25){\n    let destTime = Date.now() + time\n    \n    if(!isNumber(time)){\n      time = 0\n    }\n    \n    if(!isNumber(resolutionRatio)){\n      resolutionRatio = 0.75\n    }\n    \n    if(!isNumber(coverage)){\n      resolutionRatio = 25\n    }\n    \n    if(resolutionRatio > 1){\n      resolutionRatio = 1\n    }\n        \n    if(resolutionRatio < 0.1){\n      resolutionRatio = 0.1\n    }\n    \n    if(coverage < 5){\n      coverage = 5\n    }\n        \n    function preparation (restTime){\n      const preparaTime = Math.floor(restTime * resolutionRatio)\n      originalTimeout(execution, preparaTime)\n    }\n        \n    function execution (){\n      const restTime = destTime - Date.now()\n        \n      if(restTime < coverage){\n        if(restTime < 1){\n          originalTimeout(trigger, 0)\n        } else {\n          originalTimeout(trigger, restTime)\n        }\n      } else {\n        preparation(restTime)\n      }\n    }\n    \n    execution()\n  }\n}(setTimeout))\n\nexport const turn = function (i, limit, ts, resultHook){\n  if(i < 0){ \n    let abs = Math.abs(i / ts) \n    i = limit - (abs > limit ? abs % limit : abs)\n  }\n  ts = typeof ts === \"number\" ? ts : 1\n  const fixIndex = Math.floor(i / ts)\n  const result = (limit > fixIndex) ? fixIndex : fixIndex % limit\n  return typeof resultHook === \"function\" ? resultHook(result, i, limit, ts) : result\n}\n\nexport const turnTime = function (i, limit, ts){\n  return turn(i, limit, ts, (result, i, limit, ts)=>[result, Math.floor(i / (limit * ts))])\n}\n\nexport const toggle = function (toggleArgs, currentValue, step = 1){\n  return (toggleArgs = asArray(toggleArgs)) && toggleArgs[(toggleArgs.findIndex(val=>val === currentValue) + step) % toggleArgs.length]\n}\n","import { asArray, cloneDeep } from './cast'\nimport { likeArray, isNumber, isAbsoluteNaN } from './isLike'\nimport { top } from './reduce'\nimport { turn, limitNumber } from './nice'\nimport { hashMap, times } from './enumerable'\n\nexport const rangeModel = function (value, step, sizeBase){\n  let start, end, reverse\n  \n  if(typeof value === \"number\"){\n    end = value\n    start = 0\n  } else if(typeof value === \"object\"){\n    start = value[0]\n    end = value[1]\n      \n    if(!step && typeof value[2] === \"number\"){\n      step = value[2]\n    }\n      \n    if(typeof sizeBase !== \"boolean\"){\n      sizeBase = false\n    }\n  }\n  \n  /*\n  if(typeof start !== \"number\" || typeof end !== \"number\"){\n    if(typeof start !== \"number\" && typeof end !== \"number\") return r\n    if(typeof start === \"number\") return r.push(start), r\n    if(typeof end === \"number\") return r.push(end), r\n  }\n  */\n  \n  if(start > end){\n    reverse = end\n    end = start\n    start = reverse\n    reverse = true\n  }\n  \n  end = parseFloat(end)\n  end = isAbsoluteNaN(end) ? 0 : end\n  start = parseFloat(start)\n  start = isAbsoluteNaN(start) ? 0 : start\n  step = parseFloat(step)\n  step = isAbsoluteNaN(step) || step == 0 ? 1 : step\n  \n  return {\n    start,\n    end,\n    step,\n    reverse,\n    sizeBase\n  }\n}\n\nexport const range = function (value, stepSize, sizeBaseRange){\n  let r = []\n  let {\n    start,\n    end,\n    step,\n    reverse,\n    sizeBase\n  } = rangeModel(value, stepSize, sizeBaseRange)\n  \n  if(step <= 0){ return console.warn(\"range::not support minus step\"), r };\n  if(sizeBase == false){ for(var i = start, l = end; i <= l; i = i + step) r.push(i) } else { for(var i = start, l = end; i < l; i = i + step) r.push(i) }\n  return reverse ? r.reverse() : r\n}\n\nexport const domainRangeValue = function (domain, range, vs, nice, limit){\n  return hashMap(cloneDeep(vs), function (v, sel){\n    const $range  = sel ? range[sel] : range\n    const $domain = sel ? domain[sel] : domain\n    if(!$range || !$domain){ return v }\n                    \n    const dSize = $domain[1] - $domain[0]\n    const sSize = $range[1] - $range[0]\n    const dRate = (v - $domain[0]) / dSize\n    const calc  = $range[0] + sSize * dRate\n    const result = nice ? Math.floor(calc) : calc\n    \n    return limit \n      ? $range[1] > $range[0] \n        ? limitNumber(result, $range[1], $range[0])\n        : limitNumber(result, $range[0], $range[1])\n      : result\n  })\n}\n\nexport const domainRangeInterpolate = function (domain, range, nice, limit){\n  let _domain = domain\n  let _range  = range\n  let _nice   = nice\n  \n  const interpolate = (value)=>domainRangeValue(_domain, _range, value, _nice, limit)\n  \n  interpolate.domain = (domain)=>{\n    _domain = domain\n    return interpolate\n  }\n  interpolate.range = (range)=>{\n    _range = range\n    return interpolate\n  }\n  interpolate.nice = (nice)=>{\n    _nice = nice\n    return interpolate\n  }\n  \n  return interpolate\n}\n\n//matrixRange([1],[3]) // [[1], [2], [3]] \n//matrixRange([1,1],[3,3]) // [[1, 1], [2, 1], [3, 1], [1, 2], [2, 2], [3, 2], [1, 3], [2, 3], [3, 3]]\n\nexport const matrixRange = function (start, end, step, sizeBase){\n  var scales = []\n  var maxLength = top([start.length, end.length])\n    \n  var selectLengthes = times(maxLength, function (scaleIndex){\n    const rangeResult = range([start[scaleIndex], end[scaleIndex]], step, sizeBase)\n    scales.push(rangeResult)\n    return rangeResult.length\n  })\n\n  var result = times(selectLengthes.reduce(function (redu, value){\n    return redu * value\n  }, 1), function (){ return new Array(maxLength) })\n    \n  var turnSize = 1\n  \n  \n  asArray(scales).forEach((scaleCase, scaleIndex)=>{\n    var scaleCaseLength = scaleCase.length\n    times(result.length, function (time){\n      result[time][scaleIndex] = scaleCase[turn(time, scaleCaseLength, turnSize)]\n    })\n    turnSize = turnSize * scaleCaseLength\n  })\n    \n  return result\n}\n\n//validate matrix format\nexport const validMatrix = function (arr){\n  // Matrix must be array\n  if(!likeArray(arr)){\n    return false\n  }\n  \n  // Empty is valid\n  if(arr.length === 0){\n    return true\n  }\n  \n  //find some error ( return true => false)\n  return !Array.from(arr).some((v)=>{\n    if(likeArray(v)){\n      //length check\n      if(v.length !== arr.length) return true\n      //type check\n      return v.some(likeError=>!(likeError == undefined || isNumber(likeError)))\n    }\n    return true\n  })\n}\n\n// real matrix model\nexport const asMatrix = function (arr, columnSize){\n  const result = []\n  if(typeof columnSize === \"number\" && columnSize > 0){\n    const rowCount = Math.ceil(arr.length / columnSize)\n    times(rowCount, i=>{\n      const column = []\n      times(columnSize, ci=>{ column.push(arr[i * columnSize + ci]) })\n      result.push(column)\n    })\n  } else {\n    return [arr]\n  }\n  return result\n}\n\nexport const multiplyMatrix = function (aMatrix, bMatrix){\n  if(!validMatrix(aMatrix) && validMatrix(bMatrix)){\n    return null\n  }\n  if(aMatrix[0].length !== bMatrix.length){\n    return null\n  }\n  const result = []\n  times(bMatrix.length, rRowIndex=>{\n    const columnLength = bMatrix[rRowIndex].length\n    const columnResult = []\n    times(columnLength, rColumnIndex=>{\n      //var calcLog = [];\n      const multiplied = aMatrix[rRowIndex].reduce((dist, num, index)=>{\n        //calcLog.push(`${num} * ${bMatrix[index][rColumnIndex]}`)\n        return num * bMatrix[index][rColumnIndex] + dist\n      }, 0)\n      //console.log(\"calcLog\",calcLog.join(\" + \"))\n      columnResult.push(multiplied)\n    })\n    result.push(columnResult)\n  })\n  return result\n}\n","import { isAbsoluteNaN } from './isLike'\n\nimport { rangeModel } from './matrix'\n\nexport const rand64 = (function (){\n  var rand64Token = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"\n  return function (length, codeAt, codeLength){\n    length = (isAbsoluteNaN(length)) ? 1 : parseInt(length, 10)\n    codeAt = (isAbsoluteNaN(codeAt)) ? 0 : parseInt(codeAt, 10)\n    codeLength = (isAbsoluteNaN(codeLength)) ? 62 - codeAt : parseInt(codeLength, 10)\n    var result = \"\"\n    for(var i = 0, l = length; i < l; i++) result = result + rand64Token.charAt(codeAt + parseInt(Math.random() * codeLength, 10))\n    return result\n  }\n}())\n\n\nexport const tokenize = function (seed, digits){\n  return Math.floor((Math.abs(Math.sin(Number((seed + \"\").replace(/./g, function (s){ return s.charCodeAt(0) }))) * 16777215)) % 16777215).toString(digits || 16) \n}\nexport const randRange = function (rangeValue, nice){\n  const { start, end } = rangeModel(rangeValue)\n  const result = start + (Math.random() * (end - start))\n  return nice === true ? Math.ceil(result) : result\n}\n","import { isArray } from './isLike'\nimport { toNumber } from './cast'\n\nexport const dateExp = function (dv, format){\n  if(isArray(dv)) dv = dv.join(' ')\n\n  var dt = /(\\d\\d\\d\\d|)[^\\d]?(\\d\\d|\\d|).?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)/.exec(dv)\n  dt[1] = dt[1] || (((new Date()).getYear() + 1900) + '')\n  dt[2] = dt[2] || ((new Date()).getMonth() + 1)\n  dt[3] = dt[3] || ((new Date()).getDate())\n  dt[4] = dt[4] || (\"00\")\n  dt[5] = dt[5] || (\"00\")\n  dt[6] = dt[6] || (\"00\")\n\n  var r = [ dt[1], dt[2], dt[3], dt[4], dt[5], dt[6], dt[0] ]\n  Object.defineProperties(r, {\n    year  : { enumerable: false, value: dt[1] },\n    month : { enumerable: false, value: dt[2] },\n    date  : { enumerable: false, value: dt[3] },\n    hour  : { enumerable: false, value: dt[4] },\n    minute: { enumerable: false, value: dt[5] },\n    second: { enumerable: false, value: dt[6] },\n    init  : { enumerable: false, value: dt[7] },\n    format: {\n      enumerable: false,\n      get       : ()=>function (s){\n        return s.replace('YYYY', r.year).replace(/(MM|M)/, r.month).replace(/(DD|D)/, r.date)\n        .replace(/(hh|h)/, r.hour).replace(/(mm|m)/, r.minute).replace(/(ss|s)/, r.second)\n        .replace(/(A)/, (toNumber(r.hour) > 12) ? 'PM' : 'AM')\n      }\n    }\n  })\n  if(typeof format === 'string'){ return r.format(format) }\n  return r\n}\n\nexport const timestampExp = function (exp){\n  if(arguments.length === 0){\n    return (+new Date())\n  }\n  if(typeof exp === \"string\"){\n    exp = dateExp(exp)\n  }\n  if(typeof exp === \"number\"){\n    return exp\n  }\n  if(isArray(exp) && (exp.length == 7)){\n    exp = new Date(exp[0], exp[1], exp[2], exp[3], exp[4], exp[5])\n  }\n  if(exp instanceof Date){\n    return (+exp)\n  }\n  return 0\n}\n\nexport const timescaleExp = function (exp){\n  var scale = 0\n  if(typeof exp === \"number\"){\n    return exp\n  }\n  if(typeof exp === \"string\"){\n    // \n    exp = exp.replace(/\\d+(Y|year)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 31536000000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(M|month)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 2678400000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(D|day)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 86400000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(h|hour)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 3600000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(ms|millisecond)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 1 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(m|minute)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 60000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(s|second)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 1000 })\n      return \"\"\n    })\n  }\n  return scale\n}\n","export const argumentNamesBy = function getArgs (fn){\n  if(typeof fn !== \"function\") return []\n    // normal -  function[^\\(]*?\\(([^)]*)\\)\n    // arrow  -  \\([\\)]*\\)\\s*\\=\\>\\s*\\{\n  var args = fn.toString().match(/function[^\\(]*?\\(([^)]*)\\)|\\([\\)]*\\)\\s*\\=\\>\\s*\\{/)[1]\n  if(!args) return []\n  return args.split(',').map(s=>s.trim()).filter(n=>n)\n}\n\nexport const scopelizeBy = function (evalCommand){\n  if(evalCommand.indexOf(\"return\") == -1){\n    evalCommand = `  return ${evalCommand}`\n  }\n\n  const command = evalCommand\n  const scopeBeforeFn = function (scope, info){\n    const params = []\n    const fnArgs = []\n    \n    Object.keys(scope).forEach(key=>{\n      params.push(scope[key])\n      fnArgs.push(key)\n    })\n    \n    fnArgs.push(command)\n    \n    const makeFn = Function.apply(Function, fnArgs)\n    \n    if(typeof info === \"function\"){\n      info({\n        func  : makeFn,\n        args  : fnArgs,\n        params: params\n      })\n    }\n    \n    return makeFn.apply(void 0, params)\n  }\n  \n  scopeBeforeFn.scoped = function (){\n    return command\n  }\n  \n  return scopeBeforeFn\n}\n\n","/*\n  usage\n  const size = 20\n  const stroke = 1\n\n  const { x, y, radius, diameter } = drawCircleVars(size, stroke);\n  \n  const d = `M${x} ${y} \n  a ${radius} ${radius} 0 0 1 0 ${diameter}\n  a ${radius} ${radius} 0 0 1 0 -${diameter}`\n\n  <svg viewbox=\"0 0 {size} {size}\">\n    <path d=\"{d}\" stroke-width=\"stroke\"></path>\n  </svg>\n*/\nexport const drawCircleVars = function (circleWidth, strokeWidth = 0){\n  const circumference = ((circleWidth - strokeWidth) / 2) * (3.14159 * 2)\n  const radius        = (circumference / (3.14159 * 2))\n  const diameter      = (radius * 2)\n  const x             = circleWidth / 2\n  const y             = strokeWidth / 2\n  //const circumLength  = drawRatio == 1 ? drawRatio : drawRatio * circumference;\n    \n  return { x, y, radius, diameter, circumference, circleWidth, strokeWidth }\n}\n","import { likePromise } from '../../functions'\nexport const PromiseClass = Promise\n\nconst resolveFn = PromiseClass.resolve\nconst rejectFn = PromiseClass.reject\n\nexport const newPromise = (fn)=>(new PromiseClass((r, c)=>{\n  const maybeAwaiter = fn(r, c)\n  likePromise(maybeAwaiter) && maybeAwaiter.then(r).catch(c)\n}))\n\nexport const promise = (fn)=>newPromise(fn)\n\nconst PromiseFunction = promise\n\nexport const all     = Promise.all\nPromiseFunction.all = all\n\nexport const resolve    = resolveFn\nPromiseFunction.resolve = resolve\n\nexport const reject    = rejectFn\nPromiseFunction.reject = reject\n","import { promise as PromiseFunction, newPromise, PromiseClass } from './promiseEngine'\nimport { likePromise } from '../../functions'\n\nexport const defer = function (){\n  var resolve, reject\n  var promise = new PromiseClass(function (){\n    resolve = arguments[0]\n    reject = arguments[1]\n  })\n  return {\n    resolve: resolve,\n    reject : reject,\n    promise: promise\n  }\n}\n\nPromiseFunction.defer = defer\n\nexport const timeout = function (fn, time){\n  if(typeof fn === \"number\"){\n    return newPromise(resolve=>setTimeout(()=>resolve(time), fn))\n  } else {\n    return newPromise(resolve=>setTimeout(()=>resolve(typeof fn === \"function\" ? fn() : fn), time))\n  }\n}\nPromiseFunction.timeout = timeout\n\nexport const valueOf = function (maybeQ){\n  return newPromise(function (resolve, reject){\n    likePromise(maybeQ)\n      ? maybeQ.then(resolve).catch(reject)\n      : resolve(maybeQ) \n  })\n}\nPromiseFunction.valueOf = valueOf\n\nexport const promise = PromiseFunction\n","import { \n  asArray,\n  isNumber\n} from '../functions'\n\nexport const operate = (function (){\n  const PARENT_OUTPUT_UPDATED = \"ParentOutputUpdated\"\n  \n  const operate = function ({ input, output, concurrent, rescue, limitInput, limitOutput }){\n    this.parent = undefined\n    this.children = []\n    this.inputs = []\n    this.outputs = []\n    this.limitInput = isNumber(limitInput) || limitInput > 0 ? limitInput : Number.POSITIVE_INFINITY\n    this.limitOutput = isNumber(limitOutput) || limitOutput > 0 ? limitOutput : Number.POSITIVE_INFINITY\n    \n    //\n    let current = 0\n    concurrent = isNumber(concurrent) || concurrent > 0 ? concurrent : 1\n    \n    Object.defineProperty(this, \"avaliablePullCount\", {\n      get: ()=>{\n        let limit = this.limitInput - this.inputs.length\n        if(limit < 0) limit = 0\n        return limit\n      }\n    })\n    \n    Object.defineProperty(this, \"avaliableOutputCount\", {\n      get: ()=>{\n        return this.limitOutput + current + this.outputs.length\n      }\n    })\n    \n    const inputOutput = { input, output }\n    \n    const kickStart = ()=>{\n      let avaliableQueLength = concurrent - current\n      \n      //  \n      if(avaliableQueLength < 1){\n        return\n      }\n      \n      // input     \n      if(avaliableQueLength > this.inputs.length){\n        avaliableQueLength = this.inputs.length\n      }\n      \n      // output     \n      if(avaliableQueLength > this.avaliableOutputCount){\n        avaliableQueLength = this.avaliableOutputCount\n      }\n      \n      if(avaliableQueLength < 1){\n        return\n      }\n      \n      Array(avaliableQueLength).fill(inputOutput).forEach(async ({ input })=>{\n        let entry = this.inputs.shift()\n        current++\n        \n        const outputHandle = async (formInputDataum)=>{\n          /* TODO:lint\n          if(typeof output === \"function\"){\n            const out = await output({ entry: formInputDataum })\n          }\n          */\n          \n          this.outputs.push(formInputDataum)\n          current--\n        \n          this.children.forEach(child=>child.emit(PARENT_OUTPUT_UPDATED))\n          kickStart()\n        }\n        \n        if(input){\n          try {\n            outputHandle(await input({ entry }))\n          } catch (e){\n            if(typeof rescue === \"function\"){\n              rescue(e)\n            } else {\n              throw e\n            }\n            current--\n          }\n        } else {\n          outputHandle(entry)\n        }\n      })\n    }\n\n    Object.defineProperty(this, \"push\", {\n      value: (pushData)=>{\n        this.inputs.push(pushData)\n        kickStart()\n        return this\n      }\n    })\n    \n    Object.defineProperty(this, \"concat\", {\n      value: (pushData)=>{\n        asArray(pushData).forEach(d=>this.inputs.push(d))\n        kickStart()\n        return this\n      }\n    })\n    \n    Object.defineProperty(this, \"emit\", {\n      value: (eventName)=>{\n        switch (eventName){\n          case PARENT_OUTPUT_UPDATED:\n            if(this.avaliablePullCount < 1) return\n            let pullData = this.parent.pull(this.avaliablePullCount)\n            if(pullData.length < 1) return\n            pullData.forEach(datum=>this.inputs.push(datum))\n            kickStart()\n            break\n        }\n      }\n    })\n    \n    Object.defineProperty(this, \"pull\", {\n      value: (pullLength)=>{\n        if(!(isNumber(pullLength) || pullLength == Number.POSITIVE_INFINITY)) return []\n        const pullData = this.outputs.splice(0, pullLength)\n        //pullData.length && kickStart();\n        return pullData\n      }\n    })\n    \n    Object.defineProperty(this, \"clone\", {\n      value: (deep = true)=>{\n        let cloneOperate = operateFunction({ input, output, concurrent, rescue, limitInput, limitOutput })\n        \n        deep === true && this.children.forEach(child=>{\n          child.clone(true, cloneOperate)\n        })\n        \n        return cloneOperate\n      }\n    })\n  }\n  \n  operate.prototype = {\n    append: function (child){\n      child.parent = this\n      this.children.push(child)\n      return this\n    },\n    remove: function (child){\n      let index = this.children.indexOf(child)\n      if(index < 0) return this\n      child.parent = undefined\n      this.children.splice(index, 1)\n    },\n    operate: function (option){\n      return this.append(operateFunction(option))\n    }\n  }\n  \n  const operateFunction = function (option){\n    return new operate(Object.assign({}, option))\n  }\n  \n  return operateFunction\n}())\n","// promise utils\nimport { PromiseClass, newPromise } from './promiseEngine'\nimport { promise as PromiseFunction } from './promise'\nimport { asArray, asObject } from '../../functions/cast'\nimport { isNumber } from '../../functions/isLike'\nimport { turn } from '../../functions/nice'\nimport { argumentNamesBy } from '../../functions/hack'\n\nimport { operate } from '../operate'\n\nexport const promisify = function (asyncErrCallbackfn){\n  const argumentNames = argumentNamesBy(asyncErrCallbackfn).slice(1)\n  const promisified   = function (){\n    const args = Array.from(arguments)\n    return new Promise((resolve, reject)=>{\n      const applyParams = args.concat(function (){\n        const [error, ...callbakArgs] = Array.from(arguments)\n        if(error){\n          reject(error)\n        } else if(argumentNames.length && callbakArgs.length > 1){\n          resolve(argumentNames.reduce((dest, name, index)=>{\n            dest[name] = callbakArgs[index]\n            return dest\n          }, {}))\n        } else {\n          resolve(callbakArgs[0])\n        }\n      })\n      asyncErrCallbackfn.apply(this, applyParams)\n    })\n  }\n  return function (){\n    return promisified.apply(this, Array.from(arguments))\n  }\n}\n\nexport const until = function (tasks, option){\n  if(!(tasks instanceof Array)){\n    return PromiseFunction.reject(new Error(\"tasks must be array\"))\n  }\n\n  if(!tasks.length || !tasks.some(e=>typeof e === \"function\")){\n    return PromiseFunction.reject(new Error(\"not found wheel executable\"))\n  }\n\n  if(!tasks.some(e=>(typeof e !== \"function\" || typeof e !== \"number\"))){\n    return PromiseFunction.reject(new Error(\"wheel task only function or number executable\"))\n  }\n\n  if(typeof option !== \"object\"){\n    option = {}\n  }\n\n  let finished = false\n  let defer\n  const limit = (typeof option.limit === \"number\" && option.limit > 0) ? parseInt(option.limit, 10) : 10000\n  const taskLength = tasks.length\n  let wheelTick = 0\n  let resetScope = 0\n  const nextWheelTick = (tick, value, tickScope)=>{\n    const nowAction = tasks[turn(tick, taskLength, 1)]\n\n    const isActiveFn = ()=>{\n      return tickScope === resetScope\n    }\n\n    const nextTickFn = passValue=>{\n      // if reset called\n      if(!isActiveFn()) return\n      // if over tick\n      if(wheelTick > limit){\n        return defer.reject(new Error(\"limit\"))\n      }\n      if(finished === false){\n        nextWheelTick(wheelTick++, passValue, tickScope)\n      }\n    }\n\n    if(typeof nowAction === \"function\"){\n      nowAction(\n        {\n          value,\n          next    : nextTickFn,\n          isActive: isActiveFn,\n          resolve : defer.resolve,\n          reject  : defer.reject\n        },\n        Math.floor(tick / tasks.length),\n        tick\n      )\n    } else if(typeof nowAction === \"number\"){\n      setTimeout(()=>{ nextTickFn(value) }, nowAction)\n    }\n  }\n  \n  const thenStack  = [\n    e=>{\n      if(finished === null) return abort()\n      finished = true\n      return e\n    }\n  ]\n  const catchStack = [\n    e=>{\n      if(finished === null) return abort()\n      finished = true\n      return PromiseFunction.reject(e)\n    }\n  ]\n  \n  const deferReset = (resetTick)=>{\n    defer && defer.stop()\n    //\n    defer = PromiseFunction.defer()\n    thenStack.forEach(fn=>defer.promise.then(fn))\n    catchStack.forEach(fn=>defer.promise.catch(fn))\n    \n    //\n    defer.stop = ()=>{\n      finished = null\n      resetScope += 1\n    }\n    \n    defer.start = (resetTick)=>{\n      if(finished === null){\n        finished = false\n        wheelTick = typeof resetTick === \"number\" ? resetTick : 0\n        nextWheelTick(wheelTick++, option.value, resetScope)\n      }\n    }\n    //\n    defer.reset = deferReset\n    //\n    finished = null\n    defer.start(resetTick)\n  }\n  \n  deferReset(0)\n  \n  const wheelControls = {\n    ...defer,\n    then (fn){\n      defer.promise.then(fn)\n      thenStack.push(fn)\n      return wheelControls\n    },\n    catch (fn){\n      defer.promise.catch(fn)\n      catchStack.push(fn)\n      return wheelControls\n    }\n  }\n  \n  return wheelControls\n}\n\nexport const batch = function (funcArray, opts){\n  return newPromise(function (resolve){\n    const option = asObject(opts, \"concurrent\")\n      \n    if(option.concurrent === true){\n      option.concurrent = Number.POSITIVE_INFINITY\n    } else if(!isNumber(option.concurrent) || option.concurrent < 1){\n      option.concurrent = 1\n    }\n      \n    if(!isNumber(option.interval) || option.interval < -1){\n      option.interval = -1\n    }\n      \n    if(!isNumber(option.repeat) || option.repeat < 1){\n      option.repeat = 1\n    }\n      \n    //set task with repeat\n    const sequanceTaskEntries = Array(option.repeat)\n    .fill(asArray(funcArray))\n    .reduce((dest, tasks)=>{\n      tasks.forEach((fn, index)=>dest.push([index, fn]))\n      return dest\n    }, [])\n      \n    const sequanceLength = sequanceTaskEntries.length\n    let sequanceComplete = 0\n    const sequanceReseult = Array(sequanceTaskEntries.length)\n      \n    operate({\n      output: async ({ entry })=>{\n        if(option.interval > -1){\n          await PromiseFunction.timeout(option.interval)\n        }\n        return entry\n      },\n      limitOutput: 1\n    })\n    .operate({\n      concurrent: option.concurrent,\n      input     : async ({ entry })=>{\n        // eslint-disable-next-line no-unused-vars\n        const [index, fn] = entry\n        entry.push(await fn())\n        return entry\n      },\n      output: ({ entry })=>{\n        // eslint-disable-next-line no-unused-vars\n        const [index, fn, result] = entry\n        \n        sequanceReseult[index] = result\n        sequanceComplete++\n        \n        if(sequanceComplete === sequanceLength){\n          resolve(sequanceReseult)\n        }\n      }\n    })\n    .concat(sequanceTaskEntries)\n  })\n}\n\n\n// abort is deprecated\nconst abortMessage = new function (){\n  Object.defineProperty(this, \"message\", {\n    get: ()=>\":abort\"\n  })\n  Object.defineProperty(this, \"abort\", {\n    get: ()=>true\n  })\n}()\n\nexport const abort = function (notifyConsole = undefined){\n  return new PromiseClass((resolve, reject)=>{\n    if(notifyConsole === true){\n      console.warn(\"abort promise\")\n    }\n    reject(abortMessage)\n  })\n}\n","import {\n  get,\n  hashMap,\n  domainRangeValue\n} from '../functions'\n\nimport {\n  isArray,\n  likeObject,\n  isEmpty\n} from '../functions/isLike'\n\nimport {\n  asArray,\n  cloneDeep\n} from '../functions/cast'\n\n// ?\nconst hasValueProperty = function (obj, value, key){\n  if(arguments.length == 1 && likeObject(obj)) return isEmpty(obj)\n  if(isArray(obj)) for(var i = 0, l = obj.length; i < l; i++) if(obj[i] === value) return true\n  if(likeObject(obj)){\n    if(key){\n      return get(obj, key) === value\n    } else {\n      for(var key in obj) if(get(obj, key) === value) return true\n    }\n  }\n  return false\n}\n\n\n//Scale foundation\n//    ,     \n\nconst Block = function (posSize, syncOpt){\n  Object.defineProperties(this, {\n    $space     : { enumerable: false, writable: true, value: undefined },\n    $posSize   : { enumerable: false, writable: true, value: undefined },\n    $mask      : { enumerable: false, writable: true, value: undefined },\n    $compute   : { enumerable: false, writable: true, value: undefined },\n    $sync      : { enumerable: false, writable: true, value: undefined },\n    domainValue: { \n      enumerable: true,\n      get       : ()=>{\n        return hashMap(cloneDeep(this.get()), function (posSize){ return posSize[0] })\n      }\n    },\n    domainSize: { \n      enumerable: true,\n      get       : ()=>{\n        return hashMap(cloneDeep(this.get()), function (posSize){ return posSize[1] })\n      }\n    },\n    rangeStart: { \n      enumerable: true,\n      get       : ()=>{\n        return this.$space.domainRange(hashMap(this.get(), function (posSize){ return posSize[0] }))\n      }\n    },\n    rangeSize: { \n      enumerable: true,\n      get       : ()=>{\n        return this.$space.domainRangeSize(hashMap(this.get(), function (posSize){ return posSize[1] }))\n      }\n    }\n  })\n  \n  this.sync(posSize, syncOpt)\n}\n  \nconst BlockPrototype = {}\n\nObject.defineProperties(BlockPrototype, {\n  domainMap: { \n    enumerable: false,\n    get (){\n      return hashMap(cloneDeep(this.get()), function (posSize){\n        return {\n          start: posSize[0],\n          size : posSize[1],\n          end  : posSize[0] + posSize[1]\n        }\n      })\n    }\n  },\n  rangeMap: { \n    enumerable: false,\n    get (){\n      const rangeSize = this.rangeSize\n              \n      return hashMap(this.rangeStart, function ($start, sel){ \n        var $size = sel ? rangeSize[sel] : rangeSize\n        return {\n          start: $start,\n          size : $size,\n          end  : $start + $size\n        }\n      })\n    }\n  },\n  rangeEnd: { \n    enumerable: false,\n    get (){\n      return this.rangeMap(this.rangeMap, function (map){ return map.end })\n    }\n  }\n})\n\nObject.assign(BlockPrototype, {\n  sync: function (block, syncOpt){ \n    if(!arguments.length && this.$sync){\n      block = this.$sync()\n    } else if(typeof block === \"function\"){\n      this.$sync = block\n      if(syncOpt == true){\n        block = this.$sync()\n      } else {\n        return this\n      }\n    }\n    if(block instanceof Block){ \n      this.$posSize = cloneDeep(block.$posSize)\n      //.. this.$sync    = this.$sync || block.$sync\n      this.$space = this.$space || block.$space \n      this.$mask = this.$mask || block.$mask \n    } else {\n      this.$posSize = hashMap(cloneDeep(block), function (posSize){ return !isArray(posSize) ? [posSize, 0] : posSize })\n    }\n    return this \n  },\n  clone      : function (){ return new Block(this) },\n  setPosition: function (value, sel){ var $posSize = get(this.$posSize, sel); if($posSize instanceof Array) $posSize[0] = value; return this },\n  setSize    : function (value, sel){ var $posSize = get(this.$posSize, sel); if($posSize instanceof Array) $posSize[1] = value; return this },\n  get        : function (){ return cloneDeep(typeof this.$posSize === \"function\" ? this.$posSize() : this.$posSize) },\n  conflicts  : function (otherBlocks, selector){\n    return asArray(otherBlocks).reduce(function (red, block){\n      var selectOtherBlock = get(block, selector)\n                  \n      if(selectOtherBlock instanceof Block){\n        //     space   \n        if((selectOtherBlock === this) || (selectOtherBlock.$space != this.$space)) return red\n                      \n        //\n        var inspectResult = []\n                      \n        hashMap(this.get(), function (thisPos, key){\n          var otherPos = get(selectOtherBlock.get(), key)\n          if(otherPos[0] < thisPos[0] && (otherPos[0] + otherPos[1]) <= thisPos[0]) return inspectResult.push(false)\n          if(otherPos[0] > thisPos[0] && (thisPos[0] + thisPos[1]) <= otherPos[0]) return inspectResult.push(false)\n          return inspectResult.push(true)\n        })\n                      \n        if(inspectResult.length && !hasValueProperty(inspectResult, false)){\n          red.push(block)\n        }\n      }\n      return red\n    }.bind(this), [])\n  },\n  hasConflicts: function (otherBlocks, selector){ return !!this.conflicts(otherBlocks, selector).length },\n  overflow    : function (mask){\n    var blockPosSize  = this.get()\n    var spaceDomain   = this.$space.domain\n    var overflowDomain = (mask && cloneDeep(mask)) || (this.$space && this.$space.domain) || []\n    return hashMap(overflowDomain, function ($overflowSelected, sel){\n      var $posSize = get(blockPosSize, sel)\n      var $domain  = get(spaceDomain, sel)\n      return ($posSize[0] < get($overflowSelected[0], $domain[0]) || ($posSize[0] + $posSize[1]) > get($overflowSelected[1], $domain[1]))\n    })\n  },\n  isOverflow: function (mask){\n    var overflow = false\n    hashMap(this.overflow(mask), function (f){ if(f){ overflow = true } })\n    return overflow\n  },\n  maskOverflow  : function (mask){ return this.overflow(this.$mask || mask) },\n  isMaskOverflow: function (mask){ return this.isOverflow(this.$mask || mask) },\n  compute       : function (func){\n    if(typeof func === \"function\"){ \n      this.$compute = func \n    } else {\n      this.$compute && this.$compute(this.map())\n    } \n    return this \n  },\n  call: function (f){ typeof f === \"function\" && f.call(this, this.rangeMap) }\n})\n\nBlock.prototype = BlockPrototype \n      \nconst Tracker = function (space, domainMask){\n  this.$space = space\n  this.$domainMask = hashMap(cloneDeep(domainMask), function (mask){\n    if(typeof mask === \"number\") mask = [mask]\n    if(mask instanceof Array){\n      if(!mask[0]) mask[0] = 0\n      if(!mask[1]) mask[1] = function (v){ return v }\n    }\n    return mask\n  })\n}\n      \nTracker.prototype = {\n  block: function (posSize, syncOpt){\n    var block = new Block(posSize, syncOpt) \n    block.$space = this.$space \n    block.$mask = this.$domainMask \n    return block\n  },\n  domainBlock: function (cursor, callback){\n    var domainGrid = hashMap(this.$space.range, function (range){ return range[2] })\n    var block      = this.block(hashMap(this.$space.rangeDomain(cursor), function (cursorPoint, key){ return [cursorPoint, get(domainGrid, key)] }))\n    var blockMap   = block.map()\n              \n    callback && callback.call(block, blockMap, block)\n    return block\n  }\n}\n      \nconst Space = function (domain, range){\n  this.$niceDomain = true\n  this.$niceRange = true\n  \n  Object.defineProperties(this, {\n    $niceDomain: { enumerable: false, writable: true, value: true },\n    $niceRange : { enumerable: false, writable: true, value: true },\n    $domain    : { enumerable: false, writable: true, value: undefined },\n    $range     : { enumerable: false, writable: true, value: undefined },\n    domain     : {\n      enumerable: true,\n      set (domain){\n        domain = hashMap(domain, function (domain){\n          if(!domain[2]){ domain[2] = 1 }\n          return domain\n        })\n        this.$domain = domain\n      },\n      get (){\n        return hashMap(cloneDeep(this.$domain), function (domain){\n          for(var i = 0, l = domain.length; i < l; i++) if(typeof domain[i] === \"function\") domain[i] = domain[i]()\n          return domain\n        })\n      }\n    },\n    range: {\n      enumerable: true,\n      set (range){\n        range = hashMap(range, function (range){\n          if(!range[2]){ range[2] = 1 }\n          return range\n        })\n        this.$range = range\n      },\n      get (){\n        return hashMap(cloneDeep(this.$range), function (range){\n          for(var i = 0, l = range.length; i < l; i++) if(typeof range[i] === \"function\") range[i] = range[i]()\n          return range\n        })\n      }\n    }\n  })\n  \n  this.$domain = domain\n  this.$range = range\n}\n      \nSpace.prototype = {\n  domainRangeSize: function (vs){\n    return hashMap(vs, function (v, sel){\n      var $range  = sel ? this.range[sel] : this.range\n      var $domain = sel ? this.domain[sel] : this.domain\n      return (v / ($domain[1] - $domain[0])) * ($range[1] - $range[0])\n    }.bind(this))\n  },\n  domainRange: function (vs){ return domainRangeValue(this.domain, this.range, vs, this.$niceRange) },\n  rangeDomain: function (vs){ return domainRangeValue(this.range, this.domain, vs, this.$niceDomain) },\n  block      : function (posSize, syncOpt){\n    var block = new Block(posSize, syncOpt)\n    block.$space = this\n    return block\n  },\n  tracker: function (domainMask){\n    var tracker = new Tracker(this, domainMask)\n    return tracker\n  }\n}\n      \nexport const space = (function (){\n  return function (domain, range){\n    return new Space(domain, range)\n  }\n}())\n  \nexport const block = (function (){\n  return function (posSize, syncOpt){\n    return new Block(posSize, syncOpt)\n  }\n}())\n","import { promise } from './promise'\n\nconst SESSION_STORE = {}\nconst STATE_STORE   = {}\n\n/*\nlet idx = 0;\nsession(\"scopeName\").open((name)=>{ id:idx++, name });\n\nlet { item, resolve } = await session(\"scopeName\").spawn(\"bob\");\nresolve(item);\n\nlet { item, resolve } = await session(\"scopeName\").spawn(\"cat\");\nresolve(item);\n\nsession(\"scopeName\").close()\n*/\n\nexport const session = function (name){\n  const inst = {\n    outputs: ()=>STATE_STORE[name].map(e=>e.output),\n    open   : (fn)=>{\n      SESSION_STORE[name] = fn\n      STATE_STORE[name] = []\n    },\n    close: ()=>{\n      const result = inst.outputs()\n      delete SESSION_STORE[name]\n      delete STATE_STORE[name]\n      return Promise.all(result)\n    },\n    spawn: (payload)=>{\n      if(typeof SESSION_STORE[name] !== \"function\"){\n        if(!SESSION_STORE[name]){\n          throw new Error(`session:: ${name} is not defined`)\n        } else {\n          throw new Error(`session:: ${name} is not function callback`)\n        }\n      }\n      \n      const input = promise.valueOf(SESSION_STORE[name](payload))\n      const managedSpawn = {\n        input,\n        output: undefined,\n        item  : undefined\n      }\n      \n      return input.then((item)=>{\n        const deferred      = promise.defer()\n        const deferPromise  = deferred.promise\n        managedSpawn.output = deferPromise\n        managedSpawn.item = item\n        \n        STATE_STORE[name].push(managedSpawn)\n        \n        return { \n          item,\n          resolve: deferred.resolve,\n          reject : deferred.reject\n        }\n      })\n    }\n  }\n  \n  return inst\n}\n","import { limitNumber, isAbsoluteNaN } from \"../functions\"\n\nexport const Limitter = function (max, min){\n  this.value = 0\n  if(typeof max !== \"number\" || isAbsoluteNaN(min)){\n    this.maximum = Number.POSITIVE_INFINITY\n  } else {\n    this.maximum = max\n  }\n  if(typeof min !== \"number\" || isAbsoluteNaN(min)){\n    this.minimum = 0\n  } else {\n    this.minimum = min\n  }\n}\n\nconst LimitterPrototype = {\n  expectIn (setValue){\n    return setValue === limitNumber(setValue, this.maximum, this.minimum)\n  },\n  expectOut (setValue){\n    return setValue !== limitNumber(setValue, this.maximum, this.minimum)\n  },\n  addExpectIn: function (addValue){\n    const destValue = this.value + addValue\n    return destValue === limitNumber(destValue, this.maximum, this.minimum)\n  },\n  addExpectOut: function (addValue){\n    const destValue = this.value + addValue\n    return destValue !== limitNumber(destValue, this.maximum, this.minimum)\n  },\n  set: function (setValue){\n    this.value = setValue\n    return this\n  },\n  add: function (addValue){\n    this.value = this.value + addValue\n    return this\n  }\n}\n\nObject.defineProperties(LimitterPrototype, {\n  done: {\n    get (){\n      return this.value === limitNumber(this.value, this.maximum, this.minimum)\n    }\n  }\n})\n\nLimitter.prototype = LimitterPrototype\n\nexport const ranger = function (max, min){\n  return new Limitter(max, min)\n}\n","import { asArray } from '../functions/cast'\nimport { times } from '../functions/enumerable'\nimport { turnTime } from '../functions/nice'\n\nexport const MatrixArray = (function (){\n  const MatrixArray = function (data, column, row){\n    asArray(data).forEach(datum=>{ this.push(datum) })\n    \n    Object.defineProperties(this, {\n      column: {\n        enumerable: false,\n        value     : column\n      },\n      row: {\n        enumerable: false,\n        value     : row\n      },\n      length: {\n        enumerable: false\n      }\n    })\n  }\n\n  MatrixArray.prototype = Object.assign([], {\n    toMatrix (eachResultHook){\n      const result = []\n      eachResultHook = typeof eachResultHook === \"function\" ? eachResultHook : undefined\n\n      times(this.column * this.row, (index)=>{\n        const [ colIndex, rowIndex ] = turnTime(index, this.column)\n        const data       = this[index]\n        const dataResult = eachResultHook ? eachResultHook(data, index, colIndex, rowIndex) : data\n        if(!result[rowIndex]) result[rowIndex] = []\n        result[rowIndex].push(dataResult)\n      })\n      \n      return result\n    },\n    toArray (){\n      return Array.from(this)\n    },\n    eachColumn (eachFn){\n      const rows = this.toMatrix()\n      const columns = times(this.column, colIndex=>{\n        const colData = []\n        rows.forEach(row=>colData.push(row[colIndex]))\n        return colData\n      })\n      \n      return typeof eachFn === \"function\" ? columns.map(eachFn) : columns\n    },\n    eachRow (eachFn){\n      const rows = this.toMatrix()\n      return typeof eachFn === \"function\" ? rows.map(eachFn) : rows\n    },\n    multiply (){\n      //TODO\n    }\n  })\n  \n  return MatrixArray\n})()\n\nexport const makeMatrixArray = function (column, row, eachHook){\n  const matrixProto = times(column * row, (index)=>{\n    const [ colIndex, rowIndex ] = turnTime(index, column)\n    return eachHook(index, colIndex, rowIndex) || [colIndex, rowIndex]\n  })\n  \n  const matrixArray = new MatrixArray(matrixProto, column, row)\n  return matrixArray\n}\n","import { isArray, isNumber } from '../functions/isLike'\nimport { asArray } from '../functions/cast'\nimport { validMatrix, multiplyMatrix } from '../functions/matrix'\nimport { makeMatrixArray } from './matrix'\n\n\nconst likePoint = function (p){\n  return typeof p === \"object\" && p.hasOwnProperty(\"x\") && p.hasOwnProperty(\"y\")\n}\n\nconst calcTransformedPoint = (__ref, { matrix, perspectiveOrigin })=>{\n  // yet support affin\n  //let perspectiveVar = (this.meta && this.meta.perspective)\n  //perspectiveVar = !isNumber(perspectiveVar) ? 0 : perspectiveVar;\n  //perspectiveVar = -1/perspectiveVar;\n  //perspectiveVar = isInfinity(perspectiveVar) ? 0 : (perspectiveVar || 0) ;\n  if(!matrix) return\n  \n  const transformPoint = {}\n  const { x:px = 0, y:py = 0, z:pz = 0 } = perspectiveOrigin || { x: 0, y: 0, z: 0 }\n  const [[x], [y], [z], [w]] = multiplyMatrix(matrix, [[__ref.x - px], [__ref.y - py], [__ref.z - pz], [__ref.w]])\n  \n  transformPoint.x = x + px + matrix[0][3]\n  transformPoint.y = y + py + matrix[1][3]\n  transformPoint.z = z + pz + matrix[2][3]\n  transformPoint.w = w\n  \n  return transformPoint\n}\n\nconst Point = function (x = 0, y = 0, z = 0, w = 1, meta){\n  // base point config\n  const __ref = { x, y, z, w }\n  let __meta = {}\n  let __transformedPoint\n  \n  Object.defineProperties(this, {\n    x: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.x : __ref.x\n        }\n        return __ref.x\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.x = v\n      }\n    },\n    y: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.y : __ref.y\n        }\n        return __ref.y\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.y = v\n      }\n    },\n    z: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.z : __ref.z\n        }\n        return __ref.z\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.z = v\n      }\n    },\n    w: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.w : __ref.w\n        }\n        return __ref.w\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.w = v\n      }\n    },\n    meta: {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ \n        typeof it === \"object\" && Object.assign(__meta, it)\n        __transformedPoint = undefined\n        return __meta\n      }\n    },\n    transform: {\n      enumerable  : false,\n      configurable: false,\n      writable    : true,\n      value       : false\n    },\n    rx: { enumerable: false,\n      get       : ()=>{\n        const rangeWidth = (this.meta && this.meta.range && this.meta.range.width) || 0\n        return this.x / rangeWidth\n      }\n    },\n    ry: { \n      enumerable: false,\n      get       : ()=>{\n        const rangeHeight = (this.meta && this.meta.range && this.meta.range.height) || 0\n        return this.y / rangeHeight\n      }\n    }\n  })\n  \n  if(typeof meta === \"object\"){\n    this.meta = meta\n  }\n}\n\nPoint.prototype = {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  clone (){\n    return new Point(this.x, this.y, this.z, this.w, this.meta)\n  },\n  call (fn){\n    if(typeof fn === \"function\"){\n      return fn(this) || this\n    }\n    return this\n  },\n  toJSON (withMeta){\n    const json = { x: this.x, y: this.y, z: this.z, w: this.w }\n    if(withMeta === true && this.meta) json.meta = this.meta\n    return json\n  },\n  pull (width = 0, angle = \"horizontal\"){\n    const { x, y, z, w } = this\n    switch (angle){\n      case \"h\": case \"horizontal\":\n        const xHalf = width <= 0 ? 0 : width / 2\n        return new Vertex([{ x: x - xHalf, y, z, w }, { x: x + xHalf, y, z, w }])\n      default:\n    }\n  },\n  vertexWith (destPoint){\n    const points = asArray(destPoint)\n    points.unshift(this)\n    return new Vertex(points)\n  },\n  rectWith ({ x, y }){\n    const [largeX, smallX] = this.x > x ? [ this.x, x ] : [ x, this.x ]\n    const [largeY, smallY] = this.y > y ? [ this.y, y ] : [ y, this.y ]\n    return new Rect(smallX, smallY, largeX - smallX, largeY - smallY, 0, 0)\n  },\n  applyTransform (){\n    const { x, y, z, w } = this\n    this.transform = false\n    this.x = x\n    this.y = y\n    this.z = z\n    this.w = w\n    return this\n  },\n  setTransform (matrix44 = this.meta.matrix){\n    if(!validMatrix(matrix44)){\n      this.transform = false\n      throw new Error('Point::setTransform invalid matrix', matrix44)\n      return this\n    }\n    \n    this.meta.matrix = matrix44\n    this.transform = true\n    \n    return this\n  },\n  add ({ x, y, z, w }){\n    isNumber(x) && x && (this.x += x)\n    isNumber(y) && y && (this.y += y)\n    isNumber(z) && z && (this.z += z)\n    isNumber(w) && w && (this.w += w)\n    return this\n  },\n  subtract ({ x, y, z, w }){\n    isNumber(x) && x && (this.x -= x)\n    isNumber(y) && y && (this.y -= y)\n    isNumber(z) && z && (this.z -= z)\n    isNumber(w) && w && (this.w -= w)\n    return this\n  }\n}\n\nconst Vertex = function (pointArray, meta){\n  let __meta\n  \n  Object.defineProperties(this, {\n    meta: {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ __meta = typeof it === \"object\" ? it : null; return __meta }\n    }\n  })\n  \n  this.meta = meta\n  \n  asArray(pointArray).forEach(point=>{\n    if(!likePoint(point)) return\n    const { x, y, z, w } = point\n    this.push(new Point(x, y, z, w, __meta))\n  })\n};\n\n(function (classFunction, methods){\n  const prototype = []\n  \n  classFunction.prototype = prototype\n  \n  Object.keys(methods).forEach(key=>{\n    prototype[key] = methods[key]\n  })\n  \n  Object.defineProperties(prototype, {\n    start: {\n      enumerable: false,\n      get (){\n        return this[0]\n      }\n    },\n    end: {\n      enumerable: false,\n      get (){\n        return !this.length ? void 0 : this[this.length - 1]\n      }\n    }\n  })\n}(Vertex, {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  toJSON (withMeta){\n    const result = []\n    this.forEach(p=>result.push(p.toJSON(withMeta)))\n    return result\n  },\n  clone (){\n    return new Vertex(this)\n  },\n  eq (index){\n    return this[index]\n  },\n  join: function (fn){\n    const joins = []\n    this.forEach((refp, i)=>{\n      joins.push(refp)\n      if(!this[i + 1]) return\n      const newp = fn(refp, this[i + 1], i)\n      if(!likePoint(newp)) return\n      const { x, y, z, w, meta } = newp\n      joins.push(new Point(x, y, z, w, meta))\n    })\n    this.splice(0, this.length)\n    joins.forEach(p=>this.push(p))\n    return this\n  },\n  point (order){\n    switch (order){\n      case \"e\": case \"end\":\n      case \"d\": case \"down\": case \"r\": case \"right\":\n        const { x:px, y:py, z:pz, w:pw } = this.end\n        return new Point(\n          px,\n          py,\n          pz,\n          pw,\n          this.meta\n        )\n      case \"c\": case \"m\": case \"center\": case \"middle\":\n        const { x:sx, y:sy, z:sz, w:sw } = this.start\n        const { x:ex, y:ey, z:ez, w:ew } = this.end\n        return new Point(\n          sx / 2 + ex / 2,\n          sy / 2 + ey / 2,\n          sz / 2 + ez / 2,\n          sw / 2 + ew / 2,\n          this.meta\n        )\n      case \"s\": case \"start\":\n      case \"u\": case \"up\": case \"l\": case \"left\":\n      default:\n        const { x, y, z, w } = this.start\n        return new Point(\n          x,\n          y,\n          z,\n          w,\n          this.meta\n        )\n    }\n  },\n  rect (){\n    const first = this[0]\n    \n    if(!first){\n      return new Rect(0, 0, 0, 0)\n    }\n    \n    let left = first.x\n    let right = first.x\n    let top = first.y\n    let bottom = first.y\n    \n    for(let d = this, i = 1, l = this.length; i < l; i++){\n      const p = d[i]\n      p.x < left && (left = p.x)\n      p.x > right && (right = p.x)\n      p.y < top && (top = p.y)\n      p.y > bottom && (bottom = p.y)\n    }\n    \n    return new Rect(left, top, right - left, bottom - top)\n  },\n  setTransform (param){\n    this.forEach(p=>p.setTransform(param))\n    return this\n  }\n}))\n\n\nconst Rect = function (left = 0, top = 0, width = 0, height = 0, meta = null){\n  const __ref = { left, top, width, height }\n  let __meta = {}\n  \n  Object.defineProperties(this, {\n    width: { \n      enumerable: true, \n      get (){ return __ref.width },\n      set (newValue){\n        __ref.width = newValue\n        return newValue\n      }\n    },\n    height: { \n      enumerable: true, \n      get (){ return __ref.height },\n      set (newValue){\n        __ref.height = newValue\n        return newValue\n      }\n    },\n    left: { enumerable: true,\n      get (){ return __ref.left },\n      set (newValue){\n        __ref.left = newValue\n        return newValue\n      }\n    },\n    top: { enumerable: true,\n      get (){ return __ref.top },\n      set (newValue){\n        __ref.top = newValue\n        return newValue\n      }\n    },\n    right : { enumerable: true, get (){ return this.left + this.width } },\n    bottom: { enumerable: true, get (){ return this.top + this.height } },\n    meta  : {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ \n        typeof it === \"object\" && Object.assign(__meta, it)\n        return __meta\n      }\n    }\n  })\n  \n  if(typeof meta === \"object\"){\n    this.meta = meta\n  }\n}\n\nconst splitCountParser = (split)=>{\n    //splitCount [ horizental, vertical ]\n    //1 = [ 1 ]\n    //[1, 2] = [1, 2]\n  const [ columnOrder, rowOrder ] = asArray(split)\n  return {\n    column: isNumber(columnOrder) && columnOrder > 0 ? parseInt(columnOrder, 10) : 1,\n    row   : isNumber(rowOrder) && rowOrder > 0 ? parseInt(rowOrder, 10) : 1\n  }\n}\n\nRect.prototype = {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  clone (){\n    return new Rect(this.left, this.top, this.width, this.height, this.meta)\n  },\n  toJSON (withMeta){\n    const json = { width: this.width, height: this.height, left: this.left, top: this.top, right: this.right, bottom: this.bottom }\n    if(withMeta === true && this.meta) json.meta = this.meta\n    return json\n  },\n  defaultPerspective (){\n    return {\n      perspective      : 0,\n      perspectiveOrigin: {\n        x: this.left + (this.width / 2),\n        y: this.top + (this.height / 2),\n        z: 0\n      }\n    }\n  },\n  findPoint (findWord){\n    const [ lineFind, pointFind ] = isArray(findWord) ? findWord : findWord.trim().split(/\\s+/)\n    return this.vertex(lineFind).point(pointFind)\n  },\n  vertex (order){\n    const inheritMeta = Object.assign(this.defaultPerspective(), this.meta)\n    \n    switch (order){\n      case \"right\": case \"r\":\n        return new Vertex([{ x: this.right, y: this.top, z: 0, w: 0 }, { x: this.right, y: this.bottom, z: 0, w: 0 }], inheritMeta)\n      case \"bottom\": case \"b\":\n        return new Vertex([{ x: this.left, y: this.bottom, z: 0, w: 0 }, { x: this.right, y: this.bottom, z: 0, w: 0 }], inheritMeta)\n      case \"left\": case \"l\":\n        return new Vertex([{ x: this.left, y: this.top, z: 0, w: 0 }, { x: this.left, y: this.bottom, z: 0, w: 0 }], inheritMeta)\n      case \"top\": case \"t\":\n        return new Vertex([{ x: this.left, y: this.top, z: 0, w: 0 }, { x: this.right, y: this.top, z: 0, w: 0 }], inheritMeta)\n      case \"middle\": case \"m\":\n        const middleY = this.height / 2 + this.top\n        return new Vertex(\n          [\n            { x: this.left, y: middleY, z: 0, w: 0 },\n            { x: this.right, y: middleY, z: 0, w: 0 }\n          ],\n          inheritMeta\n        )\n      case \"center\": case \"c\":\n        const centerX = this.width / 2 + this.x\n        return new Vertex(\n          [\n            { x: centerX, y: this.top, z: 0, w: 0 },\n            { x: centerX, y: this.bottom, z: 0, w: 0 }\n          ],\n          inheritMeta\n        )\n      default:\n        return new Vertex(\n          [\n            { x: this.left, y: this.top, z: 0, w: 0 },\n            { x: this.left, y: this.bottom, z: 0, w: 0 },\n            { x: this.right, y: this.bottom, z: 0, w: 0 },\n            { x: this.right, y: this.top, z: 0, w: 0 }\n          ],\n          inheritMeta\n        )\n    }\n  },\n  transformRect (){\n    this.vertex()\n  },\n  piecesWithCount (splitCount, eachResultHook){\n    const { column, row } = splitCountParser(splitCount)\n    const width = this.width\n    const height = this.height\n    const pieceWidth = width / column\n    const pieceHeight = height / row\n    eachResultHook = typeof eachResultHook === \"function\" ? eachResultHook : undefined\n    \n    \n    const pacExt = { ...this.defaultPerspective() }\n    \n    if(this.meta.matrix && this.meta.matrix instanceof Array){\n      Object.assign(pacExt, {\n        matrix: this.meta.matrix\n      })\n    }\n    \n    const pacResult = makeMatrixArray(column, row, (index, colIndex, rowIndex)=>{\n      const pacMeta = { \n        column: colIndex,\n        row   : rowIndex,\n        coords: [colIndex, rowIndex], \n        range : { width, height },\n        ...pacExt\n      }\n      \n      //\n      const result = new Rect(colIndex * pieceWidth, rowIndex * pieceHeight, pieceWidth, pieceHeight, pacMeta)\n      return eachResultHook ? eachResultHook(result, index, colIndex, rowIndex) : result\n    })\n    \n    return pacResult\n  },\n  diff ({ left:aleft = 0, top:atop = 0, width:awidth = 0, height:aheight = 0, right:aright, bottom:abottom }){\n    const diffResult = {}\n    const original = this.toJSON()\n    const offset = { left: 0, top: 0 }\n    Object.defineProperties(diffResult, {\n      left: {\n        enumerable: true, \n        get       : ()=>original.left - aleft + offset.left,\n        set       : (want)=>{ offset.left = typeof want === \"number\" ? -original.left + want : 0 }\n      },\n      top: {\n        enumerable: true,\n        get       : ()=>original.top - atop + offset.top,\n        set       : (want)=>{ offset.top = typeof want === \"number\" ? -original.top + want : 0 }\n      },\n      width : { enumerable: true, get: ()=>original.width - awidth },\n      height: { enumerable: true, get: ()=>original.height - aheight },\n      right : { enumerable: true, get: ()=>original.right - aright + offset.left },\n      bottom: { enumerable: true, get: ()=>original.bottom - abottom + offset.top },\n      x     : { enumerable: false, get: ()=>offset.left },\n      y     : { enumerable: false, get: ()=>offset.top },\n      offset: {\n        enumerable: false,\n        get       : ()=>()=>({\n          x     : offset.left,\n          y     : offset.top,\n          right : diffResult.right,\n          bottom: diffResult.bottom,\n          over  : diffResult.right > diffResult.bottom ? diffResult.right : diffResult.bottom\n        })\n      },\n      move: {\n        enumerable: false,\n        get       : ()=>(nleft, ntop)=>{\n          diffResult.left = typeof nleft === \"number\" ? nleft : aleft\n          diffResult.top = typeof ntop === \"number\" ? ntop : atop\n          return diffResult\n        }\n      },\n      toJSON: {\n        enumerable: false,\n        get       : ()=>()=>({ ...diffResult })\n      }\n    })\n    \n    return diffResult\n  },\n  fitRatio (rect){\n    if(typeof rect !== \"object\"){ throw new Error(\"fit::argument[0] is not object\") }\n    const { width, height } = rect\n    \n    if(!isNumber(width) || !isNumber(height)){ throw new Error(\"fit::argument[0] is not { width:Number, height:Number }\") }\n    const WHRatio = [ width / this.width, height / this.height ]\n    const transformRatio = WHRatio.sort()[0]\n    return transformRatio\n  },\n  fit (rect){\n    const transformRatio = this.fitRatio(rect)\n    \n    this.width = (this.width * transformRatio) || 0\n    this.height = (this.height * transformRatio) || 0\n    \n    return this\n  },\n  //TODO : incompleted sticky(parent, position, offset);\n  sticky ({ left:refX, top:refY, width:refWidth, height:refHeight }, position = \"bottom left\"){\n    const { left, top, width, height } = this\n    switch (position){\n      case \"bl\": case \"obl\": case \"bottom left\": case \"outer bottom left\":\n        return rect({\n          left: refX,\n          top : refY + refHeight,\n          width,\n          height\n        })\n      case \"c\": case \"m\": case \"mc\": case \"center\": case \"middle\": case \"middle center\":\n        return rect({\n          left: refX + refWidth / 2 - width / 2,\n          top : refY + refHeight / 2 - height / 2,\n          width,\n          height\n        })\n      default:\n        return rect({ left, top, width, height })\n    }\n  },\n  add ({ left, top, width, height }){\n    isNumber(left) && left && (this.left += left)\n    isNumber(top) && top && (this.top += top)\n    isNumber(width) && width && (this.width += width)\n    isNumber(height) && height && (this.height += height)\n    return this\n  },\n  subtract ({ left, top, width, height }){\n    isNumber(left) && left && (this.left -= left)\n    isNumber(top) && top && (this.top -= top)\n    isNumber(width) && width && (this.width -= width)\n    isNumber(height) && height && (this.height -= height)\n    return this\n  }\n}\n\nexport const point = function (x, y, z, w){\n  return typeof x === \"object\" \n    ? new Point(x.x, x.y, x.z, x.w) \n    : new Point(x, y, z, w)\n}\n\nexport const vertex = function (start, end){\n  return new Vertex([{ x: start.x, y: start.y, z: start.z, w: start.w }, { x: end.x, y: end.y, z: end.z, w: end.w }])\n}\n\nexport const rect = function (left, top, width, height, x, y, valid){\n  return typeof left === \"object\"\n    ? new Rect(left.left, left.top, left.width, left.height, left.x, left.y, left.valid)\n    : new Rect(left, top, width, height, x, y, valid)\n}\n","import { cloneDeep } from '../functions'\n\nconst ManualReactive = function (watch, effect, judgeOfEqual){\n  this.watch = watch\n  this.effect = effect\n  this.judgeOfEqual = typeof judgeOfEqual === \"function\" ? judgeOfEqual : (a, b)=>a === b\n  this.oldValue = undefined\n}\n\nManualReactive.prototype = {\n  beginAffect (watchValue){\n    this.effect(watchValue, cloneDeep(this.oldValue))\n    this.oldValue = watchValue\n  },\n  digest (...args){\n    const watchResult = this.watch.apply(this, args)\n    return this.judgeOfEqual(this.oldValue, watchResult) ? false : (this.beginAffect(watchResult), true)\n  }\n}\n\nexport const affect = function (effect, judgeOfEqual){\n  let affectValue\n  const manualReactive = new ManualReactive(()=>affectValue, effect, judgeOfEqual)\n  return (value)=>{ affectValue = value; manualReactive.digest() }\n}\n","import {\n  promise,\n  valueOf as _valueOf,\n  abort as _abort,\n  reject as _reject\n} from './promise'\n\nimport {\n  alloc,\n  asArray,\n  cloneDeep as _cloneDeep\n} from '../functions/cast'\n\nimport {\n  isEqual as _isEqual\n} from '../functions/isLike'\n\nexport const awaitLeadOnly = function (func){\n  return alloc(function (){\n    let $pending = false\n    return function (...args){\n      if($pending === true){\n        return _abort()\n      } else {\n        $pending = true\n        return promise((resolve, reject)=>{\n          return _valueOf(func.apply(this, args)).then(resolve).catch(reject)\n        })\n        .then(e=>{\n          $pending = false\n          return e\n        })\n        .catch(e=>{\n          $pending = false\n          return _reject(e)\n        })\n      }\n    }\n  })\n}\n\nexport const awaitCompose = function (funcArgs){\n  return alloc(function (){\n    const composeFuncs = []\n\n    asArray(funcArgs).forEach(f=>{ typeof f === \"function\" && composeFuncs.push(f) })\n\n    return function (payload){\n      return promise((resolve, reject)=>{\n        function * iterator (){\n          for(let d = composeFuncs, i = 0, l = d.length; i < l; i++){\n            yield d[i]\n          }\n        }\n\n        const doWhile = ({ value: proc, done }, taskPayload)=>{\n          if(done){\n            resolve(taskPayload)\n          } else {\n            _valueOf(proc.call(this, taskPayload))\n            .then(nextPayload=>{\n              doWhile(iterator.next(), nextPayload)\n            })\n            .catch(reject)\n          }\n        }\n\n        doWhile.apply(iterator.next(), payload)\n      })\n    }\n  })\n}\n\n/*\n   watch .\n  let watcher = watchChange(newValue=>{ doSomething... })\n  watcher.change(\"newValue\")\n*/\nexport const watchChange = function (){\n  const changeValue = function (watchman, newValue){\n    const countScope   = watchman.$count\n    const destOldValue = _cloneDeep(newValue)\n    \n    watchman.$setter.forEach(effect=>{\n      effect(newValue, watchman.$oldValue, countScope)\n    })\n    \n    watchman.$oldValue = destOldValue\n  }\n  \n  var Watchman = function (equalityLogic){\n    this.$setter = []\n    this.$oldValue = undefined\n    this.$count = 0\n    this.$equalityLogic = equalityLogic\n  }\n  \n  Watchman.prototype = {\n    setter (changeListeners){\n      asArray(changeListeners).forEach(fn=>{\n        if(typeof fn === \"function\"){\n          this.$setter.push(fn)\n        }\n      })\n    },\n    change (newValue){\n      var newValue\n      if(this.$equalityLogic){\n        if(!_isEqual(this.$oldValue, newValue)){\n          changeValue(this, newValue)\n        }\n      } else {\n        if(this.$oldValue != newValue){\n          changeValue(this, newValue)\n        }\n      }\n    }\n  }\n  return function (effect, equalityLogic){\n    const watch = new Watchman(equalityLogic)\n    watch.setter(effect)\n    return watch\n  }\n}\n","import * as functions from './index.js'\n\nlet Bow  = function (){}\nlet BowFactory = function (fns){\n  let BOX = function (payload){ return new Bow(payload) }\n  \n  function applyBoxFns (BowFns){ for(var name in BowFns) BOX[name] = BowFns[name] }\n  \n  applyBoxFns(fns)\n  \n  return BOX\n}\n\nlet DEFAULT = BowFactory({ ...functions })\n\nexport const factory = BowFactory\nexport default DEFAULT\n","import { factory } from './pado.core.js'\nimport * as functions from './index.js'\n\nconst DEFAULT = factory({ ...functions })\n\nexport default DEFAULT\n"],"names":["isAbsoluteNaN","it","isNone","data","undefined","isInfinity","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","isNumber","isInteger","value","trim","test","isNaN","parseInt","isArray","Array","isObject","isFunction","likeObject","likeString","likeNumber","String","parseFloat","likeArray","item","hasOwnProperty","length","isPlainObject","constructor","Object","isEnumerableObject","isNode","a","nodeType","isEmpty","RegExp","prop","isPresence","likeRegexp","s","eqof","typeIt","baseEq","other","filter","depth","strict","arguments","valueType","otherType","every","vValue","i","oValue","vKeys","keys","oKeys","sort","key","isEqual","likeEqual","values","eqeq","isExsist","notExsist","likePromise","target","all","fn","asArray","l","times","result","push","hashMap","object","k","pairs","inputArr","ai","al","map","applyArgs","apply","readString","rebaseMatches","matches","entries","text","castFn","props","payload","content","newMatchEntries","castingState","firstIndex","lastIndex","castingStart","cursor","start","open","matchEntries","parentScope","matchesMap","matchType","matchExp","matchString","firstMatch","aPriority","b","bPriority","matchIndex","matchSize","castStart","castEnd","castSize","skipSize","matching","casting","scope","fork","next","needCursor","cursorTo","enter","enterMatches","enterCastFn","exit","more","readPath","__filterDotPath","dotPath","removeFirstDot","indexOf","substr","__filterBlockPath","blockPath","substring","pathParam","path","stackCount","get","defaultValue","allget","name","call","prototype","slice","hasProperty","hasValue","defaultObjectValueFunc","functionKeyObjectValueProc","functionKey","Boolean","selectKeyObjectValueProc","leftSelect","rightSelect","useLeftSelector","useRightSelector","obj","getKey","proc","objKey","readDown","rootValue","readFn","rootParam","enterScope","param","arrayScope","objectScope","primitiveScope","array","type","childrenDepth","fill","v","fallback","fallbackFn","args","valueOf","stringTest","string","rule","meta","some","filterKey","filterExp","numberKey","forEach","deepKeys","nestedDeepKeys","total","child","useKey","currentScope","clone","search","at","Error","replace","match","index","findIndex","__find_string","__find_regexp","findIndexes","c","idxs","NESTED_HAS_PROC","split","pointer","ki","diffStructure","before","after","afterKeys","beforeKeys","canDiff","analysis","unique","concat","reduce","dest","missing","surplus","diff","pass","defaultArray","toArray","option","asObject","defaultKey","toNumber","d","vr","dr","cleanObject","splice","r","Date","setTime","getTime","console","error","cloneDeep","p","getKeyWithValue","removeValue","detect","findKey","uniqueSet","Set","keyPath","has","add","getKeyBy","moveOf","oldIndex","newIndex","move","baseConcatOf","concatOf","filterOf","filterFn","exitFn","dataArray","dataKeys","isOnExit","exitArray","removedIndex","datumKey","datum","exitDatum","func","insertOf","insert","clearOf","fillFn","sp","sortOf","ri","rl","rebase","ref","refValue","refKey","assign","deepKey","removeKey","removeRule","removeKeys","originalIndex","offset","removeIndex","omitOf","omit","pickOf","pick","COMPACT_MATCH_FN","compactOf","compact","FREE_MATCH_EXPRESSION","freeOf","free","purgeOf","purge","instance","proto","ins","DummyInstance","alloc","init","rn","collection","fillLength","emptyDefault","dataLength","baseCut","cutLength","useFill","rest","cut","fillContent","cuts","rowIndex","enumFn","top","iteratee","topLength","limitNumber","limitOf","number","max","min","Infinity","numbers","accurateTimeout","originalTimeout","trigger","time","resolutionRatio","coverage","destTime","now","preparation","restTime","preparaTime","Math","floor","execution","setTimeout","turn","limit","ts","resultHook","abs","fixIndex","turnTime","toggle","toggleArgs","currentValue","step","val","rangeModel","sizeBase","end","reverse","range","stepSize","sizeBaseRange","warn","domainRangeValue","domain","vs","nice","sel","$range","$domain","dSize","sSize","dRate","calc","domainRangeInterpolate","_domain","_range","_nice","interpolate","matrixRange","scales","maxLength","selectLengthes","scaleIndex","rangeResult","redu","turnSize","scaleCase","scaleCaseLength","validMatrix","arr","from","likeError","asMatrix","columnSize","rowCount","ceil","column","ci","multiplyMatrix","aMatrix","bMatrix","rRowIndex","columnLength","columnResult","rColumnIndex","multiplied","dist","num","rand64","rand64Token","codeAt","codeLength","charAt","random","tokenize","seed","digits","sin","charCodeAt","toString","randRange","rangeValue","dateExp","dv","format","join","dt","exec","getYear","getMonth","getDate","defineProperties","year","enumerable","month","date","hour","minute","second","timestampExp","exp","timescaleExp","scale","t","argumentNamesBy","getArgs","n","scopelizeBy","evalCommand","command","scopeBeforeFn","info","params","fnArgs","makeFn","Function","scoped","drawCircleVars","circleWidth","strokeWidth","circumference","radius","diameter","x","y","PromiseClass","Promise","resolveFn","resolve","rejectFn","reject","newPromise","maybeAwaiter","then","catch","promise","PromiseFunction","defer","timeout","maybeQ","operate","PARENT_OUTPUT_UPDATED","input","output","concurrent","rescue","limitInput","limitOutput","parent","children","inputs","outputs","current","defineProperty","inputOutput","kickStart","avaliableQueLength","avaliableOutputCount","entry","shift","outputHandle","formInputDataum","emit","pushData","eventName","avaliablePullCount","pullData","pull","pullLength","deep","cloneOperate","operateFunction","append","remove","abortMessage","abort","notifyConsole","hasValueProperty","Block","posSize","syncOpt","$space","writable","$posSize","$mask","$compute","$sync","domainValue","domainSize","rangeStart","domainRange","rangeSize","domainRangeSize","sync","BlockPrototype","domainMap","size","rangeMap","$start","$size","rangeEnd","block","setPosition","setSize","conflicts","otherBlocks","selector","red","selectOtherBlock","inspectResult","thisPos","otherPos","bind","hasConflicts","overflow","mask","blockPosSize","spaceDomain","overflowDomain","$overflowSelected","isOverflow","f","maskOverflow","isMaskOverflow","compute","Tracker","space","domainMask","$domainMask","domainBlock","callback","domainGrid","rangeDomain","cursorPoint","blockMap","Space","$niceDomain","$niceRange","set","tracker","SESSION_STORE","STATE_STORE","session","inst","e","close","spawn","managedSpawn","deferred","deferPromise","Limitter","maximum","minimum","LimitterPrototype","expectIn","setValue","expectOut","addExpectIn","addValue","destValue","addExpectOut","done","ranger","MatrixArray","row","toMatrix","eachResultHook","colIndex","dataResult","eachColumn","eachFn","rows","columns","colData","eachRow","multiply","makeMatrixArray","eachHook","matrixProto","matrixArray","likePoint","calcTransformedPoint","__ref","matrix","perspectiveOrigin","transformPoint","z","px","py","pz","w","Point","__meta","__transformedPoint","transform","configurable","rx","rangeWidth","width","ry","rangeHeight","height","addMeta","toJSON","withMeta","json","angle","xHalf","Vertex","vertexWith","destPoint","points","unshift","rectWith","largeX","smallX","largeY","smallY","Rect","applyTransform","setTransform","matrix44","subtract","pointArray","point","classFunction","methods","eq","joins","refp","newp","order","pw","sx","sy","sz","sw","ex","ey","ez","ew","rect","first","left","right","bottom","newValue","splitCountParser","columnOrder","rowOrder","defaultPerspective","perspective","findPoint","findWord","lineFind","pointFind","vertex","inheritMeta","middleY","centerX","transformRect","piecesWithCount","splitCount","pieceWidth","pieceHeight","pacExt","pacResult","pacMeta","coords","aleft","atop","awidth","aheight","aright","abottom","diffResult","original","want","over","nleft","ntop","fitRatio","WHRatio","transformRatio","fit","sticky","position","refX","refY","refWidth","refHeight","valid","ManualReactive","watch","effect","judgeOfEqual","oldValue","beginAffect","watchValue","digest","watchResult","affect","affectValue","manualReactive","awaitLeadOnly","$pending","_abort","_valueOf","_reject","awaitCompose","funcArgs","composeFuncs","iterator","doWhile","taskPayload","nextPayload","watchChange","changeValue","watchman","countScope","$count","destOldValue","_cloneDeep","$setter","$oldValue","Watchman","equalityLogic","$equalityLogic","setter","changeListeners","change","_isEqual","Bow","BowFactory","fns","BOX","applyBoxFns","BowFns","DEFAULT","functions","factory"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAO,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAAUC,EAAV,EAAa;EACxC;EACA,SAAOA,EAAE,KAAKA,EAAP,IAAa,OAAOA,EAAP,KAAc,QAAlC;EACD,CAHM;AAKP,EAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAUC,IAAV,EAAe;EACnC,SAAOH,aAAa,CAACG,IAAD,CAAb,IAAuBA,IAAI,KAAKC,SAAhC,IAA6CD,IAAI,KAAK,IAA7D;EACD,CAFM;AAIP,EAAO,IAAME,UAAU,GAAG,SAAbA,UAAa,CAAUJ,EAAV,EAAa;EACrC,SAAOA,EAAE,KAAKK,MAAM,CAACC,iBAAd,IAAmCN,EAAE,KAAKK,MAAM,CAACE,iBAAxD;EACD,CAFM;AAIP,EAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAUR,EAAV,EAAa;EACnC,SAAQ,OAAOA,EAAP,KAAc,QAAd,IAA0B,CAACI,UAAU,CAACJ,EAAD,CAArC,IAA6C,CAACD,aAAa,CAACC,EAAD,CAAnE;EACD,CAFM;AAIP,EAAO,IAAMS,SAAS,GAAG,SAAZA,SAAY,CAAUC,KAAV,EAAgB;EACvC;EACA,MAAGT,MAAM,CAACS,KAAD,CAAN,KAAkB,IAArB,EAA2B,OAAO,KAAP;;EAE3B,MAAG,OAAOA,KAAP,KAAiB,QAApB,EAA6B;EAC3BA,IAAAA,KAAK,GAAGA,KAAK,CAACC,IAAN,EAAR;EACD;;EAED,MAAG,CAAE,gBAAgBC,IAAhB,CAAqB,OAAOF,KAA5B,CAAF,IAAyCN,UAAU,CAACM,KAAD,CAAnD,IAA8DG,KAAK,CAACH,KAAD,CAAtE,EAA8E;EAC5E,WAAO,KAAP;EACD;;EAED,SAAOA,KAAK,IAAII,QAAQ,CAACJ,KAAD,EAAQ,EAAR,CAAxB;EACD,CAbM;AAeP,EAAO,IAAMK,OAAO,GAAG,SAAVA,OAAU,CAAUb,IAAV,EAAe;EACpC,SAAOc,KAAK,CAACD,OAAN,CAAcb,IAAd,KAAuBA,IAAI,YAAYc,KAA9C;EACD,CAFM;AAIP,EAAO,IAAMC,QAAQ,GAAK,SAAbA,QAAa,CAAAjB,EAAE;EAAA,SAAE,CAAC,EAAGA,EAAE,KAAK,IAAP,IAAe,OAAOA,EAAP,KAAc,QAAhC,CAAH;EAAA,CAArB;AACP,EAAO,IAAMkB,UAAU,GAAG,SAAbA,UAAa,CAAClB,EAAD;EAAA,SAAM,OAAOA,EAAP,KAAc,UAApB;EAAA,CAAnB;EAEP;;;;AAGA,EAAO,IAAMmB,UAAU,GAAG,SAAbA,UAAa,CAACnB,EAAD;EAAA,SAAMiB,QAAQ,CAACjB,EAAD,CAAR,IAAgBkB,UAAU,CAAClB,EAAD,CAAhC;EAAA,CAAnB;AAEP,EAAO,IAAMoB,UAAU,GAAG,SAAbA,UAAa,CAAUlB,IAAV,EAAe;EACvC,MAAG,OAAOA,IAAP,KAAgB,QAAnB,EAA6B,OAAO,IAAP;EAC7B,MAAGM,QAAQ,CAACN,IAAD,CAAX,EAAmB,OAAO,IAAP;EACnB,SAAO,KAAP;EACD,CAJM;AAMP,EAAO,IAAMmB,UAAU,GAAG,SAAbA,UAAa,CAAUnB,IAAV,EAAe;EACvC,MAAGM,QAAQ,CAACN,IAAD,CAAR,IAAkBE,UAAU,CAACF,IAAD,CAA/B,EAAuC,OAAO,IAAP;EACvC,MAAG,OAAOA,IAAP,KAAgB,QAAnB,EAA6B,OAAOoB,MAAM,CAACC,UAAU,CAACrB,IAAD,CAAX,CAAN,KAA6BoB,MAAM,CAACpB,IAAD,CAA1C;EAC7B,SAAO,KAAP;EACD,CAJM;AAMP,EAAO,IAAMsB,SAAS,GAAG,SAAZA,SAAY,CAAUC,IAAV,EAAe;EACtC,SACET,KAAK,CAACD,OAAN,CAAcU,IAAd,KAEEA,IAAI,KAAK,IAAT,IACA,OAAOA,IAAP,KAAgB,QADhB,IAEAA,IAAI,CAACC,cAAL,CAAoB,QAApB,CAFA,IAGA,OAAOD,IAAI,CAACE,MAAZ,KAAuB,QAHvB,IAIAF,IAAI,CAACE,MAAL,GAAc,CAPlB;EAUD,CAXM;AAaP,EAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAA1B,IAAI;EAAA,SAAE,OAAOA,IAAP,KAAgB,QAAhB,IAA4BA,IAAI,CAAC2B,WAAL,KAAqBC,MAAnD;EAAA,CAA1B;AAEP,EAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAA7B,IAAI;EAAA,SAAE0B,aAAa,CAAC1B,IAAD,CAAb,IAAuBa,OAAO,CAACb,IAAD,CAAhC;EAAA,CAA/B;AAEP,EAAO,IAAM8B,MAAM,GAAG,SAATA,MAAS,CAACC,CAAD;EAAA,SAAKhB,QAAQ,CAACgB,CAAD,CAAR,IAAe,OAAOA,CAAC,CAACC,QAAT,KAAsB,QAA1C;EAAA,CAAf;AAEP,EAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAUnC,EAAV,EAAa;EAClC,MAAG,OAAOA,EAAP,KAAc,WAAjB,EAA8B,OAAO,IAAP;EAC9B,MAAG,OAAOA,EAAP,KAAc,QAAjB,EAA2B,OAAOA,EAAE,CAACW,IAAH,GAAUgB,MAAV,GAAmB,CAA1B;;EAC3B,MAAG,OAAO3B,EAAP,KAAc,QAAjB,EAA0B;EACxB,QAAGA,EAAE,IAAI,IAAT,EAAe,OAAO,IAAP;EACf,QAAGA,EAAE,YAAYoC,MAAjB,EAAyB,OAAO,KAAP;;EACzB,QAAGrB,OAAO,CAACf,EAAD,CAAV,EAAe;EACb,aAAO,CAACA,EAAE,CAAC2B,MAAX;EACD,KAFD,MAEO;EACL,WAAI,IAAIU,IAAR,IAAgBrC,EAAhB;EAAoB,eAAO,KAAP;EAApB;;EAAkC,aAAO,IAAP;EACnC;EACF;;EACD,MAAG,OAAOA,EAAP,KAAc,QAAjB,EAA0B;EACxB;EACA,WAAOD,aAAa,CAACC,EAAD,CAAb,IAAqB,KAA5B;EACD;;EACD,MAAG,OAAOA,EAAP,KAAc,UAAjB,EAA6B,OAAO,KAAP;EAC7B,MAAG,OAAOA,EAAP,KAAc,SAAjB,EAA4B,OAAO,KAAP;EAC5B,SAAO,IAAP;EACD,CAnBM;;AAsBP,EAAO,IAAMsC,UAAU,GAAG,SAAbA,UAAa,CAAUtC,EAAV,EAAa;EACrC,SAAO,EAAEA,EAAE,KAAKG,SAAP,IAAoBJ,aAAa,CAACC,EAAD,CAAnC,CAAP;EACD,CAFM;AAIP,EAAO,IAAMuC,UAAU,GAAG,SAAbA,UAAa,CAACC,CAAD;EAAA,SAAM,OAAOA,CAAP,KAAa,QAAd,IAA4BA,CAAC,YAAYJ,MAA9C;EAAA,CAAnB;;AAGP,EAAO,IAAMK,IAAI,GAAG,SAAPA,IAAO,CAAUzC,EAAV,EAAa;EAC/B,MAAM0C,MAAM,GAAG,OAAO1C,EAAtB;;EACA,UAAQ0C,MAAR;EACE,SAAK,QAAL;EACE,UAAG3C,aAAa,CAACC,EAAD,CAAhB,EAAsB,OAAO,MAAP;;EACxB,SAAK,QAAL;EACE,aAAO,OAAP;EACA;;EACF,SAAK,QAAL;EACE,UAAGC,MAAM,CAACD,EAAD,CAAT,EAAe,OAAO,MAAP;EACf,UAAGwB,SAAS,CAACxB,EAAD,CAAZ,EAAkB,OAAO,OAAP;EAClB,UAAGgC,MAAM,CAAChC,EAAD,CAAT,EAAe,OAAO,MAAP;EACf,UAAG,CAAC4B,aAAa,CAAC5B,EAAD,CAAjB,EAAuB,OAAO,QAAP;EACvB,aAAO,MAAP;EACA;;EACF,SAAK,WAAL;EACE,aAAO,MAAP;EACA;;EACF,SAAK,UAAL;EACA,SAAK,SAAL;EACA;EACE,aAAO0C,MAAP;EACA;EApBJ;EAsBD,CAxBM;;EA0BP,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAUjC,KAAV,EAAiBkC,KAAjB,EAAwBC,MAAxB,EAAgCC,KAAhC,EAA2CC,MAA3C,EAAkD;EAAA,MAAlBD,KAAkB;EAAlBA,IAAAA,KAAkB,GAAV,CAAU;EAAA;;EAC/D,MAAGE,SAAS,CAACrB,MAAV,GAAmB,CAAtB,EAAyB,OAAO,KAAP;EAEzB,MAAMsB,SAAS,GAAGR,IAAI,CAAC/B,KAAD,CAAtB;EACA,MAAMwC,SAAS,GAAGT,IAAI,CAACG,KAAD,CAAtB;EAEA,MAAGK,SAAS,KAAKC,SAAjB,EAA4B,OAAO,KAAP;;EAE5B,UAAQD,SAAR;EACE,SAAK,MAAL;EACE,aAAO,IAAP;;EACF,SAAK,OAAL;EACE,UAAGvC,KAAK,CAACiB,MAAN,KAAiBiB,KAAK,CAACjB,MAA1B,EAAiC;EAC/B,eAAO,KAAP;EACD;;EACD,aAAOjB,KAAK,CAACyC,KAAN,CAAY,UAACC,MAAD,EAASC,CAAT,EAAa;EAC9B,YAAMC,MAAM,GAAGV,KAAK,CAACS,CAAD,CAApB;EACA,eAAQ,OAAOR,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACQ,CAAD,EAAI,CAACD,MAAD,EAASE,MAAT,CAAJ,EAAsBR,KAAtB,CAAN,KAAuC,KAAxE,GAAiF,IAAjF,GAAwFH,MAAM,CAACS,MAAD,EAASE,MAAT,EAAiBT,MAAjB,EAAyBC,KAAK,GAAG,CAAjC,EAAoCC,MAApC,CAArG;EACD,OAHM,CAAP;EAIA;;EACF,SAAK,MAAL;EACE,UAAMQ,KAAK,GAAGzB,MAAM,CAAC0B,IAAP,CAAY9C,KAAZ,CAAd;EAAkC,UAAM+C,KAAK,GAAG3B,MAAM,CAAC0B,IAAP,CAAYZ,KAAZ,CAAd;EAClC,UAAGW,KAAK,CAAC5B,MAAN,KAAiB8B,KAAK,CAAC9B,MAAvB,IAAiC,CAACgB,MAAM,CAACY,KAAK,CAACG,IAAN,EAAD,EAAeD,KAAK,CAACC,IAAN,EAAf,CAA3C,EAAyE,OAAO,KAAP;EACzE,aAAOH,KAAK,CAACJ,KAAN,CAAY,UAACQ,GAAD,EAAO;EACxB,YAAMP,MAAM,GAAG1C,KAAK,CAACiD,GAAD,CAApB;EACA,YAAML,MAAM,GAAGV,KAAK,CAACe,GAAD,CAApB;EACA,eAAQ,OAAOd,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACc,GAAD,EAAM,CAACP,MAAD,EAASE,MAAT,CAAN,EAAwBR,KAAxB,CAAN,KAAyC,KAA1E,GAAmF,IAAnF,GAA0FH,MAAM,CAACS,MAAD,EAASE,MAAT,EAAiBT,MAAjB,EAAyBC,KAAK,GAAG,CAAjC,EAAoCC,MAApC,CAAvG;EACD,OAJM,CAAP;EAKA;;EACF,SAAK,MAAL;EACA,SAAK,QAAL;EACA,SAAK,UAAL;EACA,SAAK,SAAL;EACA,SAAK,OAAL;EACA;EACE,aAAOA,MAAM,GAAGrC,KAAK,KAAKkC,KAAb,GAAqBlC,KAAK,IAAIkC,KAA3C;EA3BJ;EA6BD,CArCD;;AAuCA,EAAO,IAAMgB,OAAO,GAAK,SAAZA,OAAY,CAAClD,KAAD,EAAQkC,KAAR,EAAeC,MAAf,EAAuBC,KAAvB;EAAA,SAA+BH,MAAM,CAACjC,KAAD,EAAQkC,KAAR,EAAeC,MAAf,EAAuBC,KAAvB,EAA8B,IAA9B,CAArC;EAAA,CAAlB;AACP,EAAO,IAAMe,SAAS,GAAG,SAAZA,SAAY,CAACnD,KAAD,EAAQkC,KAAR,EAAeC,MAAf,EAAuBC,KAAvB;EAAA,SAA+BH,MAAM,CAC5DjC,KAD4D,EAE5DkC,KAF4D,EAG5D,UAACe,GAAD,EAAMG,MAAN,EAAchB,KAAd;EAAA,WAAsB,WAAWlC,IAAX,CAAgB+C,GAAhB,IAAuB,KAAvB,GAA+B,OAAOd,MAAP,KAAkB,UAAlB,GAA+BA,MAAM,CAACc,GAAD,EAAMG,MAAN,EAAchB,KAAd,CAArC,GAA4D,IAAjH;EAAA,GAH4D,EAI5DA,KAJ4D,EAK5D,IAL4D,CAArC;EAAA,CAAlB;AAOP,EAAO,IAAMiB,IAAI,GAAQ,SAAZA,IAAY,CAACrD,KAAD,EAAQkC,KAAR,EAAeC,MAAf,EAAuBC,KAAvB;EAAA,SAA+BH,MAAM,CAACjC,KAAD,EAAQkC,KAAR,EAAeC,MAAf,EAAuBC,KAAvB,EAA8B,KAA9B,CAArC;EAAA,CAAlB;AAEP,EAAO,IAAMkB,QAAQ,GAAG,SAAXA,QAAW,CAAUtD,KAAV,EAAgB;EACtC,MAAGA,KAAK,KAAK,IAAb,EAAkB;EAChB,WAAO,IAAP;EACD;;EACD,MAAGA,KAAK,KAAK,KAAb,EAAmB;EACjB,WAAO,KAAP;EACD;;EACD,MAAG,OAAOA,KAAP,KAAiB,QAAjB,IAA6B,OAAOA,KAAP,KAAiB,QAAjD,EAA0D;EACxD,WAAO,IAAP;EACD,GAFD,MAEO;EACL,WAAO,KAAP;EACD;EACF,CAZM;AAcP,EAAO,IAAMuD,SAAS,GAAG,SAAZA,SAAY,CAAAvD,KAAK;EAAA,SAAE,CAACsD,QAAQ,CAACtD,KAAD,CAAX;EAAA,CAAvB;AAEP,EAAO,IAAMwD,WAAW,GAAG,SAAdA,WAAc,CAACC,MAAD;EAAA,SAAW,OAAOA,MAAP,KAAkB,QAAlB,IAA8BA,MAAM,KAAK,IAAzC,IAAiD,OAAOA,MAAM,CAAC,MAAD,CAAb,KAA0B,UAA3E,IAAyF,OAAOA,MAAM,CAAC,OAAD,CAAb,KAA2B,UAA/H;EAAA,CAApB;;EC3LA,IAAMC,GAAG,GAAG,SAANA,GAAM,CAAUlE,IAAV,EAAgBmE,EAAhB,EAAmB;EACpCnE,EAAAA,IAAI,GAAGoE,OAAO,CAACpE,IAAD,CAAd;;EAEA,MAAGA,IAAI,CAACyB,MAAL,KAAgB,CAAnB,EAAqB;EACnB,WAAO,KAAP;EACD;;EAED,OAAI,IAAI0B,CAAC,GAAG,CAAR,EAAWkB,CAAC,GAAGrE,IAAI,CAACyB,MAAxB,EAAgC0B,CAAC,GAAGkB,CAApC,EAAuClB,CAAC,EAAxC,EAA2C;EACzC,QAAG,CAACgB,EAAE,CAACnE,IAAI,CAACmD,CAAD,CAAL,EAAUA,CAAV,CAAN,EAAmB;EACjB,aAAO,KAAP;EACD;EACF;EAED,SAAO,IAAP;EACD,CAdM;AAgBP,EAAO,IAAMmB,KAAK,GAAG,SAARA,KAAQ,CAAU7C,MAAV,EAAkB0C,EAAlB,EAAqB;EACxC,MAAMI,MAAM,GAAG,EAAf;;EACA,OAAI,IAAIpB,CAAC,GAAG,CAAR,EAAWkB,CAAC,GAAG5C,MAAnB,EAA2B0B,CAAC,GAAGkB,CAA/B,EAAkClB,CAAC,EAAnC,EAAsC;EACpCoB,IAAAA,MAAM,CAACC,IAAP,CAAYL,EAAE,CAAChB,CAAD,CAAd;EACD;;EACD,SAAOoB,MAAP;EACD,CANM;AAQP,EAAO,IAAME,OAAO,GAAG,SAAVA,OAAU,CAAUC,MAAV,EAAkBP,EAAlB,EAAqB;EAC1C,MAAG,OAAOO,MAAP,KAAkB,QAAlB,IAA8B,CAAC7D,OAAO,CAAC6D,MAAD,CAAzC,EAAmD,KAAI,IAAIC,CAAR,IAAaD,MAAb;EAAqBA,IAAAA,MAAM,CAACC,CAAD,CAAN,GAAYR,EAAE,CAACO,MAAM,CAACC,CAAD,CAAP,EAAYA,CAAZ,CAAd;EAArB,GAAnD,MACK,OAAOR,EAAE,CAACO,MAAD,EAAU,KAAK,CAAf,CAAT;EACL,SAAOA,MAAP;EACD,CAJM;AAMP,EAAO,IAAME,KAAK,GAAG,SAARA,KAAQ,CAACC,QAAD,EAAWV,EAAX,EAAgB;EACnC,MAAII,MAAM,GAAG,EAAb;;EACA,OAAI,IAAIpB,CAAC,GAAG,CAAR,EAAWkB,CAAC,GAAGQ,QAAQ,CAACpD,MAA5B,EAAoC0B,CAAC,GAAGkB,CAAxC,EAA2ClB,CAAC,EAA5C,EAA+C;EAC7C,SAAI,IAAI2B,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAGV,CAArB,EAAwBS,EAAE,GAAGC,EAA7B,EAAkC5B,CAAC,KAAK2B,EAAN,IAAYP,MAAM,CAACC,IAAP,CAAY,CAACK,QAAQ,CAAC1B,CAAD,CAAT,EAAc0B,QAAQ,CAACC,EAAD,CAAtB,CAAZ,CAAb,EAAwDA,EAAE,EAA3F;AAA8F,EAA9F;EACD;;EACD,SAAO,OAAOX,EAAP,KAAc,UAAd,GAA2BI,MAAM,CAACS,GAAP,CAAW,UAAAC,SAAS;EAAA,WAAEd,EAAE,CAACe,KAAH,CAASjF,SAAT,EAAoBgF,SAApB,CAAF;EAAA,GAApB,CAA3B,GAAmFV,MAA1F;EACD,CANM;;ECdA,IAAMY,UAAU,GAAI,YAAW;EACpC,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,OAAO;EAAA,WAAEC,OAAO,CAAClB,OAAO,CAACiB,OAAD,CAAR,CAAT;EAAA,GAA7B;;EACA,SAAO,UAAUE,IAAV,EAAgBF,OAAhB,EAAyBG,MAAzB,EAAiCC,KAAjC,EAAuC;EAC5C,QAAMC,OAAO,GAAG;EACdC,MAAAA,OAAO,EAAEJ,IADK;EAEdE,MAAAA,KAAK,EAALA;EAFc,KAAhB;EAKA,QAAMG,eAAe,GAAGR,aAAa,CAACC,OAAD,CAArC;EAEA,QAAMQ,YAAY,GAAG;EACnBC,MAAAA,UAAU,EAAI,CADK;EAEnBC,MAAAA,SAAS,EAAKR,IAAI,CAAC9D,MAFA;EAGnBuE,MAAAA,YAAY,EAAE,CAHK;EAInBC,MAAAA,MAAM,EAAQ;EAJK,KAArB;;EAOA,QAAG,OAAOR,KAAP,KAAiB,QAAjB,IAA6BnF,QAAQ,CAACmF,KAAK,CAACS,KAAP,CAAxC,EAAsD;EACpDL,MAAAA,YAAY,CAACG,YAAb,GAA4BP,KAAK,CAACS,KAAlC;EACAL,MAAAA,YAAY,CAACI,MAAb,GAAsBR,KAAK,CAACS,KAA5B;EACD;;EAED,QAAMC,IAAI,GAAG,SAAPA,IAAO,OAA8G;EAAA,mCAAlGN,YAAkG;EAAA,UAAnFC,UAAmF,qBAAnFA,UAAmF;EAAA,UAAvEC,SAAuE,qBAAvEA,SAAuE;EAAA,UAA5DC,YAA4D,qBAA5DA,YAA4D;EAAA,UAA9CC,MAA8C,qBAA9CA,MAA8C;EAAA,UAApCG,YAAoC,QAApCA,YAAoC;EAAA,UAAtBZ,MAAsB,QAAtBA,MAAsB;EAAA,UAAda,WAAc,QAAdA,WAAc;;EACzH,UAAGJ,MAAM,IAAIF,SAAb,EAAuB;EACrB,eAAO,KAAP;EACD,OAHwH;;;EAMzH,UAAMO,UAAU,GAAGF,YAAY,CAACpB,GAAb,CAAiB;EAAA,YAAEuB,SAAF;EAAA,YAAaC,QAAb;EAAA,eAA0B,CAACC,WAAW,CAAClB,IAAD,EAAOiB,QAAP,EAAiBP,MAAjB,CAAZ,EAAsCM,SAAtC,EAAiDC,QAAjD,CAA1B;EAAA,OAAjB,CAAnB;EACA,UAAIE,UAAU,GAAKtC,OAAO,CAACkC,UAAD,CAAP,CAAoB9C,IAApB,CAAyB;EAAA,YAAEzB,CAAF;EAAA,YAAK4E,SAAL;EAAA,YAAkBC,CAAlB;EAAA,YAAqBC,SAArB;EAAA,eAC1C9E,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP,GAAW,IAAX,GACE6E,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP,GAAW,KAAX,GACA7E,CAAC,CAAC,CAAD,CAAD,IAAQ6E,CAAC,CAAC,CAAD,CAAT,GAAeD,SAAS,GAAGE,SAA3B,GAAuC9E,CAAC,CAAC,CAAD,CAAD,GAAO6E,CAAC,CAAC,CAAD,CAHP;EAAA,OAAzB,EAIhB,CAJgB,CAAnB,CAPyH;;EAczH,UAAG,CAACF,UAAJ,EAAe;EAAE,eAAO,KAAP;EAAc,OAd0F;;;EAiBzH,UAAGA,UAAU,CAAC,CAAD,CAAV,CAAc,CAAd,MAAqB,CAAC,CAAzB,EAA2B;EACzBA,QAAAA,UAAU,GAAG,CAAC,CAAC,CAAC,CAAF,EAAK,CAAL,CAAD,EAAU,CAAC,CAAX,EAAc,IAAd,CAAb;EACD,OAnBwH;;;EAAA,wBAsBhEA,UAtBgE;EAAA;EAAA,UAsBhHI,UAtBgH;EAAA,UAsBpGC,SAtBoG;EAAA,UAsBvFR,SAtBuF;EAAA,UAsB5EC,QAtB4E;EAuBzH,UAAMQ,SAAS,GAAGhB,YAAlB;EACA,UAAMiB,OAAO,GAAKV,SAAS,KAAK,CAAC,CAAf,GAAmBR,SAAnB,GAAgCe,UAAU,GAAGC,SAA/D;EACA,UAAMG,QAAQ,GAAID,OAAO,GAAGD,SAA5B;EACA,UAAMG,QAAQ,GAAID,QAAQ,GAAGH,SAA7B,CA1ByH;;EA6BzH,UAAMK,QAAQ,GAAG;EACfb,QAAAA,SAAS,EAATA,SADe;EAEfC,QAAAA,QAAQ,EAARA,QAFe;EAGfM,QAAAA,UAAU,EAAVA,UAHe;EAIfC,QAAAA,SAAS,EAATA,SAJe;EAKfI,QAAAA,QAAQ,EAARA;EALe,OAAjB;EAOA,UAAME,OAAO,GAAG;EACdvB,QAAAA,UAAU,EAAVA,UADc;EAEdC,QAAAA,SAAS,EAATA,SAFc;EAGdiB,QAAAA,SAAS,EAATA,SAHc;EAIdC,QAAAA,OAAO,EAAPA,OAJc;EAKdC,QAAAA,QAAQ,EAARA;EALc,OAAhB;EAOA,UAAMI,KAAK,GAAG;EACZC,QAAAA,IADY,gBACNnB,YADM,EACQZ,MADR,EACe;EACzB,cAAMI,eAAe,GAAGR,aAAa,CAACC,OAAD,CAArC;EACAc,UAAAA,IAAI,CAAC;EACHN,YAAAA,YAAY,EAAE;EACZC,cAAAA,UAAU,EAAIsB,QAAQ,CAACN,UADX;EAEZf,cAAAA,SAAS,EAAKqB,QAAQ,CAACN,UAAT,GAAsBC,SAFxB;EAGZf,cAAAA,YAAY,EAAEoB,QAAQ,CAACN,UAHX;EAIZb,cAAAA,MAAM,EAAQmB,QAAQ,CAACN;EAJX,aADX;EAOHV,YAAAA,YAAY,EAAER,eAPX;EAQHJ,YAAAA,MAAM,EAANA,MARG;EASHa,YAAAA,WAAW,EAAXA;EATG,WAAD,CAAJ;EAWD,SAdW;EAeZmB,QAAAA,IAfY,gBAeNC,UAfM,EAeK;EACf,cAAMC,QAAQ,GAAGpH,QAAQ,CAACmH,UAAD,CAAR,GAAuBA,UAAvB,GAAoCJ,OAAO,CAACJ,OAA7D;EACAd,UAAAA,IAAI,CAAC;EACHN,YAAAA,YAAY,EAAE;EACZC,cAAAA,UAAU,EAAVA,UADY;EAEZC,cAAAA,SAAS,EAATA,SAFY;EAGZC,cAAAA,YAAY,EAAE0B,QAHF;EAIZzB,cAAAA,MAAM,EAAQyB;EAJF,aADX;EAOHtB,YAAAA,YAAY,EAAZA,YAPG;EAQHZ,YAAAA,MAAM,EAANA,MARG;EASHa,YAAAA,WAAW,EAAXA;EATG,WAAD,CAAJ;EAWD,SA5BW;EA6BZsB,QAAAA,KA7BY,iBA6BLC,YA7BK,EA6BSC,WA7BT,EA6BqB;EAC/B1B,UAAAA,IAAI,CAAC;EACHN,YAAAA,YAAY,EAAE;EACZC,cAAAA,UAAU,EAAVA,UADY;EAEZC,cAAAA,SAAS,EAATA,SAFY;EAGZC,cAAAA,YAAY,EAAEoB,QAAQ,CAACN,UAHX;EAIZb,cAAAA,MAAM,EAAQmB,QAAQ,CAACN;EAJX,aADX;EAOHV,YAAAA,YAAY,EAAEhB,aAAa,CAACwC,YAAD,CAPxB;EAQHpC,YAAAA,MAAM,EAAQqC,WARX;EASHxB,YAAAA,WAAW,EAAG;EACZmB,cAAAA,IAAI,EAAEF,KAAK,CAACE;EADA;EATX,WAAD,CAAJ;EAaD,SA3CW;EA4CZM,QAAAA,IA5CY,gBA4CNL,UA5CM,EA4CK;EACfpB,UAAAA,WAAW,IAAIA,WAAW,CAACmB,IAAZ,CAAiBlH,QAAQ,CAACmH,UAAD,CAAR,GAAuBA,UAAvB,GAAoCJ,OAAO,CAACJ,OAA7D,CAAf;EACD,SA9CW;EA+CZc,QAAAA,IA/CY,kBA+CL;EACL5B,UAAAA,IAAI,CAAC;EACHN,YAAAA,YAAY,EAAE;EACZC,cAAAA,UAAU,EAAVA,UADY;EAEZC,cAAAA,SAAS,EAATA,SAFY;EAGZC,cAAAA,YAAY,EAAEgB,SAHF;EAIZf,cAAAA,MAAM,EAAQoB,OAAO,CAACJ;EAJV,aADX;EAOHb,YAAAA,YAAY,EAAZA,YAPG;EAQHZ,YAAAA,MAAM,EAANA,MARG;EASHa,YAAAA,WAAW,EAAXA;EATG,WAAD,CAAJ;EAWD;EA3DW,OAAd;EA8DAb,MAAAA,MAAM,mBACDE,OADC,EAED0B,QAFC,EAGDC,OAHC,EAIDC,KAJC,EAAN;EAOA,aAAO,IAAP;EACD,KAjHD;;EAmHAnB,IAAAA,IAAI,CAAC;EACHN,MAAAA,YAAY,EAAZA,YADG;EAEHO,MAAAA,YAAY,EAAER,eAFX;EAGHJ,MAAAA,MAAM,EAANA;EAHG,KAAD,CAAJ;EAMA,WAAOE,OAAP;EACD,GA9ID;EA+ID,CAjJ0B,EAApB;AAmJP,EAAO,IAAMsC,QAAQ,GAAI,YAAW;EAClC,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,OAAD,EAAUC,cAAV;EAAA,WAA2BA,cAAc,IAAID,OAAO,CAACE,OAAR,CAAgB,GAAhB,MAAyB,CAA3C,GAA+CF,OAAO,CAACG,MAAR,CAAe,CAAf,CAA/C,GAAmEH,OAA9F;EAAA,GAAxB;;EACA,MAAMI,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,SAAD,EAAa;EACrC;EACAA,IAAAA,SAAS,GAAGA,SAAS,CAACC,SAAV,CAAoB,CAApB,EAAuBD,SAAS,CAAC9G,MAAV,GAAmB,CAA1C,CAAZ,CAFqC;;EAKrC,QAAG,WAAWf,IAAX,CAAgB6H,SAAhB,CAAH,EAA8B;EAC5B,aAAO3H,QAAQ,CAAC2H,SAAD,EAAY,EAAZ,CAAf;EACD,KAPoC;;;EAUrC,QAAG,WAAW7H,IAAX,CAAgB6H,SAAhB,KAA8B,WAAW7H,IAAX,CAAgB6H,SAAhB,CAAjC,EAA4D;EAC1DA,MAAAA,SAAS,GAAGA,SAAS,CAACC,SAAV,CAAoB,CAApB,EAAuBD,SAAS,CAAC9G,MAAV,GAAmB,CAA1C,CAAZ;EACD;;EACD,WAAO8G,SAAP;EACD,GAdD;;EAgBA,SAAO,UAAUE,SAAV,EAAoB;EACzB,QAAG5H,OAAO,CAAC4H,SAAD,CAAV,EAAsB;EACpB,aAAOA,SAAP;EACD;;EAED,QAAGvH,UAAU,CAACuH,SAAD,CAAb,EAAyB;EACvB,UAAGnI,QAAQ,CAACmI,SAAD,CAAX,EAAuB;EACrB,eAAO,CAACA,SAAD,CAAP;EACD;;EAED,UAAG,OAAOA,SAAP,KAAqB,QAAxB,EAAiC;EAC/B;EACA,YAAG,CAAC,QAAQ/H,IAAR,CAAa+H,SAAb,CAAJ,EAA4B;EAC1B,iBAAO,CAACA,SAAD,CAAP;EACD,SAJ8B;;;EAAA,0BAOGtD,UAAU,CAACsD,SAAD,EAAY,CAAC,GAAD,EAAM,GAAN,CAAZ,EAAwB,iBAEhE;EAAA,cADF9C,OACE,SADFA,OACE;EAAA,cADe+C,IACf,SADOjD,KACP,CADeiD,IACf;EAAA,cADuBlC,QACvB,SADuBA,QACvB;EAAA,cADiCQ,SACjC,SADiCA,SACjC;EAAA,cAD4CC,OAC5C,SAD4CA,OAC5C;EAAA,cADqDE,QACrD,SADqDA,QACrD;EAAA,cAD+DQ,KAC/D,SAD+DA,KAC/D;EAAA,cADsEH,IACtE,SADsEA,IACtE;;EACF,cAAGhB,QAAQ,KAAK,GAAhB,EAAoB;EAClBW,YAAAA,QAAQ,IAAIuB,IAAI,CAAClE,IAAL,CAAUmB,OAAO,CAAC0C,MAAR,CAAerB,SAAf,EAA0BG,QAA1B,CAAV,CAAZ;EACAK,YAAAA,IAAI;EACL;;EACD,cAAGhB,QAAQ,KAAK,GAAhB,EAAoB;EAClB,gBAAImC,UAAU,GAAG,CAAjB;;EAEA,gBAAGxB,QAAH,EAAY;EACVuB,cAAAA,IAAI,CAAClE,IAAL,CAAUyD,eAAe,CAACtC,OAAO,CAAC0C,MAAR,CAAerB,SAAf,EAA0BG,QAA1B,CAAD,EAAsCH,SAAS,KAAK,CAApD,CAAzB;EACD;;EAEDW,YAAAA,KAAK,CAAC,CAAC,GAAD,EAAM,GAAN,CAAD,EAAa,iBAAgD;EAAA,kBAA7CnB,QAA6C,SAA7CA,QAA6C;EAAA,kBAAnCQ,SAAmC,SAAnCA,SAAmC;EAAA,kBAAxBC,OAAwB,SAAxBA,OAAwB;EAAA,kBAAfc,IAAe,SAAfA,IAAe;EAAA,kBAATD,IAAS,SAATA,IAAS;EAChE,kBAAGtB,QAAQ,KAAK,GAAhB,EAAqBmC,UAAU;EAC/B,kBAAGnC,QAAQ,KAAK,GAAhB,EAAqBmC,UAAU;EAC/B,kBAAGnC,QAAQ,KAAK,IAAhB,EAAsB;;EACtB,kBAAGmC,UAAU,KAAK,CAAlB,EAAoB;EAClBD,gBAAAA,IAAI,CAAClE,IAAL,CAAU8D,iBAAiB,CAAC3C,OAAO,CAAC6C,SAAR,CAAkBxB,SAAlB,EAA6BC,OAA7B,CAAD,CAA3B;EACAa,gBAAAA,IAAI;EACL,eAHD,MAGO;EACLC,gBAAAA,IAAI;EACL;EACF,aAVI,CAAL;EAWD;;EACD,cAAGvB,QAAQ,KAAK,IAAhB,EAAqB;EACnBkC,YAAAA,IAAI,CAAClE,IAAL,CAAUyD,eAAe,CAACtC,OAAO,CAAC0C,MAAR,CAAerB,SAAf,EAA0BC,OAA1B,CAAD,EAAqCD,SAAS,KAAK,CAAnD,CAAzB;EACD;EACF,SA7B2C,EA6BzC;EAAE0B,UAAAA,IAAI,EAAE;EAAR,SA7ByC,CAPb;EAAA,YAOVnE,MAPU,eAOvBkB,KAPuB,CAOfiD,IAPe;;EAsC/B,eAAOnE,MAAP;EACD;EACF;;EACD,WAAO,EAAP;EACD,GApDD;EAqDD,CAvEwB,EAAlB;AAyEP,EAAO,IAAMqE,GAAG,GAAG,SAANA,GAAM,CAAU3E,MAAV,EAAkByE,IAAlB,EAAwBG,YAAxB,EAAqC;EACtD,MAAG,OAAO5E,MAAP,KAAkB,QAArB,EAA8B;EAC5B,YAAQ,OAAOyE,IAAf;EACE,WAAK,QAAL;EAAeA,QAAAA,IAAI,IAAI,EAAR;;EACf,WAAK,QAAL;EACEA,QAAAA,IAAI,GAAGV,QAAQ,CAACU,IAAD,CAAf;;EACF,WAAK,QAAL;EACE,YAAG7H,OAAO,CAAC6H,IAAD,CAAV,EAAiB;EACf,cAAMI,MAAM,GAAG5E,GAAG,CAACwE,IAAD,EAAO,UAACK,IAAD,EAAQ;EAC/B,gBAAG9H,UAAU,CAACgD,MAAD,CAAV,KAAuBA,MAAM,CAACzC,cAAP,CAAsBuH,IAAtB,KAA+B9E,MAAM,CAAC8E,IAAD,CAA5D,CAAH,EAAuE;EACrE9E,cAAAA,MAAM,GAAGA,MAAM,CAAC8E,IAAD,CAAf;EACA,qBAAO,IAAP;EACD,aAHD,MAGO;EACL,qBAAO,KAAP;EACD;EACF,WAPiB,CAAlB;EAQA,iBAAOD,MAAM,GAAG7E,MAAH,GAAY4E,YAAzB;EACD,SAVD,MAUO;EACL;EACD;;EACD;;EACF,WAAK,UAAL;EAAiB,eAAOH,IAAI,CAACM,IAAL,CAAU,IAAV,EAAgB/E,MAAhB,CAAP;EAnBnB;EAqBD,GAtBD,MAsBO,IAAG,OAAOA,MAAP,KAAkB,UAArB,EAAgC;EACrC,WAAOA,MAAM,CAACiB,KAAP,CAAa,IAAb,EAAmBpE,KAAK,CAACmI,SAAN,CAAgBC,KAAhB,CAAsBF,IAAtB,CAA2BlG,SAA3B,EAAsC,CAAtC,CAAnB,CAAP;EACD;;EACD,SAAOmB,MAAP;EACD,CA3BM;AA6BP,EAAO,IAAMkF,WAAW,GAAG,SAAdA,WAAc,CAAUlF,MAAV,EAAkBwE,SAAlB,EAA4B;EACrD,SAAOvE,GAAG,CAAC8D,QAAQ,CAACS,SAAD,CAAT,EAAsB,UAAAC,IAAI,EAAE;EACpC,QAAGzH,UAAU,CAACgD,MAAD,CAAV,IAAsB/C,UAAU,CAACwH,IAAD,CAAhC,IAA0CzE,MAAM,CAACzC,cAAP,CAAsBkH,IAAtB,CAA7C,EAAyE;EACvEzE,MAAAA,MAAM,GAAGA,MAAM,CAACyE,IAAD,CAAf;EACA,aAAO,IAAP;EACD;;EACD,WAAO,KAAP;EACD,GANS,CAAV;EAOD,CARM;AAUP,EAAO,IAAMU,QAAQ,GAAI,YAAW;EAClC,MAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAU3E,MAAV,EAAkBlE,KAAlB,EAAwB;EACrD,WAAOkE,MAAM,KAAKlE,KAAlB;EACD,GAFD;;EAIA,MAAM8I,0BAA0B,GAAG,SAA7BA,0BAA6B,CAAUC,WAAV,EAAsB;EACvD,WAAO,UAAU7E,MAAV,EAAkBlE,KAAlB,EAAwB;EAC7B,aAAOgJ,OAAO,CAACD,WAAW,CAAC7E,MAAD,EAASlE,KAAT,CAAZ,CAAd;EACD,KAFD;EAGD,GAJD;;EAMA,MAAMiJ,wBAAwB,GAAG,SAA3BA,wBAA2B,CAAUC,UAAV,EAAsBC,WAAtB,EAAkC;EACjE,QAAIC,eAAe,GAAK,OAAOF,UAAP,KAAsB,QAAtB,IAAkC,OAAOA,UAAP,KAAsB,QAAhF;EACA,QAAIG,gBAAgB,GAAGH,UAAU,KAAKC,WAAf,GAA6BC,eAA7B,GAAgD,OAAOD,WAAP,KAAuB,QAAvB,IAAmC,OAAOA,WAAP,KAAuB,QAAjI;EAEA,WAAO,UAAUjF,MAAV,EAAkBlE,KAAlB,EAAwB;EAC7B,UAAGoJ,eAAe,IAAI,CAAClF,MAAM,CAAClD,cAAP,CAAsBkI,UAAtB,CAAvB,EAA0D,OAAO,KAAP;EAC1D,UAAGG,gBAAgB,IAAI,CAACrJ,KAAK,CAACgB,cAAN,CAAqBmI,WAArB,CAAxB,EAA2D,OAAO,KAAP;EAE3D,aAAO,CAACC,eAAe,GAAGhB,GAAG,CAAClE,MAAD,EAASgF,UAAT,CAAN,GAA6BhF,MAA7C,OAA0DmF,gBAAgB,GAAGjB,GAAG,CAACpI,KAAD,EAAQmJ,WAAR,CAAN,GAA6BnJ,KAAvG,CAAP;EACD,KALD;EAMD,GAVD;;EAYA,SAAO,UAAUsJ,GAAV,EAAetJ,KAAf,EAAsBiD,GAAtB,EAA2BsG,MAA3B,EAAkC;EACvC,QAAG,OAAOtG,GAAP,KAAe,SAAlB,EAA4B;EAC1B,UAAG,OAAOsG,MAAP,KAAkB,SAArB,EAA+B;EAC7BA,QAAAA,MAAM,GAAGtG,GAAT;EACD;;EACDA,MAAAA,GAAG,GAAG,KAAK,CAAX;EACD;;EAED,QAAGqG,GAAG,KAAKtJ,KAAX,EAAiB;EACf,aAAO,IAAP;EACD,KAFD,MAEO,IAAGS,UAAU,CAAC6I,GAAD,CAAb,EAAmB;EACxB,UAAGtJ,KAAK,KAAM,KAAK,CAAhB,IAAsBiD,GAAG,KAAM,KAAK,CAAvC,EAA2C,OAAO,CAACxB,OAAO,CAAC6H,GAAD,CAAf;EAE3C,UAAIE,IAAJ;;EAEA,UAAGvG,GAAH,EAAO;EACL,YAAG,OAAOA,GAAP,KAAe,UAAlB,EAA6B;EAC3BuG,UAAAA,IAAI,GAAGV,0BAA0B,CAAC7F,GAAD,CAAjC;EACD,SAFD,MAEO,IAAG5C,OAAO,CAAC4C,GAAD,CAAP,IAAgBA,GAAG,CAAChC,MAAJ,GAAa,CAAhC,EAAkC;EACvCuI,UAAAA,IAAI,GAAGP,wBAAwB,CAAChG,GAAG,CAAC,CAAD,CAAJ,EAASA,GAAG,CAAC,CAAD,CAAZ,CAA/B;EACD,SAFM,MAEA,IAAG,OAAOA,GAAP,KAAe,QAAf,IAA2B,OAAOA,GAAP,KAAe,QAA7C,EAAsD;EAC3DuG,UAAAA,IAAI,GAAGP,wBAAwB,CAAChG,GAAD,EAAMA,GAAN,CAA/B;EACD;EACF,OARD,MAQO;EACLuG,QAAAA,IAAI,GAAGX,sBAAP;EACD;;EAED,UAAGxI,OAAO,CAACiJ,GAAD,CAAV,EAAgB;EACd,aAAI,IAAI3G,CAAC,GAAG,CAAR,EAAWkB,CAAC,GAAGyF,GAAG,CAACrI,MAAvB,EAA+B0B,CAAC,GAAGkB,CAAnC,EAAsClB,CAAC,EAAvC;EAA2C,cAAG6G,IAAI,CAACF,GAAG,CAAC3G,CAAD,CAAJ,EAAS3C,KAAT,CAAP,EAAwB,OAAOuJ,MAAM,GAAG5G,CAAH,GAAO,IAApB;EAAnE;EACD,OAFD,MAEO;EACL,aAAI,IAAI8G,MAAR,IAAkBH,GAAlB;EAAuB,cAAGA,GAAG,CAACtI,cAAJ,CAAmByI,MAAnB,KAA8BD,IAAI,CAACF,GAAG,CAACG,MAAD,CAAJ,EAAczJ,KAAd,CAArC,EAA2D,OAAOuJ,MAAM,GAAGE,MAAH,GAAY,IAAzB;EAAlF;EACD;EACF;;EAED,WAAOF,MAAM,GAAG,KAAK,CAAR,GAAY,KAAzB;EACD,GAnCD;EAoCD,CA3DwB,EAAlB;AA6DP,EAAO,IAAMG,QAAQ,GAAG,SAAXA,QAAW,CAAUC,SAAV,EAAqBC,MAArB,EAA6BC,SAA7B,EAAuC;EAC7D,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAAC9J,KAAD,EAAQoC,KAAR,EAAe2H,KAAf;EAAA,WAAuB1J,OAAO,CAACL,KAAD,CAAP,GAAiBgK,UAAU,CAAChK,KAAD,EAAQoC,KAAR,EAAe2H,KAAf,CAA3B,GAAmDxJ,QAAQ,CAACP,KAAD,CAAR,GAAkBiK,WAAW,CAACjK,KAAD,EAAQoC,KAAR,EAAe2H,KAAf,CAA7B,GAAqDG,cAAc,CAAClK,KAAD,EAAQoC,KAAR,EAAe2H,KAAf,CAA7I;EAAA,GAAnB;;EAEA,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAACG,KAAD,EAAQ/H,KAAR,EAAe2H,KAAf,EAAuB;EACxC,WAAOH,MAAM,CAAC;EACZQ,MAAAA,IAAI,EAAG,OADK;EAEZpK,MAAAA,KAAK,EAAEmK,KAFK;EAGZlH,MAAAA,GAAG,EAAI,IAHK;EAIZb,MAAAA,KAAK,EAALA,KAJY;EAKZ2H,MAAAA,KAAK,EAALA,KALY;EAMZ5C,MAAAA,KAAK,EAAE,eAAC4C,KAAD,EAAS;EACd,YAAMM,aAAa,GAAGjI,KAAK,GAAG,CAA9B;EACA,eAAO9B,KAAK,CAAC6J,KAAK,CAAClJ,MAAP,CAAL,CAAoBqJ,IAApB,CAAyB,KAAK,CAA9B,EAAiC9F,GAAjC,CAAqC,UAAC+F,CAAD,EAAI5H,CAAJ;EAAA,iBAAQA,CAAR;EAAA,SAArC,EAAgD6B,GAAhD,CAAoD,UAAAvB,GAAG,EAAE;EAC9D,cAAMjD,KAAK,GAAGmK,KAAK,CAAClH,GAAD,CAAnB;EACA,iBAAO6G,UAAU,CAAC9J,KAAD,EAAQqK,aAAR,EAAuBN,KAAvB,CAAjB;EACD,SAHM,CAAP;EAID;EAZW,KAAD,CAAb;EAcD,GAfD;;EAiBA,MAAME,WAAW,GAAG,SAAdA,WAAc,CAAC/F,MAAD,EAAS9B,KAAT,EAAgB2H,KAAhB,EAAwB;EAC1C,WAAOH,MAAM,CAAC;EACZQ,MAAAA,IAAI,EAAG,QADK;EAEZpK,MAAAA,KAAK,EAAEkE,MAFK;EAGZjB,MAAAA,GAAG,EAAI,IAHK;EAIZb,MAAAA,KAAK,EAALA,KAJY;EAKZ2H,MAAAA,KAAK,EAALA,KALY;EAMZ5C,MAAAA,KAAK,EAAE,eAAC4C,KAAD,EAAS;EACd,YAAMM,aAAa,GAAGjI,KAAK,GAAG,CAA9B;EACA,eAAOhB,MAAM,CAAC0B,IAAP,CAAYoB,MAAZ,EAAoBM,GAApB,CAAwB,UAAAvB,GAAG,EAAE;EAClC,cAAMjD,KAAK,GAAGkE,MAAM,CAACjB,GAAD,CAApB;EACA,iBAAO2G,MAAM,CAAC;EACZQ,YAAAA,IAAI,EAAG,MADK;EAEZnH,YAAAA,GAAG,EAAHA,GAFY;EAGZjD,YAAAA,KAAK,EAALA,KAHY;EAIZoC,YAAAA,KAAK,EAALA,KAJY;EAKZ2H,YAAAA,KAAK,EAALA,KALY;EAMZ5C,YAAAA,KAAK,EAAE,eAAC4C,KAAD;EAAA,qBAASD,UAAU,CAAC9J,KAAD,EAAQqK,aAAR,EAAuBN,KAAvB,CAAnB;EAAA;EANK,WAAD,CAAb;EAQD,SAVM,CAAP;EAWD;EAnBW,KAAD,CAAb;EAqBD,GAtBD;;EAwBA,MAAMG,cAAc,GAAG,SAAjBA,cAAiB,CAAClK,KAAD,EAAQoC,KAAR,EAAe2H,KAAf,EAAuB;EAC5CH,IAAAA,MAAM,CAAC;EACLQ,MAAAA,IAAI,EAAG,OADF;EAELnH,MAAAA,GAAG,EAAI,IAFF;EAGLjD,MAAAA,KAAK,EAALA,KAHK;EAILoC,MAAAA,KAAK,EAALA,KAJK;EAKL2H,MAAAA,KAAK,EAALA,KALK;EAML5C,MAAAA,KAAK,EAAE,eAAC4C,KAAD;EAAA,eAASA,KAAT;EAAA;EANF,KAAD,CAAN;EAQD,GATD;;EAWAD,EAAAA,UAAU,CAACH,SAAD,EAAY,CAAZ,EAAeE,SAAf,CAAV;EACA,SAAOA,SAAP;EACD,CAzDM;;EC/TA,IAAMW,QAAQ,GAAG,SAAXA,QAAW,CAAUxK,KAAV,EAAiByK,UAAjB,EAAqC;EAAA,oCAALC,IAAK;EAALA,IAAAA,IAAK;EAAA;;EAC3D,SAAO,OAAO1K,KAAP,KAAiB,WAAjB,GAA+ByK,UAAU,MAAV,SAAcC,IAAd,CAA/B,GAAqD1K,KAA5D;EACD,CAFM;AAIP,EAAO,IAAM2K,OAAO,GAAG,SAAVA,OAAU,CAAU3K,KAAV,EAAyB;EAAA,qCAAL0K,IAAK;EAALA,IAAAA,IAAK;EAAA;;EAC9C,SAAO,OAAO1K,KAAP,KAAiB,UAAjB,GAA8BA,KAAK,MAAL,SAAS0K,IAAT,CAA9B,GAA+C1K,KAAtD;EACD,CAFM;AAIP,EAAO,IAAM4K,UAAU,GAAG,SAAbA,UAAa,CAAUC,MAAV,EAAkBC,IAAlB,EAAwBC,IAAxB,EAA6B;EACrD,MAAG,CAACrK,UAAU,CAACmK,MAAD,CAAd,EAAwB,OAAO,KAAP;EACxB,MAAG,OAAOC,IAAP,KAAgB,WAAnB,EAAgC,OAAO,IAAP;EAChC,SAAO,OAAOA,IAAP,KAAgB,UAAhB,GAA6B9B,OAAO,CAAC8B,IAAI,CAACD,MAAD,EAASE,IAAT,CAAL,CAApC,GACHrK,UAAU,CAACoK,IAAD,CAAV,GAAmB,CAACD,MAAM,GAAG,EAAV,EAAcjD,OAAd,CAAsBkD,IAAI,GAAG,EAA7B,IAAmC,CAAC,CAAvD,GACAA,IAAI,YAAYpJ,MAAhB,GAAyBoJ,IAAI,CAAC5K,IAAL,CAAU2K,MAAV,CAAzB,GACAxK,OAAO,CAACyK,IAAD,CAAP,GAAgBA,IAAI,CAACE,IAAL,CAAU,UAAAC,SAAS;EAAA,WAAEA,SAAS,KAAKJ,MAAhB;EAAA,GAAnB,CAAhB,GACA,KAJJ;EAKD,CARM;AAUP,EAAO,IAAM/H,IAAI,GAAG,SAAPA,IAAO,CAAUW,MAAV,EAAkByH,SAAlB,EAA6B7I,MAA7B,EAAoC;EACtD,MAAM0B,MAAM,GAAG,EAAf;;EAEA,MAAG,CAACtD,UAAU,CAACgD,MAAD,CAAd,EAAuB;EACrB,WAAOM,MAAP;EACD;;EAED,MAAG1B,MAAM,KAAK,IAAX,GAAkBhC,OAAO,CAACoD,MAAD,CAAzB,GAAoC3C,SAAS,CAAC2C,MAAD,CAAhD,EAAyD;EACvDrC,IAAAA,MAAM,CAAC0B,IAAP,CAAYW,MAAZ,EAAoBtB,MAApB,CAA2B,UAAAc,GAAG,EAAE;EAC9B,UAAG9C,KAAK,CAAC8C,GAAD,CAAR,EAAe;EACf,UAAMkI,SAAS,GAAG/K,QAAQ,CAAC6C,GAAD,EAAM,EAAN,CAA1B;EACA2H,MAAAA,UAAU,CAACO,SAAD,EAAYD,SAAZ,EAAuBzH,MAAM,CAACR,GAAD,CAA7B,CAAV,IAAiDc,MAAM,CAACC,IAAP,CAAY5D,QAAQ,CAAC+K,SAAD,EAAY,EAAZ,CAApB,CAAjD;EACD,KAJD;EAKD,GAND,MAMO,IAAI9I,MAAM,KAAK,IAAX,GAAkBnB,aAAa,CAACuC,MAAD,CAA/B,GAA0ChD,UAAU,CAACgD,MAAD,CAAxD,EAAkE;EACvErC,IAAAA,MAAM,CAAC0B,IAAP,CAAYW,MAAZ,EAAoB2H,OAApB,CAA4B,UAAAnI,GAAG,EAAE;EAC/B2H,MAAAA,UAAU,CAAC3H,GAAD,EAAMiI,SAAN,EAAiBzH,MAAM,CAACR,GAAD,CAAvB,CAAV,IAA2Cc,MAAM,CAACC,IAAP,CAAYf,GAAZ,CAA3C;EACD,KAFD;EAGD;;EAED,SAAOc,MAAP;EACD,CApBM;AAuBP,EAAO,IAAMsH,QAAQ,GAAI,YAAW;EAClC,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAU7H,MAAV,EAAkBtB,SAAlB,EAA0B2E,KAA1B,EAAiCyE,KAAjC,EAAuC;EAC5D,QAAG,OAAO9H,MAAP,KAAkB,QAArB,EAA8B;EAC5BX,MAAAA,IAAI,CAACW,MAAD,EAAS,UAACR,GAAD,EAAO;EAClB,YAAMuI,KAAK,GAAI/H,MAAM,CAACR,GAAD,CAArB;EACA,YAAMwI,MAAM,GAAGtJ,SAAM,CAACqJ,KAAD,EAAQvI,GAAR,EAAa6D,KAAK,CAAC7F,MAAnB,CAArB;;EACA,YAAG,CAACwK,MAAJ,EAAW;EACT;EACD;;EACD,YAAMC,YAAY,GAAGC,KAAK,CAAC7E,KAAD,CAA1B;EACA4E,QAAAA,YAAY,CAAC1H,IAAb,CAAkBf,GAAlB;EACAsI,QAAAA,KAAK,CAACvH,IAAN,CAAW0H,YAAX;EACAJ,QAAAA,cAAc,CAACE,KAAD,EAAQrJ,SAAR,EAAgBuJ,YAAhB,EAA8BH,KAA9B,CAAd;EACD,OAVG,EAUD,IAVC,CAAJ;EAWD;EACF,GAdD;;EAgBA,SAAO,UAAU9H,MAAV,EAAkBtB,SAAlB,EAAyB;EAC9B,QAAM4B,MAAM,GAAG,EAAf;EACAuH,IAAAA,cAAc,CAAC7H,MAAD,EAAStB,SAAM,GAAG,UAACqJ,KAAD,EAAQvI,GAAR,EAAc;EAAEd,MAAAA,SAAM,CAACqJ,KAAD,EAAQvI,GAAR,CAAN;EAAoB,KAAvC,GAA0C;EAAA,aAAI,IAAJ;EAAA,KAAzD,EAAmE,EAAnE,EAAuEc,MAAvE,CAAd;EACA,WAAOA,MAAP;EACD,GAJD;EAKD,CAtBwB,EAAlB;AAwBP,EAAO,IAAMe,OAAO,GAAG,SAAVA,OAAU,CAAUxF,EAAV,EAAa;EAClC,MAAMyE,MAAM,GAAG,EAAf;;EACA,UAAQ,OAAOzE,EAAf;EACE,SAAK,QAAL;EACE;EACAC,MAAAA,MAAM,CAACD,EAAD,CAAN,GAAa,CAAb,GACIwB,SAAS,CAACxB,EAAD,CAAT,GAAgBsE,OAAO,CAACtE,EAAD,CAAP,CAAY8L,OAAZ,CAAoB,UAACb,CAAD,EAAIpG,CAAJ,EAAQ;EAAEJ,QAAAA,MAAM,CAACC,IAAP,CAAY,CAACG,CAAD,EAAIoG,CAAJ,CAAZ;EAAqB,OAAnD,CAAhB,GACAnJ,MAAM,CAAC0B,IAAP,CAAYxD,EAAZ,EAAgB8L,OAAhB,CAAwB,UAAAnI,GAAG,EAAE;EAAEc,QAAAA,MAAM,CAACC,IAAP,CAAY,CAACf,GAAD,EAAM3D,EAAE,CAAC2D,GAAD,CAAR,CAAZ;EAA6B,OAA5D,CAFJ;EAGA;EANJ;;EAQA,SAAOc,MAAP;EACD,CAXM;;AAcP,EAAO,IAAMkC,WAAW,GAAG,SAAdA,WAAc,CAAC3G,EAAD,EAAKsM,MAAL,EAAaC,EAAb,EAAsB;EAAA,MAATA,EAAS;EAATA,IAAAA,EAAS,GAAJ,CAAI;EAAA;;EAC/C,MAAG,OAAOvM,EAAP,KAAc,QAAjB,EAA2B,MAAM,IAAIwM,KAAJ,oCAA2CxM,EAA3C,CAAN;EAC3B,MAAG,OAAOsM,MAAP,KAAkB,QAArB,EAA+BA,MAAM,GAAGA,MAAM,CAACG,OAAP,CAAe,IAAIrK,MAAJ,CAAW,eAAX,EAA4B,GAA5B,CAAf,EAAiD,UAAAI,CAAC;EAAA,kBAAOA,CAAP;EAAA,GAAlD,CAAT;EAC/B,MAAMiC,MAAM,GAAGzE,EAAE,CAACuI,MAAH,CAAUgE,EAAV,EAAcG,KAAd,CAAoBJ,MAApB,CAAf;EACA,SAAO7H,MAAM,GAAG,CAACA,MAAM,CAACkI,KAAP,GAAeJ,EAAhB,EAAoB9H,MAAM,CAAC,CAAD,CAAN,CAAU9C,MAA9B,CAAH,GAA2C,CAAC,CAAC,CAAF,EAAK,CAAL,CAAxD;EACD,CALM;AAOP,EAAO,IAAMiL,SAAS,GAAI,YAAW;EACnC,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAC7M,EAAD,EAAKsM,MAAL,EAAaC,EAAb;EAAA,WAAkBvM,EAAE,CAACsI,OAAH,CAAWgE,MAAX,EAAmBC,EAAnB,CAAlB;EAAA,GAAtB;;EACA,MAAMO,aAAa,GAAG,SAAhBA,aAAgB,CAAC9M,EAAD,EAAKsM,MAAL,EAAaC,EAAb,EAAkB;EACtC,QAAIlJ,CAAC,GAAGrD,EAAE,CAAC0I,SAAH,CAAa6D,EAAE,IAAI,CAAnB,EAAsBD,MAAtB,CAA6BA,MAA7B,CAAR;EACA,WAAQjJ,CAAC,IAAI,CAAN,GAAYA,CAAC,IAAIkJ,EAAE,IAAI,CAAV,CAAb,GAA6BlJ,CAApC;EACD,GAHD;;EAIA,SAAO,UAACrD,EAAD,EAAKsM,MAAL,EAAaC,EAAb;EAAA,WAAkB,CAAED,MAAM,YAAYlK,MAAnB,GAA6B0K,aAA7B,GAA6CD,aAA9C,EAA6D7M,EAA7D,EAAiEsM,MAAjE,EAAyEC,EAAzE,CAAlB;EAAA,GAAP;EACD,CAPyB,EAAnB;;AAUP,EAAO,IAAMQ,WAAW,GAAI,YAAW;EACrC,SAAO,UAAUC,CAAV,EAAaxK,CAAb,EAAgB+J,EAAhB,EAAmB;EACxB,QAAG,OAAOS,CAAP,KAAa,QAAb,IAAyB,OAAOA,CAAP,KAAa,QAAzC,EAAkD;EAChD,UAAIC,IAAI,GAAG,EAAX;EAAe,UAAIzK,CAAC,GAAGD,UAAU,CAACC,CAAD,CAAV,GAAgBA,CAAhB,GAAoBA,CAAC,GAAG,EAAhC;EAAoC,UAAI+J,EAAE,GAAI,CAACA,EAAD,IAAO,CAAC/L,QAAQ,CAAC+L,EAAD,CAAhB,IAAwBA,EAAE,GAAG,CAA9B,GAAmC,CAAnC,GAAuCA,EAAhD;EAAoD,UAAI7E,IAAJ;;EACvG,SAAG;EACD,YAAIrE,CAAC,GAAGuJ,SAAS,CAACI,CAAD,EAAIxK,CAAJ,EAAO+J,EAAP,CAAjB;;EACA,YAAGlJ,CAAC,GAAG,CAAC,CAAR,EAAU;EACRkJ,UAAAA,EAAE,GAAG,CAAC/J,CAAC,CAACb,MAAF,IAAY,CAAb,IAAkB0B,CAAvB;EACA4J,UAAAA,IAAI,CAACvI,IAAL,CAAUrB,CAAV;EACAqE,UAAAA,IAAI,GAAG,IAAP;EACD,SAJD,MAIO;EACLA,UAAAA,IAAI,GAAG,KAAP;EACD;EACF,OATD,QASQA,IATR;;EAUA,aAAOuF,IAAP;EACD;EACF,GAfD;EAgBD,CAjB2B,EAArB;;EAqBP,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAUlD,GAAV,EAAerG,GAAf,EAAmB;EACzC,MAAIH,IAAI,GAAGG,GAAG,CAACwJ,KAAJ,CAAU,GAAV,CAAX;EACA,MAAG,CAAC3J,IAAI,CAAC7B,MAAT,EAAiB,OAAO,KAAP;EAEjB,MAAIyL,OAAO,GAAGpD,GAAd;;EACA,OAAI,IAAIqD,EAAR,IAAc7J,IAAd,EAAmB;EACjB,QAAIqB,CAAC,GAAGrB,IAAI,CAAC6J,EAAD,CAAZ;;EAEA,QAAG,CAACD,OAAO,CAAC1L,cAAR,CAAuBmD,CAAvB,CAAJ,EAA8B;EAC5B,aAAO,KAAP;EACD,KAFD,MAEO;EACLuI,MAAAA,OAAO,GAAGA,OAAO,CAACvI,CAAD,CAAjB;EACD;EACF;;EACD,SAAO,IAAP;EACD,CAfD;;AAiBA,EAAO,IAAMyI,aAAa,GAAG,SAAhBA,aAAgB,CAAUC,MAAV,EAAkBC,KAAlB,EAAwB;EACnD,MAAIC,SAAS,GAAG3L,MAAM,CAAC0B,IAAP,CAAYgK,KAAZ,CAAhB;EACA,MAAIE,UAAJ;EACA,MAAIC,OAAO,GAAG,KAAd;;EACA,MAAG1M,QAAQ,CAACsM,MAAD,CAAX,EAAoB;EAClB,QAAGxM,OAAO,CAACwM,MAAD,CAAV,EAAmB;EACjBG,MAAAA,UAAU,GAAGH,MAAb;EACD,KAFD,MAEO;EACLG,MAAAA,UAAU,GAAG5L,MAAM,CAAC0B,IAAP,CAAY+J,MAAZ,CAAb;EACAI,MAAAA,OAAO,GAAG,IAAV;EACD;EACF,GAPD,MAOO;EACLD,IAAAA,UAAU,GAAG,EAAb;EACD;;EAED,MAAIE,QAAQ,GAAG;EACbJ,IAAAA,KAAK,EAAIA,KADI;EAEbD,IAAAA,MAAM,EAAGA,MAFI;EAGb/J,IAAAA,IAAI,EAAKqK,MAAM,CAACJ,SAAS,CAACK,MAAV,CAAiBJ,UAAjB,CAAD,CAAN,CAAqCK,MAArC,CAA4C,UAACC,IAAD,EAAOrK,GAAP,EAAa;EAAEqK,MAAAA,IAAI,CAACrK,GAAD,CAAJ,GAAYxD,SAAZ;EAAuB,aAAO6N,IAAP;EAAa,KAA/F,EAAiG,EAAjG,CAHI;EAIbtB,IAAAA,KAAK,EAAI,EAJI;EAKbuB,IAAAA,OAAO,EAAE,EALI;EAMbC,IAAAA,OAAO,EAAE,EANI;EAObC,IAAAA,IAAI,EAAK,EAPI;EAQbC,IAAAA,IAAI,EAAK,KARI;;EAAA,GAAf;;EAYA,OAAI,IAAIf,EAAR,IAAcK,UAAd,EAAyB;EACvB,QAAG,CAACA,UAAU,CAAChM,cAAX,CAA0B2L,EAA1B,CAAJ,EAAmC;EAEnC,QAAI1J,GAAG,GAAG+J,UAAU,CAACL,EAAD,CAApB;;EAEA,QAAGH,eAAe,CAACM,KAAD,EAAQ7J,GAAR,CAAlB,EAA+B;EAC7BiK,MAAAA,QAAQ,CAAClB,KAAT,CAAehI,IAAf,CAAoBf,GAApB;EACAiK,MAAAA,QAAQ,CAACpK,IAAT,CAAcG,GAAd,IAAqB,OAArB;;EAEA,UAAGgK,OAAO,IAAI,CAAC/J,OAAO,CAACkF,GAAG,CAAC0E,KAAD,EAAQ7J,GAAR,CAAJ,EAAkBmF,GAAG,CAACyE,MAAD,EAAS5J,GAAT,CAArB,CAAtB,EAA0D;EACxDiK,QAAAA,QAAQ,CAACO,IAAT,CAAczJ,IAAd,CAAmBf,GAAnB;EACAiK,QAAAA,QAAQ,CAACpK,IAAT,CAAcG,GAAd,IAAqB,MAArB;EACD;EACF,KARD,MAQO;EACLiK,MAAAA,QAAQ,CAACM,OAAT,CAAiBxJ,IAAjB,CAAsBf,GAAtB;EACAiK,MAAAA,QAAQ,CAACpK,IAAT,CAAcG,GAAd,IAAqB,SAArB;EACD;EACF,GA5CkD;;;EA+CnDW,EAAAA,OAAO,CAACmJ,SAAD,CAAP,CAAmB3B,OAAnB,CAA2B,UAAAnI,GAAG,EAAE;EAC9B,QAAG,CAAC2F,QAAQ,CAACsE,QAAQ,CAAClB,KAAV,EAAiB/I,GAAjB,CAAZ,EAAkC;EAChCiK,MAAAA,QAAQ,CAACK,OAAT,CAAiBvJ,IAAjB,CAAsBf,GAAtB;EACAiK,MAAAA,QAAQ,CAACpK,IAAT,CAAcG,GAAd,IAAqB,SAArB;EACD;EACF,GALD,EA/CmD;;EAuDnDiK,EAAAA,QAAQ,CAACQ,IAAT,GAAgB,CAACR,QAAQ,CAACK,OAAT,CAAiBtM,MAAlB,IAA4B,CAACiM,QAAQ,CAACM,OAAT,CAAiBvM,MAA9D;EAEA,SAAOiM,QAAP;EACD,CA1DM;;EC/IA,IAAMtJ,OAAO,GAAG,SAAVA,OAAU,CAAUpE,IAAV,EAAgBmO,YAAhB,EAAyC;EAAA,MAAzBA,YAAyB;EAAzBA,IAAAA,YAAyB,GAAVlO,SAAU;EAAA;;EAC9D,MAAGY,OAAO,CAACb,IAAD,CAAV,EAAiB;EACf,WAAOA,IAAP;EACD;;EACD,MAAGD,MAAM,CAACC,IAAD,CAAT,EAAgB;EACd,WAAOa,OAAO,CAACsN,YAAD,CAAP,GAAwBA,YAAxB,GACHpO,MAAM,CAACoO,YAAD,CAAN,GAAuB,EAAvB,GAA4B,CAACA,YAAD,CADhC;EAED;;EACD,MAAG,OAAOnO,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAI,CAACoO,OAAZ,KAAwB,UAAvD,EAAkE;EAChE,WAAOpO,IAAI,CAACoO,OAAL,EAAP;EACD;;EACD,SAAO,CAACpO,IAAD,CAAP;EACD,CAZM;AAcP,EAAO,IAAMoO,OAAO,GAAG,SAAVA,OAAU,CAAUpO,IAAV,EAAgBqO,MAAhB,EAAuB;EAC5C,MAAG,OAAOrO,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,KAAK,IAAxC,IAAgDH,aAAa,CAACG,IAAD,CAAhE,EAAwE,OAAO,EAAP;EACxE,MAAGa,OAAO,CAACb,IAAD,CAAV,EAAkB,OAAOc,KAAK,CAACmI,SAAN,CAAgBC,KAAhB,CAAsBF,IAAtB,CAA2BhJ,IAA3B,CAAP;EAClB,MAAG,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAI,CAACoO,OAAZ,KAAwB,UAAvD,EAAmE,OAAOpO,IAAI,CAACoO,OAAL,EAAP;EACnE,MAAG,OAAOpO,IAAP,KAAgB,QAAhB,IAA4B,OAAOqO,MAAP,KAAkB,QAAjD,EAA2D,OAAOrO,IAAI,CAACiN,KAAL,CAAWoB,MAAX,CAAP;EAC3D,SAAO,CAACrO,IAAD,CAAP;EACD,CANM;AAQP,EAAO,IAAMsO,QAAQ,GAAG,SAAXA,QAAW,CAAUtO,IAAV,EAAgBuO,UAAhB,EAAuC;EAAA,MAAvBA,UAAuB;EAAvBA,IAAAA,UAAuB,GAAV,SAAU;EAAA;;EAC7D,MAAG7M,aAAa,CAAC1B,IAAD,CAAhB,EAAuB;EACrB,WAAOA,IAAP;EACD,GAFD,MAEO;EAAA;;EACL,2BAAUuO,UAAV,IAAuBvO,IAAvB;EACD;EACF,CANM;AAQP,EAAO,IAAMwO,QAAQ,GAAG,SAAXA,QAAW,CAAUzD,CAAV,EAAa0D,CAAb,EAAe;EACrC,UAAQ,OAAO1D,CAAf;EAAmB,SAAK,QAAL;EAAc,aAAOA,CAAP;;EAAU,SAAK,QAAL;EAAc,UAAM2D,EAAE,GAAG3D,CAAC,CAACwB,OAAF,CAAU,WAAV,EAAuB,EAAvB,IAA6B,CAAxC;EAA2C,aAAO1M,aAAa,CAAC6O,EAAD,CAAb,GAAoB,CAApB,GAAwBA,EAA/B;EAAmC;EAAvI;;EACA,UAAQ,OAAOD,CAAf;EAAmB,SAAK,QAAL;EAAc,aAAOA,CAAP;;EAAU,SAAK,QAAL;EAAc,UAAME,EAAE,GAAGF,CAAC,GAAG,CAAf;EAAkB,aAAO5O,aAAa,CAAC8O,EAAD,CAAb,GAAoB,CAApB,GAAwBA,EAA/B;EAAmC;EAA9G;;EACA,SAAO,CAAP;EACD,CAJM;AAMP,EAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAU5O,IAAV,EAAe;EACxC,MAAGA,IAAI,YAAYc,KAAnB,EAAyB;EACvBA,IAAAA,KAAK,CAACmI,SAAN,CAAgB4F,MAAhB,CAAuB7F,IAAvB,CAA4BhJ,IAA5B,EAAkC,CAAlC,EAAqCA,IAAI,CAACyB,MAA1C;EACD,GAFD,MAEO,IAAG,OAAOzB,IAAP,IAAe,QAAlB,EAA2B;EAChC4B,IAAAA,MAAM,CAAC0B,IAAP,CAAYtD,IAAZ,EAAkB4L,OAAlB,CAA0B,UAAAnI,GAAG,EAAE;EAAE,aAAOzD,IAAI,CAACyD,GAAD,CAAX;EAAkB,KAAnD;EACD;;EACD,SAAOzD,IAAP;EACD,CAPM;AASP,EAAO,IAAMmM,KAAK,GAAG,SAARA,KAAQ,CAAUlI,MAAV,EAAiB;EACpC,UAAQ,OAAOA,MAAf;EACE,SAAK,WAAL;EAAkB,SAAK,UAAL;EAAiB,SAAK,SAAL;EAAgB,SAAK,QAAL;EAAe,SAAK,QAAL;EAAe,aAAOA,MAAP;EAAe;;EAChG,SAAK,QAAL;EACE,UAAGA,MAAM,KAAK,IAAd,EAAoB,OAAOA,MAAP;;EAEpB,UAAGpD,OAAO,CAACoD,MAAD,CAAV,EAAmB;EACjB,YAAI6K,EAAC,GAAG,EAAR;;EACA,aAAI,IAAI3L,CAAC,GAAG,CAAR,EAAW1B,MAAM,GAAGwC,MAAM,CAACxC,MAA/B,EAAuC0B,CAAC,GAAG1B,MAA3C,EAAmD0B,CAAC,EAApD;EAAuD2L,UAAAA,EAAC,CAACtK,IAAF,CAAOP,MAAM,CAACd,CAAD,CAAb;EAAvD;;EACA,eAAO2L,EAAP;EACD;;EAED,UAAG,CAACpN,aAAa,CAACuC,MAAD,CAAjB,EAA0B;EACxB,YAAGA,MAAM,YAAY8K,IAArB,EAA0B;EACxB,cAAID,GAAC,GAAG,IAAIC,IAAJ,EAAR;;EACAD,UAAAA,GAAC,CAACE,OAAF,CAAU/K,MAAM,CAACgL,OAAP,EAAV;;EACA,iBAAOH,GAAP;EACD;;EACD,eAAO7K,MAAP;EACD;;EAED,UAAI6K,CAAC,GAAG,EAAR;EAEAlN,MAAAA,MAAM,CAAC0B,IAAP,CAAYW,MAAZ,EAAoB2H,OAApB,CAA4B,UAAAjH,CAAC,EAAE;EAC7B,YAAGV,MAAM,CAACzC,cAAP,CAAsBmD,CAAtB,CAAH,EAA6BmK,CAAC,CAACnK,CAAD,CAAD,GAAOV,MAAM,CAACU,CAAD,CAAb;EAC9B,OAFD;EAGA,aAAOmK,CAAP;EACA;;EACF;EACEI,MAAAA,OAAO,CAACC,KAAR,CAAc,iCAAd,EAAiDlL,MAAjD;EACA,aAAOA,MAAP;EACA;EA9BJ;EAgCD,CAjCM;AAmCP,EAAO,IAAMmL,SAAS,GAAG,SAAZA,SAAY,CAAUnL,MAAV,EAAiB;EACxC,MAAG,OAAOA,MAAP,KAAkB,QAArB,EAA8B;EAC5B,QAAIwK,CAAJ;;EACA,QAAG5N,OAAO,CAACoD,MAAD,CAAV,EAAmB;EACjB,UAAG,CAACpD,OAAO,CAAC4N,CAAD,CAAX,EAAe;EAAEA,QAAAA,CAAC,GAAG,EAAJ;EAAQ;;EACzB,WAAI,IAAItL,CAAC,GAAG,CAAR,EAAWkB,CAAC,GAAGJ,MAAM,CAACxC,MAA1B,EAAkC0B,CAAC,GAAGkB,CAAtC,EAAyClB,CAAC,EAA1C;EAA8CsL,QAAAA,CAAC,CAACjK,IAAF,CAAS,OAAOP,MAAM,CAACd,CAAD,CAAb,KAAqB,QAArB,IAAiCc,MAAM,CAACd,CAAD,CAAN,KAAc,IAAhD,GAAwDgJ,KAAK,CAAClI,MAAM,CAACd,CAAD,CAAP,CAA7D,GAA2Ec,MAAM,CAACd,CAAD,CAAzF;EAA9C;;EACA,aAAOsL,CAAP;EACD,KAJD,MAIO;EACLA,MAAAA,CAAC,GAAG,EAAJ;EACA7M,MAAAA,MAAM,CAAC0B,IAAP,CAAYW,MAAZ,EAAoB2H,OAApB,CAA4B,UAAAyD,CAAC,EAAE;EAC5B,eAAOpL,MAAM,CAACoL,CAAD,CAAb,KAAqB,QAArB,IAAiCpL,MAAM,CAACoL,CAAD,CAAN,KAAc,IAA/C,IAAuDZ,CAAC,CAACY,CAAD,CAAzD,GAAgElD,KAAK,CAAClI,MAAM,CAACoL,CAAD,CAAP,EAAYZ,CAAC,CAACY,CAAD,CAAb,CAArE,GAAyFZ,CAAC,CAACY,CAAD,CAAD,GAAOpL,MAAM,CAACoL,CAAD,CAAtG;EACD,OAFD;EAGA,aAAOZ,CAAP;EACD;EACF,GAbD,MAaO;EACL,WAAOtC,KAAK,CAAClI,MAAD,CAAZ;EACD;EACF,CAjBM;;EAmBP,IAAMqL,eAAe,GAAG,SAAlBA,eAAkB,CAAUxF,GAAV,EAAetJ,KAAf,EAAqB;EAC3C,MAAGK,OAAO,CAACiJ,GAAD,CAAV,EAAgB;EACd,SAAI,IAAI3G,CAAC,GAAG,CAAR,EAAWkB,CAAC,GAAGyF,GAAG,CAACrI,MAAvB,EAA+B0B,CAAC,GAAGkB,CAAnC,EAAsClB,CAAC,EAAvC;EAA2C,UAAG2G,GAAG,CAAC3G,CAAD,CAAH,KAAW3C,KAAd,EAAqB,OAAO2C,CAAP;EAAhE;EACD;;EACD,MAAGpC,QAAQ,CAAC+I,GAAD,CAAX,EAAiB;EACf,SAAI,IAAIrG,GAAR,IAAeqG,GAAf;EAAoB,UAAGA,GAAG,CAACrG,GAAD,CAAH,KAAajD,KAAhB,EAAuB,OAAOiD,GAAP;EAA3C;EACD;;EACD,SAAOxD,SAAP;EACD,CARD;;AAUA,EAAO,IAAMsP,WAAW,GAAG,SAAdA,WAAc,CAAUzF,GAAV,EAAetJ,KAAf,EAAqB;EAC9C,MAAIgP,MAAM,GAAG,IAAb;EACA,MAAI7E,KAAK,GAAI9J,OAAO,CAACiJ,GAAD,CAApB;;EAEA,SAAM0F,MAAN,EAAa;EACX,QAAI/L,GAAG,GAAG6L,eAAe,CAACxF,GAAD,EAAMtJ,KAAN,CAAzB;;EACA,QAAG,OAAOiD,GAAP,KAAe,WAAlB,EAA8B;EAC5B+L,MAAAA,MAAM,GAAG,KAAT;EACD,KAFD,MAEO;EACL,UAAG7E,KAAH,EAAS;EACPb,QAAAA,GAAG,CAAC+E,MAAJ,CAAWpL,GAAX,EAAgB,CAAhB;EACD,OAFD,MAEO;EACL,eAAOqG,GAAG,CAACrG,GAAD,CAAV;EACD;EACF;EACF;;EAED,SAAOqG,GAAP;EACD,CAlBM;;AAsBP,EAAO,IAAM6D,MAAM,GAAG,SAATA,MAAS,CAAUhD,KAAV,EAAiB8E,OAAjB,EAAyB;EAC7C,MAAMlL,MAAM,GAAM,EAAlB;EACA,MAAMmL,SAAS,GAAG,IAAIC,GAAJ,EAAlB;;EACA,MAAG,OAAOF,OAAP,KAAmB,WAAtB,EAAkC;EAAEA,IAAAA,OAAO,GAAG,iBAAC1E,CAAD;EAAA,aAAKA,CAAL;EAAA,KAAV;EAAkB;;EACtD,MAAG,OAAO0E,OAAP,KAAmB,QAAtB,EAA+B;EAAE,QAAMG,OAAO,GAAGH,OAAhB;;EAAyBA,IAAAA,OAAO,GAAG,iBAAC1E,CAAD;EAAA,aAAKA,CAAC,CAAC6E,OAAD,CAAN;EAAA,KAAV;EAA2B;;EACrFjF,EAAAA,KAAK,CAACiB,OAAN,CAAc,UAACb,CAAD,EAAK;EACjB,QAAMtH,GAAG,GAAGgM,OAAO,CAAC1E,CAAD,CAAnB;EACA,QAAG2E,SAAS,CAACG,GAAV,CAAcpM,GAAd,CAAH,EAAuB;EACvBiM,IAAAA,SAAS,CAACI,GAAV,CAAcrM,GAAd;EACAc,IAAAA,MAAM,CAACC,IAAP,CAAYuG,CAAZ;EACD,GALD;EAMA,SAAOxG,MAAP;EACD,CAZM;AAcP,EAAO,IAAMwL,QAAQ,GAAG,SAAXA,QAAW,CAAUrL,MAAV,EAAkBlE,KAAlB,EAAwB;EAC9C,MAAGQ,UAAU,CAACR,KAAD,CAAb,EAAqB;EACnB,QAAGK,OAAO,CAAC6D,MAAD,CAAV,EAAoB,KAAI,IAAIvB,CAAC,GAAG,CAAR,EAAWkB,CAAC,GAAGK,MAAM,CAACjD,MAA1B,EAAkC0B,CAAC,GAAGkB,CAAtC,EAAyClB,CAAC,EAA1C;EAA8C,UAAG3C,KAAK,CAACkE,MAAM,CAACvB,CAAD,CAAP,EAAYA,CAAZ,CAAL,KAAwB,IAA3B,EAAiC,OAAOA,CAAP;EAA/E;EACpB,QAAGpC,QAAQ,CAAC2D,MAAD,CAAX,EAAqB,KAAI,IAAIjB,GAAR,IAAeiB,MAAf;EAAuB,UAAGlE,KAAK,CAACkE,MAAM,CAACjB,GAAD,CAAP,EAAcA,GAAd,CAAL,KAA4B,IAA/B,EAAqC,OAAOA,GAAP;EAA5D;EACtB,GAHD,MAGO;EACL,QAAG5C,OAAO,CAAC6D,MAAD,CAAV,EAAoB,KAAI,IAAIvB,CAAC,GAAG,CAAR,EAAWkB,CAAC,GAAGK,MAAM,CAACjD,MAA1B,EAAkC0B,CAAC,GAAGkB,CAAtC,EAAyClB,CAAC,EAA1C;EAA8C,UAAGuB,MAAM,CAACvB,CAAD,CAAN,KAAc3C,KAAjB,EAAwB,OAAO2C,CAAP;EAAtE;EACpB,QAAGpC,QAAQ,CAAC2D,MAAD,CAAX,EAAqB,KAAI,IAAIjB,GAAR,IAAeiB,MAAf;EAAuB,UAAGA,MAAM,CAACjB,GAAD,CAAN,KAAgBjD,KAAnB,EAA0B,OAAOiD,GAAP;EAAjD;EACtB;EACF,CARM;;AAWP,EAAO,IAAMuM,MAAM,GAAG,SAATA,MAAS,CAAUhQ,IAAV,EAAgBiQ,QAAhB,EAA0BC,QAA1B,EAAmC;EACvDlQ,EAAAA,IAAI,GAAGoE,OAAO,CAACpE,IAAD,CAAd;EACAiQ,EAAAA,QAAQ,KAAKC,QAAb,IACA5P,QAAQ,CAAC2P,QAAD,CADR,IAEA3P,QAAQ,CAAC4P,QAAD,CAFR,IAGAD,QAAQ,IAAI,CAHZ,IAGiBA,QAAQ,GAAGjQ,IAAI,CAACyB,MAHjC,IAIAX,KAAK,CAACmI,SAAN,CAAgB4F,MAAhB,CAAuB7F,IAAvB,CAA4BhJ,IAA5B,EAAkCkQ,QAAQ,GAAGlQ,IAAI,CAACyB,MAAhB,GAAyBzB,IAAI,CAACyB,MAA9B,GAAuCyO,QAAzE,EAAmF,CAAnF,EAAsFpP,KAAK,CAACmI,SAAN,CAAgB4F,MAAhB,CAAuB7F,IAAvB,CAA4BhJ,IAA5B,EAAkCiQ,QAAlC,EAA4C,CAA5C,EAA+C,CAA/C,CAAtF,CAJA;EAKA,SAAOjQ,IAAP;EACD,CARM;AASP,EAAO,IAAMmQ,IAAI,GAAG,SAAPA,IAAO,CAACnQ,IAAD,EAAOiQ,QAAP,EAAiBC,QAAjB;EAAA,SAA4BF,MAAM,CAAC5B,OAAO,CAACpO,IAAD,CAAR,EAAgBiQ,QAAhB,EAA0BC,QAA1B,CAAlC;EAAA,CAAb;;EAIP,IAAME,YAAY,GAAG,SAAfA,YAAe,CAACpQ,IAAD,EAAOkL,IAAP,EAAc;EACjC,MAAM3G,MAAM,GAAGH,OAAO,CAACpE,IAAD,CAAtB;EACA,SAAQkL,IAAI,CAACU,OAAL,CAAa,UAAA5L,IAAI,EAAE;EAAEoE,IAAAA,OAAO,CAACpE,IAAD,CAAP,CAAc4L,OAAd,CAAsB,UAAApL,KAAK,EAAE;EAAE+D,MAAAA,MAAM,CAACC,IAAP,CAAYhE,KAAZ;EAAoB,KAAnD;EAAsD,GAA3E,GAA8E+D,MAAtF;EACD,CAHD;;AAIA,EAAO,IAAM8L,QAAQ,GAAG,SAAXA,QAAW,CAACrQ,IAAD;EAAA,oCAAUkL,IAAV;EAAUA,IAAAA,IAAV;EAAA;;EAAA,SAAiBkF,YAAY,CAACpQ,IAAD,EAAOkL,IAAP,CAA7B;EAAA,CAAjB;AACP,EAAO,IAAM0C,MAAM,GAAG,SAATA,MAAS,CAAC5N,IAAD;EAAA,qCAAUkL,IAAV;EAAUA,IAAAA,IAAV;EAAA;;EAAA,SAAiBkF,YAAY,CAAChC,OAAO,CAACpO,IAAD,CAAR,EAAgBkL,IAAhB,CAA7B;EAAA,CAAf;;AAIP,EAAO,IAAMoF,QAAQ,GAAG,SAAXA,QAAW,CAAUtQ,IAAV,EAAgBuQ,QAAhB,EAA0BC,MAA1B,EAAiC;EACvD,MAAMC,SAAS,GAAGrM,OAAO,CAACpE,IAAD,CAAzB;EACA,MAAM0Q,QAAQ,GAAGpN,IAAI,CAACtD,IAAD,CAArB;EACA,MAAM2Q,QAAQ,GAAG,OAAOH,MAAP,KAAkB,UAAnC;EACA,MAAMI,SAAS,GAAGD,QAAQ,GAAG,EAAH,GAAQ,IAAlC;;EACA,OAAI,IAAIxN,CAAC,GAAG,CAAR,EAAW0N,YAAY,GAAG,CAA1B,EAA6BxM,CAAC,GAAGqM,QAAQ,CAACjP,MAA9C,EAAsD0B,CAAC,GAAGkB,CAA1D,EAA6DlB,CAAC,IAAI0N,YAAY,EAA9E,EAAiF;EAC/E,QAAMC,QAAQ,GAAGJ,QAAQ,CAACvN,CAAD,CAAzB;EACA,QAAM4N,KAAK,GAAGN,SAAS,CAACK,QAAD,CAAvB;;EACA,QAAGP,QAAQ,CAACQ,KAAD,EAAQD,QAAR,CAAR,KAA8B,IAAjC,EAAsC;EACpC,UAAME,SAAS,GAAGP,SAAS,CAAC5B,MAAV,CAAiB1L,CAAjB,EAAoB,CAApB,CAAlB;EACAA,MAAAA,CAAC;EACDkB,MAAAA,CAAC;EACDsM,MAAAA,QAAQ,IAAIC,SAAS,CAACpM,IAAV,CAAe,CAACqM,YAAD,EAAeG,SAAf,CAAf,CAAZ;EACD;EACF;;EACDL,EAAAA,QAAQ,IAAIH,MAAM,CAACI,SAAD,EAAYH,SAAZ,CAAlB;EACA,SAAOA,SAAP;EACD,CAjBM;AAkBP,EAAO,IAAM9N,MAAM,GAAG,SAATA,MAAS,CAAC3C,IAAD,EAAOiR,IAAP,EAAaT,MAAb;EAAA,SAAsBF,QAAQ,CAAClC,OAAO,CAACpO,IAAD,CAAR,EAAgBiR,IAAhB,EAAsBT,MAAtB,CAA9B;EAAA,CAAf;;AAIP,EAAO,IAAMU,QAAQ,GAAG,SAAXA,QAAW,CAAUlR,IAAV,EAAgB+K,CAAhB,EAAmBhJ,CAAnB,EAAqB;EAC3C/B,EAAAA,IAAI,GAAGoE,OAAO,CAACpE,IAAD,CAAd;EACA,SAAQA,IAAI,CAAC6O,MAAL,CAAY,OAAO9M,CAAP,KAAa,QAAb,GAAwBA,CAAxB,GAA4B,CAAxC,EAA2C,CAA3C,EAA8CgJ,CAA9C,GAAkD/K,IAA1D;EACD,CAHM;AAIP,EAAO,IAAMmR,MAAM,GAAG,SAATA,MAAS,CAACnR,IAAD,EAAO+K,CAAP,EAAUhJ,CAAV;EAAA,SAAcmP,QAAQ,CAAC9C,OAAO,CAACpO,IAAD,CAAR,EAAgB+K,CAAhB,EAAmBhJ,CAAnB,CAAtB;EAAA,CAAf;;AAIP,EAAO,IAAMqP,OAAO,GAAG,SAAVA,OAAU,CAAUpR,IAAV,EAAgBqR,MAAhB,EAAwBC,EAAxB,EAA2B;EAChD,MAAGzQ,OAAO,CAACb,IAAD,CAAV,EAAiB;EACfsR,IAAAA,EAAE,GAAGxQ,KAAK,CAACmI,SAAN,CAAgB4F,MAAhB,CAAuB7F,IAAvB,CAA4BhJ,IAA5B,EAAkC,CAAlC,EAAqCA,IAAI,CAACyB,MAA1C,CAAL;EACD,GAFD,MAEO,IAAG,OAAOzB,IAAP,IAAe,QAAlB,EAA2B;EAChCsR,IAAAA,EAAE,GAAG,EAAL;;EACA,SAAI,IAAI7N,GAAR,IAAezD,IAAf,EAAoB;EAAEsR,MAAAA,EAAE,CAAC7N,GAAD,CAAF,GAAUzD,IAAI,CAACyD,GAAD,CAAd;EAAqB,aAAOzD,IAAI,CAACyD,GAAD,CAAX;EAAkB;EAC9D;;EACD,SAAQ4N,MAAM,IAAIA,MAAM,CAACrR,IAAD,EAAOsR,EAAP,CAAjB,EAA8BtR,IAArC;EACD,CARM;;AAWP,EAAO,IAAMuR,MAAM,GAAG,SAATA,MAAS,CAAUvR,IAAV,EAAgB2C,MAAhB,EAAuB;EAC3C,MAAG3C,IAAI,CAACyB,MAAL,IAAe,CAAlB,EAAoB;EAClB,WAAOzB,IAAP;EACD;;EAED,UAAQ2C,MAAR;EACE,SAAK,MAAL;EACEA,MAAAA,MAAM,GAAG,gBAAUZ,CAAV,EAAa6E,CAAb,EAAe;EAAE,eAAO7E,CAAC,GAAG6E,CAAX;EAAc,OAAxC;;EACA;;EACF,SAAK3G,SAAL;EACA,SAAK,KAAL;EACA;EACE,UAAG,OAAO0C,MAAP,KAAkB,UAArB,EAAgC;EAC9BA,QAAAA,MAAM,GAAG,gBAAUZ,CAAV,EAAa6E,CAAb,EAAe;EAAE,iBAAO7E,CAAC,GAAG6E,CAAX;EAAc,SAAxC;EACD;;EACD;EAVJ;;EAaA,MAAIrC,MAAM,GAAG,CAACvE,IAAI,CAAC,CAAD,CAAL,CAAb;;EAEA,OAAI,IAAImD,CAAC,GAAG,CAAR,EAAWkB,CAAC,GAAGrE,IAAI,CAACyB,MAAxB,EAAgC0B,CAAC,GAAGkB,CAApC,EAAuClB,CAAC,EAAxC,EAA2C;EACzC,SAAI,IAAIqO,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAGlN,MAAM,CAAC9C,MAA5B,EAAoC+P,EAAE,GAAGC,EAAzC,EAA6CD,EAAE,EAA/C,EAAkD;EAChD,UAAG7O,MAAM,CAAC3C,IAAI,CAACmD,CAAD,CAAL,EAAUoB,MAAM,CAACiN,EAAD,CAAhB,CAAN,KAAgC,IAAnC,EAAwC;EACtCN,QAAAA,QAAQ,CAAC3M,MAAD,EAASvE,IAAI,CAACmD,CAAD,CAAb,EAAkBqO,EAAlB,CAAR;EACA;EACD;;EACD,UAAIA,EAAE,GAAG,CAAN,KAAajN,MAAM,CAAC9C,MAAvB,EAA8B;EAC5B8C,QAAAA,MAAM,CAACC,IAAP,CAAYxE,IAAI,CAACmD,CAAD,CAAhB;EACD;EACF;EACF;;EAEDiO,EAAAA,OAAO,CAACpR,IAAD,CAAP;;EAEA,OAAI,IAAImD,CAAC,GAAG,CAAR,EAAWkB,CAAC,GAAGE,MAAM,CAAC9C,MAA1B,EAAkC0B,CAAC,GAAGkB,CAAtC,EAAyCrE,IAAI,CAACwE,IAAL,CAAUD,MAAM,CAACpB,CAAD,CAAhB,GAAsBA,CAAC,EAAhE;AAAmE,EAAnE;;EAEA,SAAOnD,IAAP;EACD,CArCM;AAuCP,EAAO,IAAMwD,IAAI,GAAG,SAAPA,IAAO,CAACxD,IAAD,EAAO2C,MAAP;EAAA,SAAgB4O,MAAM,CAACnD,OAAO,CAACpO,IAAD,CAAR,EAAgB2C,MAAhB,CAAtB;EAAA,CAAb;EAGP;;AACA,EAAO,IAAM+O,MAAM,GAAG,SAATA,MAAS,CAAU5H,GAAV,EAAe6H,GAAf,EAAmB;EACvC,MAAIpN,MAAM,GAAG,EAAb;;EACA,OAAI,IAAId,GAAR,IAAeqG,GAAf,EAAmB;EACjB,QAAGrG,GAAG,KAAK,IAAX,EAAgB;EACd,UAAImO,QAAQ,GAAG9H,GAAG,CAACrG,GAAD,CAAlB;;EACA,WAAI,IAAIN,CAAC,GAAG,CAAR,EAAWsL,CAAC,GAAG7M,MAAM,CAAC0B,IAAP,CAAYqO,GAAZ,CAAf,EAAiCtN,CAAC,GAAGoK,CAAC,CAAChN,MAA3C,EAAmD0B,CAAC,GAAGkB,CAAvD,EAA0DlB,CAAC,EAA3D,EAA8D;EAC5D,YAAI0O,MAAM,GAAGpD,CAAC,CAACtL,CAAD,CAAd;;EACA,YAAG,OAAOyO,QAAP,KAAoB,UAAvB,EAAkC;EAChCrN,UAAAA,MAAM,CAACsN,MAAD,CAAN,GAAiB/H,GAAG,CAACrG,GAAD,CAApB;EACD,SAFD,MAEO;EACL,cAAI,OAAOmO,QAAP,KAAoB,QAApB,IAAgC,OAAOA,QAAP,KAAoB,QAArD,IAAkE9P,MAAM,CAAC8P,QAAD,CAA3E,EAAsF;EACpFrN,YAAAA,MAAM,CAACsN,MAAD,CAAN,GAAiBD,QAAjB;EACD,WAFD,MAEO;EACLrN,YAAAA,MAAM,CAACsN,MAAD,CAAN,GAAiBjQ,MAAM,CAACkQ,MAAP,CAAcvN,MAAM,CAACsN,MAAD,CAApB,EAA8BD,QAA9B,CAAjB;EACD;EACF;EACF;EACF,KAdD,MAcO,IAAGnO,GAAG,CAAC2E,OAAJ,CAAY,GAAZ,IAAmB,CAAC,CAAvB,EAAyB;EAC9B3E,MAAAA,GAAG,CAACwJ,KAAJ,CAAU,GAAV,EAAerB,OAAf,CAAuB,UAAAmG,OAAO,EAAE;EAC9BA,QAAAA,OAAO,GAAGA,OAAO,CAACtR,IAAR,EAAV;;EACA,YAAG,OAAOqJ,GAAG,CAACrG,GAAD,CAAV,KAAoB,UAAvB,EAAkC;EAChCc,UAAAA,MAAM,CAACwN,OAAD,CAAN,GAAkBjI,GAAG,CAACrG,GAAD,CAArB;EACD,SAFD,MAEO;EACL,cAAI,CAACc,MAAM,CAAC/C,cAAP,CAAsBuQ,OAAtB,CAAD,IAAmC,OAAOjI,GAAG,CAACrG,GAAD,CAAV,KAAoB,QAAxD,IAAqE3B,MAAM,CAACgI,GAAG,CAACrG,GAAD,CAAJ,CAA9E,EAAyF;EACvFc,YAAAA,MAAM,CAACwN,OAAD,CAAN,GAAkBjI,GAAG,CAACrG,GAAD,CAArB;EACD,WAFD,MAEO;EACLc,YAAAA,MAAM,CAACwN,OAAD,CAAN,GAAkBnQ,MAAM,CAACkQ,MAAP,CAAcvN,MAAM,CAACwN,OAAD,CAAN,KAAoBlR,OAAO,CAACiJ,GAAG,CAACrG,GAAD,CAAJ,CAAP,GAAoB,EAApB,GAAyB,EAA7C,CAAd,EAAgEqG,GAAG,CAACrG,GAAD,CAAnE,EAA0EqG,GAAG,CAACiI,OAAD,CAA7E,CAAlB;EACD;EACF;EACF,OAXD;EAYD,KAbM,MAaA;EACL,UAAG,OAAOjI,GAAG,CAACrG,GAAD,CAAV,KAAoB,UAAvB,EAAkC;EAChCc,QAAAA,MAAM,CAACd,GAAD,CAAN,GAAcqG,GAAG,CAACrG,GAAD,CAAjB;EACD,OAFD,MAEO;EACL,YAAI,OAAOc,MAAM,CAACd,GAAD,CAAb,KAAuB,QAAvB,IAAmC,OAAOqG,GAAG,CAACrG,GAAD,CAAV,KAAoB,QAAxD,IAAqE3B,MAAM,CAACgI,GAAG,CAACrG,GAAD,CAAJ,CAA9E,EAAyF;EACvFc,UAAAA,MAAM,CAACd,GAAD,CAAN,GAAcqG,GAAG,CAACrG,GAAD,CAAjB;EACD,SAFD,MAEO;EACLc,UAAAA,MAAM,CAACd,GAAD,CAAN,GAAc7B,MAAM,CAACkQ,MAAP,CAAcvN,MAAM,CAACd,GAAD,CAApB,EAA2BqG,GAAG,CAACrG,GAAD,CAA9B,CAAd;EACD;EACF;EACF;EACF;;EACD,SAAOc,MAAP;EACD,CA3CM;;EA6CP,IAAMyN,SAAS,GAAG,SAAZA,SAAY,CAAUjB,KAAV,EAAiBzF,IAAjB,EAAsB;EACtC,MAAG,CAACvK,QAAQ,CAACgQ,KAAD,CAAZ,EAAqB,OAAOA,KAAP;EACrB,MAAMkB,UAAU,GAAG,OAAO3G,IAAP,KAAgB,UAAhB,GAA6B,UAAC7H,GAAD,EAAMjD,KAAN;EAAA,WAAc8K,IAAI,CAAC9K,KAAD,EAAQiD,GAAR,CAAlB;EAAA,GAA7B,GAA8D6H,IAAjF;EACA,MAAM4G,UAAU,GAAG5O,IAAI,CAACyN,KAAD,EAAQkB,UAAR,CAAvB;EACA,MAAG,CAACC,UAAU,CAACzQ,MAAf,EAAuB,OAAOsP,KAAP;EAEvBlQ,EAAAA,OAAO,CAACkQ,KAAD,CAAP,GACImB,UAAU,CAACtG,OAAX,CAAmB,UAACuG,aAAD,EAAgBC,MAAhB,EAAyB;EAC5C,QAAMC,WAAW,GAAGF,aAAa,GAAGC,MAApC;EACArB,IAAAA,KAAK,CAAClC,MAAN,CAAawD,WAAb,EAA0B,CAA1B;EACD,GAHC,CADJ,GAKIH,UAAU,CAACtG,OAAX,CAAmB,UAAAnI,GAAG,EAAE;EAAE,WAAOsN,KAAK,CAACtN,GAAD,CAAZ;EAAmB,GAA7C,CALJ;EAOA,SAAOsN,KAAP;EACD,CAdD;;;AAiBA,EAAO,IAAMuB,MAAM,GAAG,SAATA,MAAS,CAACvB,KAAD,EAAQzF,IAAR;EAAA,SAAe0G,SAAS,CAACjB,KAAD,EAAQzF,IAAR,CAAxB;EAAA,CAAf;AACP,EAAO,IAAMiH,IAAI,GAAG,SAAPA,IAAO,CAACxB,KAAD,EAAQzF,IAAR;EAAA,SAAegH,MAAM,CAACnG,KAAK,CAAC4E,KAAD,CAAN,EAAezF,IAAf,CAArB;EAAA,CAAb;;AAGP,EAAO,IAAMkH,MAAM,GAAG,SAATA,MAAS,CAACzB,KAAD,EAAQzF,IAAR;EAAA,SAAe0G,SAAS,CAACjB,KAAD,EAAQ,UAACvQ,KAAD,EAAQiD,GAAR;EAAA,WAAc,CAAC2H,UAAU,CAAC3H,GAAD,EAAM6H,IAAN,EAAY9K,KAAZ,CAAzB;EAAA,GAAR,CAAxB;EAAA,CAAf;AACP,EAAO,IAAMiS,IAAI,GAAG,SAAPA,IAAO,CAAC1B,KAAD,EAAQzF,IAAR;EAAA,SAAekH,MAAM,CAACrG,KAAK,CAAC4E,KAAD,CAAN,EAAezF,IAAf,CAArB;EAAA,CAAb;EAGP;;EACA,IAAMoH,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAlS,KAAK,EAAE;EAC9B,SAAO,OAAOA,KAAP,KAAiB,WAAxB;EACD,CAFD;;AAGA,EAAO,IAAMmS,SAAS,GAAG,SAAZA,SAAY,CAAC5B,KAAD;EAAA,SAASuB,MAAM,CAACvB,KAAD,EAAQ2B,gBAAR,CAAf;EAAA,CAAlB;AACP,EAAO,IAAME,OAAO,GAAG,SAAVA,OAAU,CAAC7B,KAAD;EAAA,SAAS4B,SAAS,CAACxG,KAAK,CAAC4E,KAAD,CAAN,CAAlB;EAAA,CAAhB;;EAGP,IAAM8B,qBAAqB,GAAG,KAA9B;AACA,EAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAC/B,KAAD;EAAA,SAASuB,MAAM,CAACvB,KAAD,EAAQ8B,qBAAR,CAAf;EAAA,CAAf;AACP,EAAO,IAAME,IAAI,GAAG,SAAPA,IAAO,CAAChC,KAAD;EAAA,SAAS+B,MAAM,CAAC3G,KAAK,CAAC4E,KAAD,CAAN,CAAf;EAAA,CAAb;;AAGP,EAAO,IAAMiC,OAAO,GAAG,SAAVA,OAAU,CAACjC,KAAD;EAAA,SAASuB,MAAM,CAACvB,KAAD,EAAQ,UAACvQ,KAAD,EAAQiD,GAAR;EAAA,WAAcoP,qBAAqB,CAACnS,IAAtB,CAA2B+C,GAA3B,KAAmCiP,gBAAgB,CAAClS,KAAD,CAAjE;EAAA,GAAR,CAAf;EAAA,CAAhB;AACP,EAAO,IAAMyS,KAAK,GAAG,SAARA,KAAQ,CAAClC,KAAD;EAAA,SAASiC,OAAO,CAAC7G,KAAK,CAAC4E,KAAD,CAAN,CAAhB;EAAA,CAAd;AAEP,EAAO,IAAMmC,QAAQ,GAAG,SAAXA,QAAW,CAAUjC,IAAV,EAAgBkC,KAAhB,EAAsB;EAC5C,MAAIC,GAAJ;;EAAS,MAAIC,aAAa,GAAG,SAAhBA,aAAgB,CAAU9I,KAAV,EAAgB;EAAE,QAAG,OAAOA,KAAP,KAAiB,QAApB,EAA8B,KAAI,IAAI5F,CAAR,IAAa4F,KAAb;EAAoB,WAAK5F,CAAL,IAAU4F,KAAK,CAAC5F,CAAD,CAAf;EAApB;EAAwC,GAA5G;;EACT,MAAG,OAAOsM,IAAP,IAAe,QAAlB,EAA2B;EACzB,QAAG,OAAOkC,KAAP,KAAiB,QAApB,EAA8BE,aAAa,CAACpK,SAAd,GAA0BkK,KAA1B;EAC9BC,IAAAA,GAAG,GAAG,IAAIC,aAAJ,CAAkBpC,IAAlB,CAAN;EACD;;EACD,MAAG,OAAOA,IAAP,IAAe,UAAlB,EAA6B;EAC3B,QAAG,OAAOkC,KAAP,KAAiB,QAApB,EAA8BlC,IAAI,CAAChI,SAAL,GAAiBkK,KAAjB;EAC9BC,IAAAA,GAAG,GAAI,IAAInC,IAAJ,EAAP;EACD;;EACD,SAAOmC,GAAP;EACD,CAXM;AAaP,EAAO,IAAME,KAAK,GAAG,SAARA,KAAQ,CAAUC,IAAV,EAAe;EAClC,MAAIpP,EAAE,GAAGoP,IAAI,EAAb;;EACA,MAAMC,EAAE,GAAG,SAALA,EAAK,GAAkB;EAAA,uCAALtI,IAAK;EAALA,MAAAA,IAAK;EAAA;;EAC3B,WAAO/G,EAAE,CAACe,KAAH,CAAS,IAAT,EAAegG,IAAf,CAAP;EACD,GAFD;;EAGAsI,EAAAA,EAAE,CAAC,OAAD,CAAF,GAAc,YAAW;EAAErP,IAAAA,EAAE,GAAGoP,IAAI,CAACC,EAAD,EAAKA,EAAL,CAAT;EAAmB,GAA9C;;EACAA,EAAAA,EAAE,CAAC,cAAD,CAAF,GAAqBrP,EAArB;EACA,SAAOqP,EAAP;EACD,CARM;;EAWP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EC5XO,IAAM1I,IAAI,GAAG,SAAPA,IAAO,CAAU2I,UAAV,EAAsBC,UAAtB,EAAkCC,YAAlC,EAA2D;EAAA,MAAzBA,YAAyB;EAAzBA,IAAAA,YAAyB,GAAV1T,SAAU;EAAA;;EAC7E,MAAMD,IAAI,GAAGoE,OAAO,CAACqP,UAAD,CAApB;EACA,MAAIG,UAAU,GAAG5T,IAAI,CAACyB,MAAtB;EAEAiS,EAAAA,UAAU,GAAGpT,QAAQ,CAACoT,UAAD,CAAR,GAAuBA,UAAvB,GAAoC,CAAjD;EACA,MAAMrC,MAAM,GAAG,OAAOsC,YAAP,KAAwB,UAAxB,GAAqC;EAAA,WAAIA,YAAJ;EAAA,GAArC,GAAwDA,YAAvE;;EAEA,OAAI,IAAIxQ,CAAC,GAAG,CAAR,EAAWkB,CAAC,GAAGqP,UAAU,GAAGE,UAAhC,EAA4CzQ,CAAC,GAAGkB,CAAhD,EAAmDrE,IAAI,CAACwE,IAAL,CAAU6M,MAAM,CAACuC,UAAU,EAAX,EAAezQ,CAAC,EAAhB,CAAhB,CAAnD;AAAwF,EAAxF;;EAEA,SAAOsQ,UAAP;EACD,CAVM;;ECIA,IAAMI,OAAO,GAAG,SAAVA,OAAU,CAAUJ,UAAV,EAAsBK,SAAtB,EAAiCH,YAAjC,EAA+CI,OAA/C,EAAuD;EAC5E,MAAI/T,IAAI,GAAGoE,OAAO,CAACqP,UAAD,CAAlB;EAAgC,MAAIO,IAAJ;EAChCF,EAAAA,SAAS,GAAGxT,QAAQ,CAACwT,SAAD,CAAR,GAAsBA,SAAtB,GAAkC,CAA9C;;EAEA,MAAG9T,IAAI,CAACyB,MAAL,GAAcqS,SAAjB,EAA2B;EACzBE,IAAAA,IAAI,GAAGhU,IAAI,CAAC6O,MAAL,CAAYiF,SAAZ,EAAuB3T,MAAM,CAACC,iBAA9B,CAAP;EACA,WAAO,CAACJ,IAAD,EAAOgU,IAAP,CAAP;EACD;;EAEDD,EAAAA,OAAO,KAAK,IAAZ,KAAqB/T,IAAI,GAAG8K,IAAI,CAAC9K,IAAD,EAAO8T,SAAP,EAAkBH,YAAlB,CAAhC;EACA,SAAO,CAAC3T,IAAD,EAAO,EAAP,CAAP;EACD,CAXM;;ECMA,IAAMiU,GAAG,GAAG,SAANA,GAAM,CAAUR,UAAV,EAAsBK,SAAtB,EAAiCI,WAAjC,EAA6C;EAC9D,MAAMH,OAAO,GAAGjR,SAAS,CAACrB,MAAV,GAAmB,CAAnC;EACA,SAAOoS,OAAO,CAACJ,UAAD,EAAaK,SAAb,EAAwBI,WAAxB,EAAqCH,OAArC,CAAP,CAAqD,CAArD,CAAP;EACD,CAHM;AAKP,EAAO,IAAMI,IAAI,GAAG,SAAPA,IAAO,CAAUV,UAAV,EAAsBK,SAAtB,EAAiCI,WAAjC,EAA6C;EAC/D,MAAM3P,MAAM,GAAG,EAAf;EACA,MAAIyP,IAAI,GAAGP,UAAX;EACA,MAAIW,QAAQ,GAAG,CAAf;EACA,MAAMC,MAAM,GAAG,OAAOH,WAAP,KAAuB,UAAvB,GAAoC;EAAA,WAAIA,WAAJ;EAAA,GAApC,GAAsD,UAACzH,KAAD;EAAA,WAASyH,WAAW,CAACE,QAAQ,GAAGN,SAAX,GAAuBrH,KAAxB,EAA+BA,KAA/B,EAAsC2H,QAAtC,CAApB;EAAA,GAArE;EACA,MAAML,OAAO,GAAGjR,SAAS,CAACrB,MAAV,GAAmB,CAAnC;;EAEA,KAAG;EAAA,mBACqBoS,OAAO,CAACG,IAAD,EAAOF,SAAP,EAAkBO,MAAlB,EAA0BN,OAA1B,CAD5B;;EACCN,IAAAA,UADD;EACaO,IAAAA,IADb;EAEDzP,IAAAA,MAAM,CAACC,IAAP,CAAYiP,UAAZ;EACAW,IAAAA,QAAQ;EACT,GAJD,QAIQJ,IAAI,CAACvS,MAAL,GAAc,CAJtB;;EAKA,SAAO8C,MAAP;EACD,CAbM;;AAgBP,EAAO,IAAM+P,GAAG,GAAG,SAANA,GAAM,CAAUtU,IAAV,EAAgBuU,QAAhB,EAA0BC,SAA1B,EAAoC;EACrD,UAAQ,OAAOD,QAAf;EACE,SAAK,UAAL;EACA;EACE;;EACF,SAAK,QAAL;EACE,UAAM7L,IAAI,GAAG6L,QAAb;;EACAA,MAAAA,QAAQ,GAAG,kBAACxS,CAAD,EAAI6E,CAAJ;EAAA,eAAQgC,GAAG,CAAC7G,CAAD,EAAI2G,IAAJ,CAAH,GAAeE,GAAG,CAAChC,CAAD,EAAI8B,IAAJ,CAA1B;EAAA,OAAX;;EACA;;EACF,SAAK,SAAL;EACE6L,MAAAA,QAAQ,GAAGA,QAAQ,GAAG,UAACxS,CAAD,EAAI6E,CAAJ;EAAA,eAAQ7E,CAAC,GAAG6E,CAAZ;EAAA,OAAH,GAAmB,UAAC7E,CAAD,EAAI6E,CAAJ;EAAA,eAAQ7E,CAAC,GAAG6E,CAAZ;EAAA,OAAtC;EACA;;EACF;EACE2N,MAAAA,QAAQ,GAAG,kBAACxS,CAAD,EAAI6E,CAAJ;EAAA,eAAQ7E,CAAC,GAAG6E,CAAZ;EAAA,OAAX;;EACA;EAbJ;;EAgBA,MAAG,OAAO4N,SAAP,KAAqB,SAAxB,EAAkC;EAChCA,IAAAA,SAAS,GAAGA,SAAS,GAAGrU,MAAM,CAACC,iBAAV,GAA8BD,MAAM,CAACE,iBAA1D;EACD;;EAED,SAAOC,QAAQ,CAACkU,SAAD,CAAR,IAAuBtU,UAAU,CAACsU,SAAD,CAAjC,GACHpQ,OAAO,CAACpE,IAAD,CAAP,CAAcwD,IAAd,CAAmB,UAACzB,CAAD,EAAI6E,CAAJ;EAAA,WAAQ2N,QAAQ,CAACxS,CAAD,EAAI6E,CAAJ,CAAhB;EAAA,GAAnB,EAA2CiI,MAA3C,CAAkD,CAAlD,EAAqD2F,SAArD,CADG,GAEHpQ,OAAO,CAACpE,IAAD,CAAP,CAAcwD,IAAd,CAAmB,UAACzB,CAAD,EAAI6E,CAAJ;EAAA,WAAQ2N,QAAQ,CAACxS,CAAD,EAAI6E,CAAJ,CAAhB;EAAA,GAAnB,EAA2C,CAA3C,CAFJ;EAGD,CAxBM;;ECpCA,IAAM6N,WAAW,GAAI,YAAW;EACrC,MAAMC,OAAO,GAAG,SAAVA,OAAU,CAAUC,MAAV,EAAkBC,GAAlB,EAAuBC,GAAvB,EAA2B;EACzC,QAAG,OAAOF,MAAP,IAAiB,QAApB,EAA6B;EAC3B,UAAG9U,aAAa,CAAC8U,MAAD,CAAb,IAAyBA,MAAM,KAAKG,QAAvC,EAAgD;EAC9C,eAAOD,GAAP;EACD;;EACD,UAAGvU,QAAQ,CAACuU,GAAD,CAAR,IAAkBF,MAAM,GAAGE,GAA9B,EAAmC;EACjC,eAAOA,GAAP;EACD;;EACD,UAAGvU,QAAQ,CAACsU,GAAD,CAAR,IAAkBD,MAAM,GAAGC,GAA9B,EAAmC;EACjC,eAAOA,GAAP;EACD;EACF;;EACD,WAAOD,MAAP;EACD,GAbD;;EAcA,MAAMF,WAAW,GAAG,SAAdA,WAAc,CAAUM,OAAV,EAAmBH,GAAnB,EAAwBC,GAAxB,EAA4B;EAC9C,QAAG,OAAOD,GAAP,KAAe,QAAlB,EAA2B;EAAEA,MAAAA,GAAG,GAAGzU,MAAM,CAACC,iBAAb;EAAgC;;EAC7D,QAAG,OAAOyU,GAAP,KAAe,QAAlB,EAA2B;EACzB,UAAGA,GAAG,KAAK,IAAR,IAAgBhV,aAAa,CAACgV,GAAD,CAAhC,EAAsC;EACpCA,QAAAA,GAAG,GAAG1U,MAAM,CAACE,iBAAb;EACD,OAFD,MAEO;EACLwU,QAAAA,GAAG,GAAG,CAAN;EACD;EACF;;EACD,QAAGhU,OAAO,CAACkU,OAAD,CAAV,EAAoB;EAClB,WAAI,IAAItG,CAAC,GAAGsG,OAAR,EAAiB5R,CAAC,GAAG,CAArB,EAAwBkB,CAAC,GAAGoK,CAAC,CAAChN,MAAlC,EAA0C0B,CAAC,GAAGkB,CAA9C,EAAiDlB,CAAC,EAAlD,EAAqD;EACnDsL,QAAAA,CAAC,CAACtL,CAAD,CAAD,GAAOuR,OAAO,CAACjG,CAAC,CAACtL,CAAD,CAAF,EAAOyR,GAAP,EAAYC,GAAZ,CAAd;EACD;;EACD,aAAOE,OAAP;EACD,KALD,MAKO;EACL,aAAOL,OAAO,CAACK,OAAD,EAAUH,GAAV,EAAeC,GAAf,CAAd;EACD;EACF,GAjBD;;EAkBA,SAAOJ,WAAP;EACD,CAlC2B,EAArB;AAoCP,EAAO,IAAMO,eAAe,GAAI,UAAUC,eAAV,EAA0B;EACxD,SAAO,UAAUC,OAAV,EAAmBC,IAAnB,EAA6BC,eAA7B,EAAqDC,QAArD,EAAmE;EAAA,QAAhDF,IAAgD;EAAhDA,MAAAA,IAAgD,GAAzC,CAAyC;EAAA;;EAAA,QAAtCC,eAAsC;EAAtCA,MAAAA,eAAsC,GAApB,IAAoB;EAAA;;EAAA,QAAdC,QAAc;EAAdA,MAAAA,QAAc,GAAH,EAAG;EAAA;;EACxE,QAAIC,QAAQ,GAAGvG,IAAI,CAACwG,GAAL,KAAaJ,IAA5B;;EAEA,QAAG,CAAC7U,QAAQ,CAAC6U,IAAD,CAAZ,EAAmB;EACjBA,MAAAA,IAAI,GAAG,CAAP;EACD;;EAED,QAAG,CAAC7U,QAAQ,CAAC8U,eAAD,CAAZ,EAA8B;EAC5BA,MAAAA,eAAe,GAAG,IAAlB;EACD;;EAED,QAAG,CAAC9U,QAAQ,CAAC+U,QAAD,CAAZ,EAAuB;EACrBD,MAAAA,eAAe,GAAG,EAAlB;EACD;;EAED,QAAGA,eAAe,GAAG,CAArB,EAAuB;EACrBA,MAAAA,eAAe,GAAG,CAAlB;EACD;;EAED,QAAGA,eAAe,GAAG,GAArB,EAAyB;EACvBA,MAAAA,eAAe,GAAG,GAAlB;EACD;;EAED,QAAGC,QAAQ,GAAG,CAAd,EAAgB;EACdA,MAAAA,QAAQ,GAAG,CAAX;EACD;;EAED,aAASG,WAAT,CAAsBC,QAAtB,EAA+B;EAC7B,UAAMC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWH,QAAQ,GAAGL,eAAtB,CAApB;EACAH,MAAAA,eAAe,CAACY,SAAD,EAAYH,WAAZ,CAAf;EACD;;EAED,aAASG,SAAT,GAAqB;EACnB,UAAMJ,QAAQ,GAAGH,QAAQ,GAAGvG,IAAI,CAACwG,GAAL,EAA5B;;EAEA,UAAGE,QAAQ,GAAGJ,QAAd,EAAuB;EACrB,YAAGI,QAAQ,GAAG,CAAd,EAAgB;EACdR,UAAAA,eAAe,CAACC,OAAD,EAAU,CAAV,CAAf;EACD,SAFD,MAEO;EACLD,UAAAA,eAAe,CAACC,OAAD,EAAUO,QAAV,CAAf;EACD;EACF,OAND,MAMO;EACLD,QAAAA,WAAW,CAACC,QAAD,CAAX;EACD;EACF;;EAEDI,IAAAA,SAAS;EACV,GA/CD;EAgDD,CAjD+B,CAiD9BC,UAjD8B,CAAzB;AAmDP,EAAO,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAU5S,CAAV,EAAa6S,KAAb,EAAoBC,EAApB,EAAwBC,UAAxB,EAAmC;EACrD,MAAG/S,CAAC,GAAG,CAAP,EAAS;EACP,QAAIgT,GAAG,GAAGR,IAAI,CAACQ,GAAL,CAAShT,CAAC,GAAG8S,EAAb,CAAV;EACA9S,IAAAA,CAAC,GAAG6S,KAAK,IAAIG,GAAG,GAAGH,KAAN,GAAcG,GAAG,GAAGH,KAApB,GAA4BG,GAAhC,CAAT;EACD;;EACDF,EAAAA,EAAE,GAAG,OAAOA,EAAP,KAAc,QAAd,GAAyBA,EAAzB,GAA8B,CAAnC;EACA,MAAMG,QAAQ,GAAGT,IAAI,CAACC,KAAL,CAAWzS,CAAC,GAAG8S,EAAf,CAAjB;EACA,MAAM1R,MAAM,GAAIyR,KAAK,GAAGI,QAAT,GAAqBA,QAArB,GAAgCA,QAAQ,GAAGJ,KAA1D;EACA,SAAO,OAAOE,UAAP,KAAsB,UAAtB,GAAmCA,UAAU,CAAC3R,MAAD,EAASpB,CAAT,EAAY6S,KAAZ,EAAmBC,EAAnB,CAA7C,GAAsE1R,MAA7E;EACD,CATM;AAWP,EAAO,IAAM8R,QAAQ,GAAG,SAAXA,QAAW,CAAUlT,CAAV,EAAa6S,KAAb,EAAoBC,EAApB,EAAuB;EAC7C,SAAOF,IAAI,CAAC5S,CAAD,EAAI6S,KAAJ,EAAWC,EAAX,EAAe,UAAC1R,MAAD,EAASpB,CAAT,EAAY6S,KAAZ,EAAmBC,EAAnB;EAAA,WAAwB,CAAC1R,MAAD,EAASoR,IAAI,CAACC,KAAL,CAAWzS,CAAC,IAAI6S,KAAK,GAAGC,EAAZ,CAAZ,CAAT,CAAxB;EAAA,GAAf,CAAX;EACD,CAFM;AAIP,EAAO,IAAMK,MAAM,GAAG,SAATA,MAAS,CAAUC,UAAV,EAAsBC,YAAtB,EAAoCC,IAApC,EAA6C;EAAA,MAATA,IAAS;EAATA,IAAAA,IAAS,GAAF,CAAE;EAAA;;EACjE,SAAO,CAACF,UAAU,GAAGnS,OAAO,CAACmS,UAAD,CAArB,KAAsCA,UAAU,CAAC,CAACA,UAAU,CAAC7J,SAAX,CAAqB,UAAAgK,GAAG;EAAA,WAAEA,GAAG,KAAKF,YAAV;EAAA,GAAxB,IAAkDC,IAAnD,IAA2DF,UAAU,CAAC9U,MAAvE,CAAvD;EACD,CAFM;;ECnGA,IAAMkV,UAAU,GAAG,SAAbA,UAAa,CAAUnW,KAAV,EAAiBiW,IAAjB,EAAuBG,QAAvB,EAAgC;EACxD,MAAI1Q,KAAJ,EAAW2Q,GAAX,EAAgBC,OAAhB;;EAEA,MAAG,OAAOtW,KAAP,KAAiB,QAApB,EAA6B;EAC3BqW,IAAAA,GAAG,GAAGrW,KAAN;EACA0F,IAAAA,KAAK,GAAG,CAAR;EACD,GAHD,MAGO,IAAG,OAAO1F,KAAP,KAAiB,QAApB,EAA6B;EAClC0F,IAAAA,KAAK,GAAG1F,KAAK,CAAC,CAAD,CAAb;EACAqW,IAAAA,GAAG,GAAGrW,KAAK,CAAC,CAAD,CAAX;;EAEA,QAAG,CAACiW,IAAD,IAAS,OAAOjW,KAAK,CAAC,CAAD,CAAZ,KAAoB,QAAhC,EAAyC;EACvCiW,MAAAA,IAAI,GAAGjW,KAAK,CAAC,CAAD,CAAZ;EACD;;EAED,QAAG,OAAOoW,QAAP,KAAoB,SAAvB,EAAiC;EAC/BA,MAAAA,QAAQ,GAAG,KAAX;EACD;EACF;EAED;;;;;;;;;EAQA,MAAG1Q,KAAK,GAAG2Q,GAAX,EAAe;EACbC,IAAAA,OAAO,GAAGD,GAAV;EACAA,IAAAA,GAAG,GAAG3Q,KAAN;EACAA,IAAAA,KAAK,GAAG4Q,OAAR;EACAA,IAAAA,OAAO,GAAG,IAAV;EACD;;EAEDD,EAAAA,GAAG,GAAGxV,UAAU,CAACwV,GAAD,CAAhB;EACAA,EAAAA,GAAG,GAAGhX,aAAa,CAACgX,GAAD,CAAb,GAAqB,CAArB,GAAyBA,GAA/B;EACA3Q,EAAAA,KAAK,GAAG7E,UAAU,CAAC6E,KAAD,CAAlB;EACAA,EAAAA,KAAK,GAAGrG,aAAa,CAACqG,KAAD,CAAb,GAAuB,CAAvB,GAA2BA,KAAnC;EACAuQ,EAAAA,IAAI,GAAGpV,UAAU,CAACoV,IAAD,CAAjB;EACAA,EAAAA,IAAI,GAAG5W,aAAa,CAAC4W,IAAD,CAAb,IAAuBA,IAAI,IAAI,CAA/B,GAAmC,CAAnC,GAAuCA,IAA9C;EAEA,SAAO;EACLvQ,IAAAA,KAAK,EAALA,KADK;EAEL2Q,IAAAA,GAAG,EAAHA,GAFK;EAGLJ,IAAAA,IAAI,EAAJA,IAHK;EAILK,IAAAA,OAAO,EAAPA,OAJK;EAKLF,IAAAA,QAAQ,EAARA;EALK,GAAP;EAOD,CAhDM;AAkDP,EAAO,IAAMG,KAAK,GAAG,SAARA,KAAQ,CAAUvW,KAAV,EAAiBwW,QAAjB,EAA2BC,aAA3B,EAAyC;EAC5D,MAAInI,CAAC,GAAG,EAAR;;EAD4D,oBAQxD6H,UAAU,CAACnW,KAAD,EAAQwW,QAAR,EAAkBC,aAAlB,CAR8C;EAAA,MAG1D/Q,KAH0D,eAG1DA,KAH0D;EAAA,MAI1D2Q,GAJ0D,eAI1DA,GAJ0D;EAAA,MAK1DJ,IAL0D,eAK1DA,IAL0D;EAAA,MAM1DK,OAN0D,eAM1DA,OAN0D;EAAA,MAO1DF,QAP0D,eAO1DA,QAP0D;;EAU5D,MAAGH,IAAI,IAAI,CAAX,EAAa;EAAE,WAAOvH,OAAO,CAACgI,IAAR,CAAa,+BAAb,GAA+CpI,CAAtD;EAAyD;;EACxE,MAAG8H,QAAQ,IAAI,KAAf,EAAqB;EAAE,SAAI,IAAIzT,CAAC,GAAG+C,KAAR,EAAe7B,CAAC,GAAGwS,GAAvB,EAA4B1T,CAAC,IAAIkB,CAAjC,EAAoClB,CAAC,GAAGA,CAAC,GAAGsT,IAA5C;EAAkD3H,MAAAA,CAAC,CAACtK,IAAF,CAAOrB,CAAP;EAAlD;EAA6D,GAApF,MAA0F;EAAE,SAAI,IAAIA,CAAC,GAAG+C,KAAR,EAAe7B,CAAC,GAAGwS,GAAvB,EAA4B1T,CAAC,GAAGkB,CAAhC,EAAmClB,CAAC,GAAGA,CAAC,GAAGsT,IAA3C;EAAiD3H,MAAAA,CAAC,CAACtK,IAAF,CAAOrB,CAAP;EAAjD;EAA4D;;EACxJ,SAAO2T,OAAO,GAAGhI,CAAC,CAACgI,OAAF,EAAH,GAAiBhI,CAA/B;EACD,CAbM;AAeP,EAAO,IAAMqI,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAUC,MAAV,EAAkBL,KAAlB,EAAyBM,EAAzB,EAA6BC,IAA7B,EAAmCtB,KAAnC,EAAyC;EACvE,SAAOvR,OAAO,CAAC2K,SAAS,CAACiI,EAAD,CAAV,EAAgB,UAAUtM,CAAV,EAAawM,GAAb,EAAiB;EAC7C,QAAMC,MAAM,GAAID,GAAG,GAAGR,KAAK,CAACQ,GAAD,CAAR,GAAgBR,KAAnC;EACA,QAAMU,OAAO,GAAGF,GAAG,GAAGH,MAAM,CAACG,GAAD,CAAT,GAAiBH,MAApC;;EACA,QAAG,CAACI,MAAD,IAAW,CAACC,OAAf,EAAuB;EAAE,aAAO1M,CAAP;EAAU;;EAEnC,QAAM2M,KAAK,GAAGD,OAAO,CAAC,CAAD,CAAP,GAAaA,OAAO,CAAC,CAAD,CAAlC;EACA,QAAME,KAAK,GAAGH,MAAM,CAAC,CAAD,CAAN,GAAYA,MAAM,CAAC,CAAD,CAAhC;EACA,QAAMI,KAAK,GAAG,CAAC7M,CAAC,GAAG0M,OAAO,CAAC,CAAD,CAAZ,IAAmBC,KAAjC;EACA,QAAMG,IAAI,GAAIL,MAAM,CAAC,CAAD,CAAN,GAAYG,KAAK,GAAGC,KAAlC;EACA,QAAMrT,MAAM,GAAG+S,IAAI,GAAG3B,IAAI,CAACC,KAAL,CAAWiC,IAAX,CAAH,GAAsBA,IAAzC;EAEA,WAAO7B,KAAK,GACRwB,MAAM,CAAC,CAAD,CAAN,GAAYA,MAAM,CAAC,CAAD,CAAlB,GACE/C,WAAW,CAAClQ,MAAD,EAASiT,MAAM,CAAC,CAAD,CAAf,EAAoBA,MAAM,CAAC,CAAD,CAA1B,CADb,GAEE/C,WAAW,CAAClQ,MAAD,EAASiT,MAAM,CAAC,CAAD,CAAf,EAAoBA,MAAM,CAAC,CAAD,CAA1B,CAHL,GAIRjT,MAJJ;EAKD,GAhBa,CAAd;EAiBD,CAlBM;AAoBP,EAAO,IAAMuT,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAUV,MAAV,EAAkBL,KAAlB,EAAyBO,IAAzB,EAA+BtB,KAA/B,EAAqC;EACzE,MAAI+B,OAAO,GAAGX,MAAd;EACA,MAAIY,MAAM,GAAIjB,KAAd;EACA,MAAIkB,KAAK,GAAKX,IAAd;;EAEA,MAAMY,WAAW,GAAG,SAAdA,WAAc,CAAC1X,KAAD;EAAA,WAAS2W,gBAAgB,CAACY,OAAD,EAAUC,MAAV,EAAkBxX,KAAlB,EAAyByX,KAAzB,EAAgCjC,KAAhC,CAAzB;EAAA,GAApB;;EAEAkC,EAAAA,WAAW,CAACd,MAAZ,GAAqB,UAACA,MAAD,EAAU;EAC7BW,IAAAA,OAAO,GAAGX,MAAV;EACA,WAAOc,WAAP;EACD,GAHD;;EAIAA,EAAAA,WAAW,CAACnB,KAAZ,GAAoB,UAACA,KAAD,EAAS;EAC3BiB,IAAAA,MAAM,GAAGjB,KAAT;EACA,WAAOmB,WAAP;EACD,GAHD;;EAIAA,EAAAA,WAAW,CAACZ,IAAZ,GAAmB,UAACA,IAAD,EAAQ;EACzBW,IAAAA,KAAK,GAAGX,IAAR;EACA,WAAOY,WAAP;EACD,GAHD;;EAKA,SAAOA,WAAP;EACD,CArBM;EAwBP;;AAEA,EAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAUjS,KAAV,EAAiB2Q,GAAjB,EAAsBJ,IAAtB,EAA4BG,QAA5B,EAAqC;EAC9D,MAAIwB,MAAM,GAAG,EAAb;EACA,MAAIC,SAAS,GAAG/D,GAAG,CAAC,CAACpO,KAAK,CAACzE,MAAP,EAAeoV,GAAG,CAACpV,MAAnB,CAAD,CAAnB;EAEA,MAAI6W,cAAc,GAAGhU,KAAK,CAAC+T,SAAD,EAAY,UAAUE,UAAV,EAAqB;EACzD,QAAMC,WAAW,GAAGzB,KAAK,CAAC,CAAC7Q,KAAK,CAACqS,UAAD,CAAN,EAAoB1B,GAAG,CAAC0B,UAAD,CAAvB,CAAD,EAAuC9B,IAAvC,EAA6CG,QAA7C,CAAzB;EACAwB,IAAAA,MAAM,CAAC5T,IAAP,CAAYgU,WAAZ;EACA,WAAOA,WAAW,CAAC/W,MAAnB;EACD,GAJyB,CAA1B;EAMA,MAAI8C,MAAM,GAAGD,KAAK,CAACgU,cAAc,CAACzK,MAAf,CAAsB,UAAU4K,IAAV,EAAgBjY,KAAhB,EAAsB;EAC7D,WAAOiY,IAAI,GAAGjY,KAAd;EACD,GAFkB,EAEhB,CAFgB,CAAD,EAEX,YAAW;EAAE,WAAO,IAAIM,KAAJ,CAAUuX,SAAV,CAAP;EAA6B,GAF/B,CAAlB;EAIA,MAAIK,QAAQ,GAAG,CAAf;EAGAtU,EAAAA,OAAO,CAACgU,MAAD,CAAP,CAAgBxM,OAAhB,CAAwB,UAAC+M,SAAD,EAAYJ,UAAZ,EAAyB;EAC/C,QAAIK,eAAe,GAAGD,SAAS,CAAClX,MAAhC;EACA6C,IAAAA,KAAK,CAACC,MAAM,CAAC9C,MAAR,EAAgB,UAAU0T,IAAV,EAAe;EAClC5Q,MAAAA,MAAM,CAAC4Q,IAAD,CAAN,CAAaoD,UAAb,IAA2BI,SAAS,CAAC5C,IAAI,CAACZ,IAAD,EAAOyD,eAAP,EAAwBF,QAAxB,CAAL,CAApC;EACD,KAFI,CAAL;EAGAA,IAAAA,QAAQ,GAAGA,QAAQ,GAAGE,eAAtB;EACD,GAND;EAQA,SAAOrU,MAAP;EACD,CA1BM;;AA6BP,EAAO,IAAMsU,WAAW,GAAG,SAAdA,WAAc,CAAUC,GAAV,EAAc;EACvC;EACA,MAAG,CAACxX,SAAS,CAACwX,GAAD,CAAb,EAAmB;EACjB,WAAO,KAAP;EACD,GAJsC;;;EAOvC,MAAGA,GAAG,CAACrX,MAAJ,KAAe,CAAlB,EAAoB;EAClB,WAAO,IAAP;EACD,GATsC;;;EAYvC,SAAO,CAACX,KAAK,CAACiY,IAAN,CAAWD,GAAX,EAAgBtN,IAAhB,CAAqB,UAACT,CAAD,EAAK;EAChC,QAAGzJ,SAAS,CAACyJ,CAAD,CAAZ,EAAgB;EACd;EACA,UAAGA,CAAC,CAACtJ,MAAF,KAAaqX,GAAG,CAACrX,MAApB,EAA4B,OAAO,IAAP,CAFd;;EAId,aAAOsJ,CAAC,CAACS,IAAF,CAAO,UAAAwN,SAAS;EAAA,eAAE,EAAEA,SAAS,IAAI/Y,SAAb,IAA0BK,QAAQ,CAAC0Y,SAAD,CAApC,CAAF;EAAA,OAAhB,CAAP;EACD;;EACD,WAAO,IAAP;EACD,GARO,CAAR;EASD,CArBM;;AAwBP,EAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAUH,GAAV,EAAeI,UAAf,EAA0B;EAChD,MAAM3U,MAAM,GAAG,EAAf;;EACA,MAAG,OAAO2U,UAAP,KAAsB,QAAtB,IAAkCA,UAAU,GAAG,CAAlD,EAAoD;EAClD,QAAMC,QAAQ,GAAGxD,IAAI,CAACyD,IAAL,CAAUN,GAAG,CAACrX,MAAJ,GAAayX,UAAvB,CAAjB;EACA5U,IAAAA,KAAK,CAAC6U,QAAD,EAAW,UAAAhW,CAAC,EAAE;EACjB,UAAMkW,MAAM,GAAG,EAAf;EACA/U,MAAAA,KAAK,CAAC4U,UAAD,EAAa,UAAAI,EAAE,EAAE;EAAED,QAAAA,MAAM,CAAC7U,IAAP,CAAYsU,GAAG,CAAC3V,CAAC,GAAG+V,UAAJ,GAAiBI,EAAlB,CAAf;EAAuC,OAA1D,CAAL;EACA/U,MAAAA,MAAM,CAACC,IAAP,CAAY6U,MAAZ;EACD,KAJI,CAAL;EAKD,GAPD,MAOO;EACL,WAAO,CAACP,GAAD,CAAP;EACD;;EACD,SAAOvU,MAAP;EACD,CAbM;AAeP,EAAO,IAAMgV,cAAc,GAAG,SAAjBA,cAAiB,CAAUC,OAAV,EAAmBC,OAAnB,EAA2B;EACvD,MAAG,CAACZ,WAAW,CAACW,OAAD,CAAZ,IAAyBX,WAAW,CAACY,OAAD,CAAvC,EAAiD;EAC/C,WAAO,IAAP;EACD;;EACD,MAAGD,OAAO,CAAC,CAAD,CAAP,CAAW/X,MAAX,KAAsBgY,OAAO,CAAChY,MAAjC,EAAwC;EACtC,WAAO,IAAP;EACD;;EACD,MAAM8C,MAAM,GAAG,EAAf;EACAD,EAAAA,KAAK,CAACmV,OAAO,CAAChY,MAAT,EAAiB,UAAAiY,SAAS,EAAE;EAC/B,QAAMC,YAAY,GAAGF,OAAO,CAACC,SAAD,CAAP,CAAmBjY,MAAxC;EACA,QAAMmY,YAAY,GAAG,EAArB;EACAtV,IAAAA,KAAK,CAACqV,YAAD,EAAe,UAAAE,YAAY,EAAE;EAChC;EACA,UAAMC,UAAU,GAAGN,OAAO,CAACE,SAAD,CAAP,CAAmB7L,MAAnB,CAA0B,UAACkM,IAAD,EAAOC,GAAP,EAAYvN,KAAZ,EAAoB;EAC/D;EACA,eAAOuN,GAAG,GAAGP,OAAO,CAAChN,KAAD,CAAP,CAAeoN,YAAf,CAAN,GAAqCE,IAA5C;EACD,OAHkB,EAGhB,CAHgB,CAAnB,CAFgC;;EAOhCH,MAAAA,YAAY,CAACpV,IAAb,CAAkBsV,UAAlB;EACD,KARI,CAAL;EASAvV,IAAAA,MAAM,CAACC,IAAP,CAAYoV,YAAZ;EACD,GAbI,CAAL;EAcA,SAAOrV,MAAP;EACD,CAvBM;;ECrLA,IAAM0V,MAAM,GAAI,YAAW;EAChC,MAAIC,WAAW,GAAG,kEAAlB;EACA,SAAO,UAAUzY,MAAV,EAAkB0Y,MAAlB,EAA0BC,UAA1B,EAAqC;EAC1C3Y,IAAAA,MAAM,GAAI5B,aAAa,CAAC4B,MAAD,CAAd,GAA0B,CAA1B,GAA8Bb,QAAQ,CAACa,MAAD,EAAS,EAAT,CAA/C;EACA0Y,IAAAA,MAAM,GAAIta,aAAa,CAACsa,MAAD,CAAd,GAA0B,CAA1B,GAA8BvZ,QAAQ,CAACuZ,MAAD,EAAS,EAAT,CAA/C;EACAC,IAAAA,UAAU,GAAIva,aAAa,CAACua,UAAD,CAAd,GAA8B,KAAKD,MAAnC,GAA4CvZ,QAAQ,CAACwZ,UAAD,EAAa,EAAb,CAAjE;EACA,QAAI7V,MAAM,GAAG,EAAb;;EACA,SAAI,IAAIpB,CAAC,GAAG,CAAR,EAAWkB,CAAC,GAAG5C,MAAnB,EAA2B0B,CAAC,GAAGkB,CAA/B,EAAkClB,CAAC,EAAnC;EAAuCoB,MAAAA,MAAM,GAAGA,MAAM,GAAG2V,WAAW,CAACG,MAAZ,CAAmBF,MAAM,GAAGvZ,QAAQ,CAAC+U,IAAI,CAAC2E,MAAL,KAAgBF,UAAjB,EAA6B,EAA7B,CAApC,CAAlB;EAAvC;;EACA,WAAO7V,MAAP;EACD,GAPD;EAQD,CAVsB,EAAhB;AAaP,EAAO,IAAMgW,QAAQ,GAAG,SAAXA,QAAW,CAAUC,IAAV,EAAgBC,MAAhB,EAAuB;EAC7C,SAAO9E,IAAI,CAACC,KAAL,CAAYD,IAAI,CAACQ,GAAL,CAASR,IAAI,CAAC+E,GAAL,CAASva,MAAM,CAAC,CAACqa,IAAI,GAAG,EAAR,EAAYjO,OAAZ,CAAoB,IAApB,EAA0B,UAAUjK,CAAV,EAAY;EAAE,WAAOA,CAAC,CAACqY,UAAF,CAAa,CAAb,CAAP;EAAwB,GAAhE,CAAD,CAAf,IAAsF,QAA/F,CAAD,GAA6G,QAAxH,EAAkIC,QAAlI,CAA2IH,MAAM,IAAI,EAArJ,CAAP;EACD,CAFM;AAGP,EAAO,IAAMI,SAAS,GAAG,SAAZA,SAAY,CAAUC,UAAV,EAAsBxD,IAAtB,EAA2B;EAAA,oBAC3BX,UAAU,CAACmE,UAAD,CADiB;EAAA,MAC1C5U,KAD0C,eAC1CA,KAD0C;EAAA,MACnC2Q,GADmC,eACnCA,GADmC;;EAElD,MAAMtS,MAAM,GAAG2B,KAAK,GAAIyP,IAAI,CAAC2E,MAAL,MAAiBzD,GAAG,GAAG3Q,KAAvB,CAAxB;EACA,SAAOoR,IAAI,KAAK,IAAT,GAAgB3B,IAAI,CAACyD,IAAL,CAAU7U,MAAV,CAAhB,GAAoCA,MAA3C;EACD,CAJM;;ECjBA,IAAMwW,OAAO,GAAG,SAAVA,OAAU,CAAUC,EAAV,EAAcC,MAAd,EAAqB;EAC1C,MAAGpa,OAAO,CAACma,EAAD,CAAV,EAAgBA,EAAE,GAAGA,EAAE,CAACE,IAAH,CAAQ,GAAR,CAAL;EAEhB,MAAIC,EAAE,GAAG,0FAA0FC,IAA1F,CAA+FJ,EAA/F,CAAT;EACAG,EAAAA,EAAE,CAAC,CAAD,CAAF,GAAQA,EAAE,CAAC,CAAD,CAAF,IAAY,IAAIpM,IAAJ,EAAD,CAAasM,OAAb,KAAyB,IAA1B,GAAkC,EAApD;EACAF,EAAAA,EAAE,CAAC,CAAD,CAAF,GAAQA,EAAE,CAAC,CAAD,CAAF,IAAW,IAAIpM,IAAJ,EAAD,CAAauM,QAAb,KAA0B,CAA5C;EACAH,EAAAA,EAAE,CAAC,CAAD,CAAF,GAAQA,EAAE,CAAC,CAAD,CAAF,IAAW,IAAIpM,IAAJ,EAAD,CAAawM,OAAb,EAAlB;EACAJ,EAAAA,EAAE,CAAC,CAAD,CAAF,GAAQA,EAAE,CAAC,CAAD,CAAF,IAAU,IAAlB;EACAA,EAAAA,EAAE,CAAC,CAAD,CAAF,GAAQA,EAAE,CAAC,CAAD,CAAF,IAAU,IAAlB;EACAA,EAAAA,EAAE,CAAC,CAAD,CAAF,GAAQA,EAAE,CAAC,CAAD,CAAF,IAAU,IAAlB;EAEA,MAAIrM,CAAC,GAAG,CAAEqM,EAAE,CAAC,CAAD,CAAJ,EAASA,EAAE,CAAC,CAAD,CAAX,EAAgBA,EAAE,CAAC,CAAD,CAAlB,EAAuBA,EAAE,CAAC,CAAD,CAAzB,EAA8BA,EAAE,CAAC,CAAD,CAAhC,EAAqCA,EAAE,CAAC,CAAD,CAAvC,EAA4CA,EAAE,CAAC,CAAD,CAA9C,CAAR;EACAvZ,EAAAA,MAAM,CAAC4Z,gBAAP,CAAwB1M,CAAxB,EAA2B;EACzB2M,IAAAA,IAAI,EAAI;EAAEC,MAAAA,UAAU,EAAE,KAAd;EAAqBlb,MAAAA,KAAK,EAAE2a,EAAE,CAAC,CAAD;EAA9B,KADiB;EAEzBQ,IAAAA,KAAK,EAAG;EAAED,MAAAA,UAAU,EAAE,KAAd;EAAqBlb,MAAAA,KAAK,EAAE2a,EAAE,CAAC,CAAD;EAA9B,KAFiB;EAGzBS,IAAAA,IAAI,EAAI;EAAEF,MAAAA,UAAU,EAAE,KAAd;EAAqBlb,MAAAA,KAAK,EAAE2a,EAAE,CAAC,CAAD;EAA9B,KAHiB;EAIzBU,IAAAA,IAAI,EAAI;EAAEH,MAAAA,UAAU,EAAE,KAAd;EAAqBlb,MAAAA,KAAK,EAAE2a,EAAE,CAAC,CAAD;EAA9B,KAJiB;EAKzBW,IAAAA,MAAM,EAAE;EAAEJ,MAAAA,UAAU,EAAE,KAAd;EAAqBlb,MAAAA,KAAK,EAAE2a,EAAE,CAAC,CAAD;EAA9B,KALiB;EAMzBY,IAAAA,MAAM,EAAE;EAAEL,MAAAA,UAAU,EAAE,KAAd;EAAqBlb,MAAAA,KAAK,EAAE2a,EAAE,CAAC,CAAD;EAA9B,KANiB;EAOzB5H,IAAAA,IAAI,EAAI;EAAEmI,MAAAA,UAAU,EAAE,KAAd;EAAqBlb,MAAAA,KAAK,EAAE2a,EAAE,CAAC,CAAD;EAA9B,KAPiB;EAQzBF,IAAAA,MAAM,EAAE;EACNS,MAAAA,UAAU,EAAE,KADN;EAEN9S,MAAAA,GAAG,EAAS;EAAA,eAAI,UAAUtG,CAAV,EAAY;EAC1B,iBAAOA,CAAC,CAACiK,OAAF,CAAU,MAAV,EAAkBuC,CAAC,CAAC2M,IAApB,EAA0BlP,OAA1B,CAAkC,QAAlC,EAA4CuC,CAAC,CAAC6M,KAA9C,EAAqDpP,OAArD,CAA6D,QAA7D,EAAuEuC,CAAC,CAAC8M,IAAzE,EACNrP,OADM,CACE,QADF,EACYuC,CAAC,CAAC+M,IADd,EACoBtP,OADpB,CAC4B,QAD5B,EACsCuC,CAAC,CAACgN,MADxC,EACgDvP,OADhD,CACwD,QADxD,EACkEuC,CAAC,CAACiN,MADpE,EAENxP,OAFM,CAEE,KAFF,EAEUiC,QAAQ,CAACM,CAAC,CAAC+M,IAAH,CAAR,GAAmB,EAApB,GAA0B,IAA1B,GAAiC,IAF1C,CAAP;EAGD,SAJW;EAAA;EAFN;EARiB,GAA3B;;EAiBA,MAAG,OAAOZ,MAAP,KAAkB,QAArB,EAA8B;EAAE,WAAOnM,CAAC,CAACmM,MAAF,CAASA,MAAT,CAAP;EAAyB;;EACzD,SAAOnM,CAAP;EACD,CA/BM;AAiCP,EAAO,IAAMkN,YAAY,GAAG,SAAfA,YAAe,CAAUC,GAAV,EAAc;EACxC,MAAGnZ,SAAS,CAACrB,MAAV,KAAqB,CAAxB,EAA0B;EACxB,WAAQ,CAAC,IAAIsN,IAAJ,EAAT;EACD;;EACD,MAAG,OAAOkN,GAAP,KAAe,QAAlB,EAA2B;EACzBA,IAAAA,GAAG,GAAGlB,OAAO,CAACkB,GAAD,CAAb;EACD;;EACD,MAAG,OAAOA,GAAP,KAAe,QAAlB,EAA2B;EACzB,WAAOA,GAAP;EACD;;EACD,MAAGpb,OAAO,CAACob,GAAD,CAAP,IAAiBA,GAAG,CAACxa,MAAJ,IAAc,CAAlC,EAAqC;EACnCwa,IAAAA,GAAG,GAAG,IAAIlN,IAAJ,CAASkN,GAAG,CAAC,CAAD,CAAZ,EAAiBA,GAAG,CAAC,CAAD,CAApB,EAAyBA,GAAG,CAAC,CAAD,CAA5B,EAAiCA,GAAG,CAAC,CAAD,CAApC,EAAyCA,GAAG,CAAC,CAAD,CAA5C,EAAiDA,GAAG,CAAC,CAAD,CAApD,CAAN;EACD;;EACD,MAAGA,GAAG,YAAYlN,IAAlB,EAAuB;EACrB,WAAQ,CAACkN,GAAT;EACD;;EACD,SAAO,CAAP;EACD,CAjBM;AAmBP,EAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAUD,GAAV,EAAc;EACxC,MAAIE,KAAK,GAAG,CAAZ;;EACA,MAAG,OAAOF,GAAP,KAAe,QAAlB,EAA2B;EACzB,WAAOA,GAAP;EACD;;EACD,MAAG,OAAOA,GAAP,KAAe,QAAlB,EAA2B;EACzB;EACAA,IAAAA,GAAG,GAAGA,GAAG,CAAC1P,OAAJ,CAAY,aAAZ,EAA2B,UAAU6P,CAAV,EAAY;EAC3CA,MAAAA,CAAC,CAAC7P,OAAF,CAAU,KAAV,EAAiB,UAAUkC,CAAV,EAAY;EAAE0N,QAAAA,KAAK,IAAI1N,CAAC,GAAG,WAAb;EAA0B,OAAzD;EACA,aAAO,EAAP;EACD,KAHK,CAAN;EAIAwN,IAAAA,GAAG,GAAGA,GAAG,CAAC1P,OAAJ,CAAY,cAAZ,EAA4B,UAAU6P,CAAV,EAAY;EAC5CA,MAAAA,CAAC,CAAC7P,OAAF,CAAU,KAAV,EAAiB,UAAUkC,CAAV,EAAY;EAAE0N,QAAAA,KAAK,IAAI1N,CAAC,GAAG,UAAb;EAAyB,OAAxD;EACA,aAAO,EAAP;EACD,KAHK,CAAN;EAIAwN,IAAAA,GAAG,GAAGA,GAAG,CAAC1P,OAAJ,CAAY,YAAZ,EAA0B,UAAU6P,CAAV,EAAY;EAC1CA,MAAAA,CAAC,CAAC7P,OAAF,CAAU,KAAV,EAAiB,UAAUkC,CAAV,EAAY;EAAE0N,QAAAA,KAAK,IAAI1N,CAAC,GAAG,QAAb;EAAuB,OAAtD;EACA,aAAO,EAAP;EACD,KAHK,CAAN;EAIAwN,IAAAA,GAAG,GAAGA,GAAG,CAAC1P,OAAJ,CAAY,aAAZ,EAA2B,UAAU6P,CAAV,EAAY;EAC3CA,MAAAA,CAAC,CAAC7P,OAAF,CAAU,KAAV,EAAiB,UAAUkC,CAAV,EAAY;EAAE0N,QAAAA,KAAK,IAAI1N,CAAC,GAAG,OAAb;EAAsB,OAArD;EACA,aAAO,EAAP;EACD,KAHK,CAAN;EAIAwN,IAAAA,GAAG,GAAGA,GAAG,CAAC1P,OAAJ,CAAY,qBAAZ,EAAmC,UAAU6P,CAAV,EAAY;EACnDA,MAAAA,CAAC,CAAC7P,OAAF,CAAU,KAAV,EAAiB,UAAUkC,CAAV,EAAY;EAAE0N,QAAAA,KAAK,IAAI1N,CAAC,GAAG,CAAb;EAAgB,OAA/C;EACA,aAAO,EAAP;EACD,KAHK,CAAN;EAIAwN,IAAAA,GAAG,GAAGA,GAAG,CAAC1P,OAAJ,CAAY,eAAZ,EAA6B,UAAU6P,CAAV,EAAY;EAC7CA,MAAAA,CAAC,CAAC7P,OAAF,CAAU,KAAV,EAAiB,UAAUkC,CAAV,EAAY;EAAE0N,QAAAA,KAAK,IAAI1N,CAAC,GAAG,KAAb;EAAoB,OAAnD;EACA,aAAO,EAAP;EACD,KAHK,CAAN;EAIAwN,IAAAA,GAAG,GAAGA,GAAG,CAAC1P,OAAJ,CAAY,eAAZ,EAA6B,UAAU6P,CAAV,EAAY;EAC7CA,MAAAA,CAAC,CAAC7P,OAAF,CAAU,KAAV,EAAiB,UAAUkC,CAAV,EAAY;EAAE0N,QAAAA,KAAK,IAAI1N,CAAC,GAAG,IAAb;EAAmB,OAAlD;EACA,aAAO,EAAP;EACD,KAHK,CAAN;EAID;;EACD,SAAO0N,KAAP;EACD,CArCM;;ECvDA,IAAME,eAAe,GAAG,SAASC,OAAT,CAAkBnY,EAAlB,EAAqB;EAClD,MAAG,OAAOA,EAAP,KAAc,UAAjB,EAA6B,OAAO,EAAP,CADqB;EAGhD;;EACF,MAAI+G,IAAI,GAAG/G,EAAE,CAACyW,QAAH,GAAcpO,KAAd,CAAoB,kDAApB,EAAwE,CAAxE,CAAX;EACA,MAAG,CAACtB,IAAJ,EAAU,OAAO,EAAP;EACV,SAAOA,IAAI,CAAC+B,KAAL,CAAW,GAAX,EAAgBjI,GAAhB,CAAoB,UAAA1C,CAAC;EAAA,WAAEA,CAAC,CAAC7B,IAAF,EAAF;EAAA,GAArB,EAAiCkC,MAAjC,CAAwC,UAAA4Z,CAAC;EAAA,WAAEA,CAAF;EAAA,GAAzC,CAAP;EACD,CAPM;AASP,EAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAUC,WAAV,EAAsB;EAC/C,MAAGA,WAAW,CAACrU,OAAZ,CAAoB,QAApB,KAAiC,CAAC,CAArC,EAAuC;EACrCqU,IAAAA,WAAW,iBAAeA,WAA1B;EACD;;EAED,MAAMC,OAAO,GAAGD,WAAhB;;EACA,MAAME,aAAa,GAAG,SAAhBA,aAAgB,CAAUrV,KAAV,EAAiBsV,IAAjB,EAAsB;EAC1C,QAAMC,MAAM,GAAG,EAAf;EACA,QAAMC,MAAM,GAAG,EAAf;EAEAlb,IAAAA,MAAM,CAAC0B,IAAP,CAAYgE,KAAZ,EAAmBsE,OAAnB,CAA2B,UAAAnI,GAAG,EAAE;EAC9BoZ,MAAAA,MAAM,CAACrY,IAAP,CAAY8C,KAAK,CAAC7D,GAAD,CAAjB;EACAqZ,MAAAA,MAAM,CAACtY,IAAP,CAAYf,GAAZ;EACD,KAHD;EAKAqZ,IAAAA,MAAM,CAACtY,IAAP,CAAYkY,OAAZ;EAEA,QAAMK,MAAM,GAAGC,QAAQ,CAAC9X,KAAT,CAAe8X,QAAf,EAAyBF,MAAzB,CAAf;;EAEA,QAAG,OAAOF,IAAP,KAAgB,UAAnB,EAA8B;EAC5BA,MAAAA,IAAI,CAAC;EACH3L,QAAAA,IAAI,EAAI8L,MADL;EAEH7R,QAAAA,IAAI,EAAI4R,MAFL;EAGHD,QAAAA,MAAM,EAAEA;EAHL,OAAD,CAAJ;EAKD;;EAED,WAAOE,MAAM,CAAC7X,KAAP,CAAa,KAAK,CAAlB,EAAqB2X,MAArB,CAAP;EACD,GAtBD;;EAwBAF,EAAAA,aAAa,CAACM,MAAd,GAAuB,YAAW;EAChC,WAAOP,OAAP;EACD,GAFD;;EAIA,SAAOC,aAAP;EACD,CAnCM;;ECTP;;;;;;;;;;;;;;;AAeA,EAAO,IAAMO,cAAc,GAAG,SAAjBA,cAAiB,CAAUC,WAAV,EAAuBC,WAAvB,EAAuC;EAAA,MAAhBA,WAAgB;EAAhBA,IAAAA,WAAgB,GAAF,CAAE;EAAA;;EACnE,MAAMC,aAAa,GAAI,CAACF,WAAW,GAAGC,WAAf,IAA8B,CAA/B,IAAqC,UAAU,CAA/C,CAAtB;EACA,MAAME,MAAM,GAAWD,aAAa,IAAI,UAAU,CAAd,CAApC;EACA,MAAME,QAAQ,GAASD,MAAM,GAAG,CAAhC;EACA,MAAME,CAAC,GAAeL,WAAW,GAAG,CAApC;EACA,MAAMM,CAAC,GAAeL,WAAW,GAAG,CAApC,CALmE;;EAQnE,SAAO;EAAEI,IAAAA,CAAC,EAADA,CAAF;EAAKC,IAAAA,CAAC,EAADA,CAAL;EAAQH,IAAAA,MAAM,EAANA,MAAR;EAAgBC,IAAAA,QAAQ,EAARA,QAAhB;EAA0BF,IAAAA,aAAa,EAAbA,aAA1B;EAAyCF,IAAAA,WAAW,EAAXA,WAAzC;EAAsDC,IAAAA,WAAW,EAAXA;EAAtD,GAAP;EACD,CATM;;ECdA,IAAMM,YAAY,GAAGC,OAArB;EAEP,IAAMC,SAAS,GAAGF,YAAY,CAACG,OAA/B;EACA,IAAMC,QAAQ,GAAGJ,YAAY,CAACK,MAA9B;AAEA,EAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAC7Z,EAAD;EAAA,SAAO,IAAIuZ,YAAJ,CAAiB,UAAC5O,CAAD,EAAIhC,CAAJ,EAAQ;EACxD,QAAMmR,YAAY,GAAG9Z,EAAE,CAAC2K,CAAD,EAAIhC,CAAJ,CAAvB;EACA9I,IAAAA,WAAW,CAACia,YAAD,CAAX,IAA6BA,YAAY,CAACC,IAAb,CAAkBpP,CAAlB,EAAqBqP,KAArB,CAA2BrR,CAA3B,CAA7B;EACD,GAHgC,CAAP;EAAA,CAAnB;AAKP,EAAO,IAAMsR,OAAO,GAAG,SAAVA,OAAU,CAACja,EAAD;EAAA,SAAM6Z,UAAU,CAAC7Z,EAAD,CAAhB;EAAA,CAAhB;EAEP,IAAMka,eAAe,GAAGD,OAAxB;AAEA,EAAO,IAAMla,KAAG,GAAOyZ,OAAO,CAACzZ,GAAxB;EACPma,eAAe,CAACna,GAAhB,GAAsBA,KAAtB;AAEA,EAAO,IAAM2Z,OAAO,GAAMD,SAAnB;EACPS,eAAe,CAACR,OAAhB,GAA0BA,OAA1B;AAEA,EAAO,IAAME,MAAM,GAAMD,QAAlB;EACPO,eAAe,CAACN,MAAhB,GAAyBA,MAAzB;;ECnBO,IAAMO,KAAK,GAAG,SAARA,KAAQ,GAAW;EAC9B,MAAIT,UAAJ,EAAaE,SAAb;EACA,MAAIK,UAAO,GAAG,IAAIV,YAAJ,CAAiB,YAAW;EACxCG,IAAAA,UAAO,GAAG/a,SAAS,CAAC,CAAD,CAAnB;EACAib,IAAAA,SAAM,GAAGjb,SAAS,CAAC,CAAD,CAAlB;EACD,GAHa,CAAd;EAIA,SAAO;EACL+a,IAAAA,OAAO,EAAEA,UADJ;EAELE,IAAAA,MAAM,EAAGA,SAFJ;EAGLK,IAAAA,OAAO,EAAEA;EAHJ,GAAP;EAKD,CAXM;AAaPC,SAAe,CAACC,KAAhB,GAAwBA,KAAxB;AAEA,EAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAUpa,EAAV,EAAcgR,IAAd,EAAmB;EACxC,MAAG,OAAOhR,EAAP,KAAc,QAAjB,EAA0B;EACxB,WAAO6Z,UAAU,CAAC,UAAAH,UAAO;EAAA,aAAE/H,UAAU,CAAC;EAAA,eAAI+H,UAAO,CAAC1I,IAAD,CAAX;EAAA,OAAD,EAAoBhR,EAApB,CAAZ;EAAA,KAAR,CAAjB;EACD,GAFD,MAEO;EACL,WAAO6Z,UAAU,CAAC,UAAAH,UAAO;EAAA,aAAE/H,UAAU,CAAC;EAAA,eAAI+H,UAAO,CAAC,OAAO1Z,EAAP,KAAc,UAAd,GAA2BA,EAAE,EAA7B,GAAkCA,EAAnC,CAAX;EAAA,OAAD,EAAoDgR,IAApD,CAAZ;EAAA,KAAR,CAAjB;EACD;EACF,CANM;AAOPkJ,SAAe,CAACE,OAAhB,GAA0BA,OAA1B;AAEA,EAAO,IAAMpT,SAAO,GAAG,SAAVA,UAAU,CAAUqT,MAAV,EAAiB;EACtC,SAAOR,UAAU,CAAC,UAAUH,UAAV,EAAmBE,SAAnB,EAA0B;EAC1C/Z,IAAAA,WAAW,CAACwa,MAAD,CAAX,GACIA,MAAM,CAACN,IAAP,CAAYL,UAAZ,EAAqBM,KAArB,CAA2BJ,SAA3B,CADJ,GAEIF,UAAO,CAACW,MAAD,CAFX;EAGD,GAJgB,CAAjB;EAKD,CANM;AAOPH,SAAe,CAAClT,OAAhB,GAA0BA,SAA1B;AAEA,EAAO,IAAMiT,SAAO,GAAGC,OAAhB;;EC/BA,IAAMI,OAAO,GAAI,YAAW;EACjC,MAAMC,qBAAqB,GAAG,qBAA9B;;EAEA,MAAMD,OAAO,GAAG,SAAVA,OAAU,OAAyE;EAAA;;EAAA,QAA7DE,KAA6D,QAA7DA,KAA6D;EAAA,QAAtDC,MAAsD,QAAtDA,MAAsD;EAAA,QAA9CC,UAA8C,QAA9CA,UAA8C;EAAA,QAAlCC,MAAkC,QAAlCA,MAAkC;EAAA,QAA1BC,UAA0B,QAA1BA,UAA0B;EAAA,QAAdC,WAAc,QAAdA,WAAc;EACvF,SAAKC,MAAL,GAAchf,SAAd;EACA,SAAKif,QAAL,GAAgB,EAAhB;EACA,SAAKC,MAAL,GAAc,EAAd;EACA,SAAKC,OAAL,GAAe,EAAf;EACA,SAAKL,UAAL,GAAkBze,QAAQ,CAACye,UAAD,CAAR,IAAwBA,UAAU,GAAG,CAArC,GAAyCA,UAAzC,GAAsD5e,MAAM,CAACC,iBAA/E;EACA,SAAK4e,WAAL,GAAmB1e,QAAQ,CAAC0e,WAAD,CAAR,IAAyBA,WAAW,GAAG,CAAvC,GAA2CA,WAA3C,GAAyD7e,MAAM,CAACC,iBAAnF,CANuF;;EASvF,QAAIif,OAAO,GAAG,CAAd;EACAR,IAAAA,UAAU,GAAGve,QAAQ,CAACue,UAAD,CAAR,IAAwBA,UAAU,GAAG,CAArC,GAAyCA,UAAzC,GAAsD,CAAnE;EAEAjd,IAAAA,MAAM,CAAC0d,cAAP,CAAsB,IAAtB,EAA4B,oBAA5B,EAAkD;EAChD1W,MAAAA,GAAG,EAAE,kBAAI;EACP,YAAIoN,KAAK,GAAG,KAAI,CAAC+I,UAAL,GAAkB,KAAI,CAACI,MAAL,CAAY1d,MAA1C;EACA,YAAGuU,KAAK,GAAG,CAAX,EAAcA,KAAK,GAAG,CAAR;EACd,eAAOA,KAAP;EACD;EAL+C,KAAlD;EAQApU,IAAAA,MAAM,CAAC0d,cAAP,CAAsB,IAAtB,EAA4B,sBAA5B,EAAoD;EAClD1W,MAAAA,GAAG,EAAE,kBAAI;EACP,eAAO,KAAI,CAACoW,WAAL,GAAmBK,OAAnB,GAA6B,KAAI,CAACD,OAAL,CAAa3d,MAAjD;EACD;EAHiD,KAApD;EAMA,QAAM8d,WAAW,GAAG;EAAEZ,MAAAA,KAAK,EAALA,KAAF;EAASC,MAAAA,MAAM,EAANA;EAAT,KAApB;;EAEA,QAAMY,SAAS,GAAG,SAAZA,SAAY,GAAI;EACpB,UAAIC,kBAAkB,GAAGZ,UAAU,GAAGQ,OAAtC,CADoB;;EAIpB,UAAGI,kBAAkB,GAAG,CAAxB,EAA0B;EACxB;EACD,OANmB;;;EASpB,UAAGA,kBAAkB,GAAG,KAAI,CAACN,MAAL,CAAY1d,MAApC,EAA2C;EACzCge,QAAAA,kBAAkB,GAAG,KAAI,CAACN,MAAL,CAAY1d,MAAjC;EACD,OAXmB;;;EAcpB,UAAGge,kBAAkB,GAAG,KAAI,CAACC,oBAA7B,EAAkD;EAChDD,QAAAA,kBAAkB,GAAG,KAAI,CAACC,oBAA1B;EACD;;EAED,UAAGD,kBAAkB,GAAG,CAAxB,EAA0B;EACxB;EACD;;EAED3e,MAAAA,KAAK,CAAC2e,kBAAD,CAAL,CAA0B3U,IAA1B,CAA+ByU,WAA/B,EAA4C3T,OAA5C;EAAA;EAAA;EAAA;EAAA;EAAA,gCAAoD;EAAA;EAAA;EAAA;EAAA;EAAA;EAAS+S,kBAAAA,KAAT,SAASA,KAAT;EAC9CgB,kBAAAA,KAD8C,GACtC,KAAI,CAACR,MAAL,CAAYS,KAAZ,EADsC;EAElDP,kBAAAA,OAAO;;EAEDQ,kBAAAA,YAJ4C;EAAA;EAAA;EAAA;EAAA;EAAA,4CAI7B,iBAAOC,eAAP;EAAA;EAAA;EAAA;EAAA;EACnB;;;;;EAMA,8BAAA,KAAI,CAACV,OAAL,CAAa5a,IAAb,CAAkBsb,eAAlB;;EACAT,8BAAAA,OAAO;;EAEP,8BAAA,KAAI,CAACH,QAAL,CAActT,OAAd,CAAsB,UAAAI,KAAK;EAAA,uCAAEA,KAAK,CAAC+T,IAAN,CAAWrB,qBAAX,CAAF;EAAA,+BAA3B;;EACAc,8BAAAA,SAAS;;EAXU;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA,qBAJ6B;;EAAA,oCAI5CK,YAJ4C;EAAA;EAAA;EAAA;;EAAA,uBAkB/ClB,KAlB+C;EAAA;EAAA;EAAA;;EAAA;EAAA,iCAoB9CkB,YApB8C;EAAA;EAAA,yBAoB3BlB,KAAK,CAAC;EAAEgB,oBAAAA,KAAK,EAALA;EAAF,mBAAD,CApBsB;;EAAA;EAAA;EAAA;EAAA;EAAA;;EAAA;EAAA;EAAA;;EAAA,wBAsB3C,OAAOb,MAAP,KAAkB,UAtByB;EAAA;EAAA;EAAA;;EAuB5CA,kBAAAA,MAAM,cAAN;EAvB4C;EAAA;;EAAA;EAAA;;EAAA;EA2B9CO,kBAAAA,OAAO;;EA3BuC;EAAA;EAAA;;EAAA;EA8BhDQ,kBAAAA,YAAY,CAACF,KAAD,CAAZ;;EA9BgD;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA,SAApD;;EAAA;EAAA;EAAA;EAAA;EAiCD,KAvDD;;EAyDA/d,IAAAA,MAAM,CAAC0d,cAAP,CAAsB,IAAtB,EAA4B,MAA5B,EAAoC;EAClC9e,MAAAA,KAAK,EAAE,eAACwf,QAAD,EAAY;EACjB,QAAA,KAAI,CAACb,MAAL,CAAY3a,IAAZ,CAAiBwb,QAAjB;;EACAR,QAAAA,SAAS;EACT,eAAO,KAAP;EACD;EALiC,KAApC;EAQA5d,IAAAA,MAAM,CAAC0d,cAAP,CAAsB,IAAtB,EAA4B,QAA5B,EAAsC;EACpC9e,MAAAA,KAAK,EAAE,eAACwf,QAAD,EAAY;EACjB5b,QAAAA,OAAO,CAAC4b,QAAD,CAAP,CAAkBpU,OAAlB,CAA0B,UAAA6C,CAAC;EAAA,iBAAE,KAAI,CAAC0Q,MAAL,CAAY3a,IAAZ,CAAiBiK,CAAjB,CAAF;EAAA,SAA3B;EACA+Q,QAAAA,SAAS;EACT,eAAO,KAAP;EACD;EALmC,KAAtC;EAQA5d,IAAAA,MAAM,CAAC0d,cAAP,CAAsB,IAAtB,EAA4B,MAA5B,EAAoC;EAClC9e,MAAAA,KAAK,EAAE,eAACyf,SAAD,EAAa;EAClB,gBAAQA,SAAR;EACE,eAAKvB,qBAAL;EACE,gBAAG,KAAI,CAACwB,kBAAL,GAA0B,CAA7B,EAAgC;;EAChC,gBAAIC,QAAQ,GAAG,KAAI,CAAClB,MAAL,CAAYmB,IAAZ,CAAiB,KAAI,CAACF,kBAAtB,CAAf;;EACA,gBAAGC,QAAQ,CAAC1e,MAAT,GAAkB,CAArB,EAAwB;EACxB0e,YAAAA,QAAQ,CAACvU,OAAT,CAAiB,UAAAmF,KAAK;EAAA,qBAAE,KAAI,CAACoO,MAAL,CAAY3a,IAAZ,CAAiBuM,KAAjB,CAAF;EAAA,aAAtB;EACAyO,YAAAA,SAAS;EACT;EAPJ;EASD;EAXiC,KAApC;EAcA5d,IAAAA,MAAM,CAAC0d,cAAP,CAAsB,IAAtB,EAA4B,MAA5B,EAAoC;EAClC9e,MAAAA,KAAK,EAAE,eAAC6f,UAAD,EAAc;EACnB,YAAG,EAAE/f,QAAQ,CAAC+f,UAAD,CAAR,IAAwBA,UAAU,IAAIlgB,MAAM,CAACC,iBAA/C,CAAH,EAAsE,OAAO,EAAP;;EACtE,YAAM+f,QAAQ,GAAG,KAAI,CAACf,OAAL,CAAavQ,MAAb,CAAoB,CAApB,EAAuBwR,UAAvB,CAAjB,CAFmB;;;EAInB,eAAOF,QAAP;EACD;EANiC,KAApC;EASAve,IAAAA,MAAM,CAAC0d,cAAP,CAAsB,IAAtB,EAA4B,OAA5B,EAAqC;EACnC9e,MAAAA,KAAK,EAAE,eAAC8f,IAAD,EAAe;EAAA,YAAdA,IAAc;EAAdA,UAAAA,IAAc,GAAP,IAAO;EAAA;;EACpB,YAAIC,YAAY,GAAGC,eAAe,CAAC;EAAE7B,UAAAA,KAAK,EAALA,KAAF;EAASC,UAAAA,MAAM,EAANA,MAAT;EAAiBC,UAAAA,UAAU,EAAVA,UAAjB;EAA6BC,UAAAA,MAAM,EAANA,MAA7B;EAAqCC,UAAAA,UAAU,EAAVA,UAArC;EAAiDC,UAAAA,WAAW,EAAXA;EAAjD,SAAD,CAAlC;EAEAsB,QAAAA,IAAI,KAAK,IAAT,IAAiB,KAAI,CAACpB,QAAL,CAActT,OAAd,CAAsB,UAAAI,KAAK,EAAE;EAC5CA,UAAAA,KAAK,CAACG,KAAN,CAAY,IAAZ,EAAkBoU,YAAlB;EACD,SAFgB,CAAjB;EAIA,eAAOA,YAAP;EACD;EATkC,KAArC;EAWD,GAvID;;EAyIA9B,EAAAA,OAAO,CAACxV,SAAR,GAAoB;EAClBwX,IAAAA,MAAM,EAAE,gBAAUzU,KAAV,EAAgB;EACtBA,MAAAA,KAAK,CAACiT,MAAN,GAAe,IAAf;EACA,WAAKC,QAAL,CAAc1a,IAAd,CAAmBwH,KAAnB;EACA,aAAO,IAAP;EACD,KALiB;EAMlB0U,IAAAA,MAAM,EAAE,gBAAU1U,KAAV,EAAgB;EACtB,UAAIS,KAAK,GAAG,KAAKyS,QAAL,CAAc9W,OAAd,CAAsB4D,KAAtB,CAAZ;EACA,UAAGS,KAAK,GAAG,CAAX,EAAc,OAAO,IAAP;EACdT,MAAAA,KAAK,CAACiT,MAAN,GAAehf,SAAf;EACA,WAAKif,QAAL,CAAcrQ,MAAd,CAAqBpC,KAArB,EAA4B,CAA5B;EACD,KAXiB;EAYlBgS,IAAAA,OAAO,EAAE,iBAAUpQ,MAAV,EAAiB;EACxB,aAAO,KAAKoS,MAAL,CAAYD,eAAe,CAACnS,MAAD,CAA3B,CAAP;EACD;EAdiB,GAApB;;EAiBA,MAAMmS,eAAe,GAAG,SAAlBA,eAAkB,CAAUnS,MAAV,EAAiB;EACvC,WAAO,IAAIoQ,OAAJ,CAAY7c,MAAM,CAACkQ,MAAP,CAAc,EAAd,EAAkBzD,MAAlB,CAAZ,CAAP;EACD,GAFD;;EAIA,SAAOmS,eAAP;EACD,CAlKuB,EAAjB;;ECwNP,IAAMG,YAAY,GAAG,IAAI,YAAW;EAClC/e,EAAAA,MAAM,CAAC0d,cAAP,CAAsB,IAAtB,EAA4B,SAA5B,EAAuC;EACrC1W,IAAAA,GAAG,EAAE;EAAA,aAAI,QAAJ;EAAA;EADgC,GAAvC;EAGAhH,EAAAA,MAAM,CAAC0d,cAAP,CAAsB,IAAtB,EAA4B,OAA5B,EAAqC;EACnC1W,IAAAA,GAAG,EAAE;EAAA,aAAI,IAAJ;EAAA;EAD8B,GAArC;EAGD,CAPoB,EAArB;AASA,EAAO,IAAMgY,KAAK,GAAG,SAARA,KAAQ,CAAUC,aAAV,EAAoC;EAAA,MAA1BA,aAA0B;EAA1BA,IAAAA,aAA0B,GAAV5gB,SAAU;EAAA;;EACvD,SAAO,IAAIyd,YAAJ,CAAiB,UAACG,UAAD,EAAUE,SAAV,EAAmB;EACzC,QAAG8C,aAAa,KAAK,IAArB,EAA0B;EACxB3R,MAAAA,OAAO,CAACgI,IAAR,CAAa,eAAb;EACD;;EACD6G,IAAAA,SAAM,CAAC4C,YAAD,CAAN;EACD,GALM,CAAP;EAMD,CAPM;;ECpNP,IAAMG,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAUhX,GAAV,EAAetJ,KAAf,EAAsBiD,GAAtB,EAA0B;EACjD,MAAGX,SAAS,CAACrB,MAAV,IAAoB,CAApB,IAAyBR,UAAU,CAAC6I,GAAD,CAAtC,EAA6C,OAAO7H,OAAO,CAAC6H,GAAD,CAAd;EAC7C,MAAGjJ,OAAO,CAACiJ,GAAD,CAAV,EAAiB,KAAI,IAAI3G,CAAC,GAAG,CAAR,EAAWkB,CAAC,GAAGyF,GAAG,CAACrI,MAAvB,EAA+B0B,CAAC,GAAGkB,CAAnC,EAAsClB,CAAC,EAAvC;EAA2C,QAAG2G,GAAG,CAAC3G,CAAD,CAAH,KAAW3C,KAAd,EAAqB,OAAO,IAAP;EAAhE;;EACjB,MAAGS,UAAU,CAAC6I,GAAD,CAAb,EAAmB;EACjB,QAAGrG,GAAH,EAAO;EACL,aAAOmF,GAAG,CAACkB,GAAD,EAAMrG,GAAN,CAAH,KAAkBjD,KAAzB;EACD,KAFD,MAEO;EACL,WAAI,IAAIiD,GAAR,IAAeqG,GAAf;EAAoB,YAAGlB,GAAG,CAACkB,GAAD,EAAMrG,GAAN,CAAH,KAAkBjD,KAArB,EAA4B,OAAO,IAAP;EAAhD;EACD;EACF;;EACD,SAAO,KAAP;EACD,CAXD;EAeA;;;EAEA,IAAMugB,KAAK,GAAG,SAARA,KAAQ,CAAUC,OAAV,EAAmBC,OAAnB,EAA2B;EAAA;;EACvCrf,EAAAA,MAAM,CAAC4Z,gBAAP,CAAwB,IAAxB,EAA8B;EAC5B0F,IAAAA,MAAM,EAAO;EAAExF,MAAAA,UAAU,EAAE,KAAd;EAAqByF,MAAAA,QAAQ,EAAE,IAA/B;EAAqC3gB,MAAAA,KAAK,EAAEP;EAA5C,KADe;EAE5BmhB,IAAAA,QAAQ,EAAK;EAAE1F,MAAAA,UAAU,EAAE,KAAd;EAAqByF,MAAAA,QAAQ,EAAE,IAA/B;EAAqC3gB,MAAAA,KAAK,EAAEP;EAA5C,KAFe;EAG5BohB,IAAAA,KAAK,EAAQ;EAAE3F,MAAAA,UAAU,EAAE,KAAd;EAAqByF,MAAAA,QAAQ,EAAE,IAA/B;EAAqC3gB,MAAAA,KAAK,EAAEP;EAA5C,KAHe;EAI5BqhB,IAAAA,QAAQ,EAAK;EAAE5F,MAAAA,UAAU,EAAE,KAAd;EAAqByF,MAAAA,QAAQ,EAAE,IAA/B;EAAqC3gB,MAAAA,KAAK,EAAEP;EAA5C,KAJe;EAK5BshB,IAAAA,KAAK,EAAQ;EAAE7F,MAAAA,UAAU,EAAE,KAAd;EAAqByF,MAAAA,QAAQ,EAAE,IAA/B;EAAqC3gB,MAAAA,KAAK,EAAEP;EAA5C,KALe;EAM5BuhB,IAAAA,WAAW,EAAE;EACX9F,MAAAA,UAAU,EAAE,IADD;EAEX9S,MAAAA,GAAG,EAAS,kBAAI;EACd,eAAOnE,OAAO,CAAC2K,SAAS,CAAC,KAAI,CAACxG,GAAL,EAAD,CAAV,EAAwB,UAAUoY,OAAV,EAAkB;EAAE,iBAAOA,OAAO,CAAC,CAAD,CAAd;EAAmB,SAA/D,CAAd;EACD;EAJU,KANe;EAY5BS,IAAAA,UAAU,EAAE;EACV/F,MAAAA,UAAU,EAAE,IADF;EAEV9S,MAAAA,GAAG,EAAS,kBAAI;EACd,eAAOnE,OAAO,CAAC2K,SAAS,CAAC,KAAI,CAACxG,GAAL,EAAD,CAAV,EAAwB,UAAUoY,OAAV,EAAkB;EAAE,iBAAOA,OAAO,CAAC,CAAD,CAAd;EAAmB,SAA/D,CAAd;EACD;EAJS,KAZgB;EAkB5BU,IAAAA,UAAU,EAAE;EACVhG,MAAAA,UAAU,EAAE,IADF;EAEV9S,MAAAA,GAAG,EAAS,kBAAI;EACd,eAAO,KAAI,CAACsY,MAAL,CAAYS,WAAZ,CAAwBld,OAAO,CAAC,KAAI,CAACmE,GAAL,EAAD,EAAa,UAAUoY,OAAV,EAAkB;EAAE,iBAAOA,OAAO,CAAC,CAAD,CAAd;EAAmB,SAApD,CAA/B,CAAP;EACD;EAJS,KAlBgB;EAwB5BY,IAAAA,SAAS,EAAE;EACTlG,MAAAA,UAAU,EAAE,IADH;EAET9S,MAAAA,GAAG,EAAS,kBAAI;EACd,eAAO,KAAI,CAACsY,MAAL,CAAYW,eAAZ,CAA4Bpd,OAAO,CAAC,KAAI,CAACmE,GAAL,EAAD,EAAa,UAAUoY,OAAV,EAAkB;EAAE,iBAAOA,OAAO,CAAC,CAAD,CAAd;EAAmB,SAApD,CAAnC,CAAP;EACD;EAJQ;EAxBiB,GAA9B;EAgCA,OAAKc,IAAL,CAAUd,OAAV,EAAmBC,OAAnB;EACD,CAlCD;;EAoCA,IAAMc,cAAc,GAAG,EAAvB;EAEAngB,MAAM,CAAC4Z,gBAAP,CAAwBuG,cAAxB,EAAwC;EACtCC,EAAAA,SAAS,EAAE;EACTtG,IAAAA,UAAU,EAAE,KADH;EAET9S,IAAAA,GAFS,oBAEH;EACJ,aAAOnE,OAAO,CAAC2K,SAAS,CAAC,KAAKxG,GAAL,EAAD,CAAV,EAAwB,UAAUoY,OAAV,EAAkB;EACtD,eAAO;EACL9a,UAAAA,KAAK,EAAE8a,OAAO,CAAC,CAAD,CADT;EAELiB,UAAAA,IAAI,EAAGjB,OAAO,CAAC,CAAD,CAFT;EAGLnK,UAAAA,GAAG,EAAImK,OAAO,CAAC,CAAD,CAAP,GAAaA,OAAO,CAAC,CAAD;EAHtB,SAAP;EAKD,OANa,CAAd;EAOD;EAVQ,GAD2B;EAatCkB,EAAAA,QAAQ,EAAE;EACRxG,IAAAA,UAAU,EAAE,KADJ;EAER9S,IAAAA,GAFQ,oBAEF;EACJ,UAAMgZ,SAAS,GAAG,KAAKA,SAAvB;EAEA,aAAOnd,OAAO,CAAC,KAAKid,UAAN,EAAkB,UAAUS,MAAV,EAAkB5K,GAAlB,EAAsB;EACpD,YAAI6K,KAAK,GAAG7K,GAAG,GAAGqK,SAAS,CAACrK,GAAD,CAAZ,GAAoBqK,SAAnC;EACA,eAAO;EACL1b,UAAAA,KAAK,EAAEic,MADF;EAELF,UAAAA,IAAI,EAAGG,KAFF;EAGLvL,UAAAA,GAAG,EAAIsL,MAAM,GAAGC;EAHX,SAAP;EAKD,OAPa,CAAd;EAQD;EAbO,GAb4B;EA4BtCC,EAAAA,QAAQ,EAAE;EACR3G,IAAAA,UAAU,EAAE,KADJ;EAER9S,IAAAA,GAFQ,oBAEF;EACJ,aAAO,KAAKsZ,QAAL,CAAc,KAAKA,QAAnB,EAA6B,UAAUld,GAAV,EAAc;EAAE,eAAOA,GAAG,CAAC6R,GAAX;EAAgB,OAA7D,CAAP;EACD;EAJO;EA5B4B,CAAxC;EAoCAjV,MAAM,CAACkQ,MAAP,CAAciQ,cAAd,EAA8B;EAC5BD,EAAAA,IAAI,EAAE,cAAUQ,KAAV,EAAiBrB,OAAjB,EAAyB;EAC7B,QAAG,CAACne,SAAS,CAACrB,MAAX,IAAqB,KAAK8f,KAA7B,EAAmC;EACjCe,MAAAA,KAAK,GAAG,KAAKf,KAAL,EAAR;EACD,KAFD,MAEO,IAAG,OAAOe,KAAP,KAAiB,UAApB,EAA+B;EACpC,WAAKf,KAAL,GAAae,KAAb;;EACA,UAAGrB,OAAO,IAAI,IAAd,EAAmB;EACjBqB,QAAAA,KAAK,GAAG,KAAKf,KAAL,EAAR;EACD,OAFD,MAEO;EACL,eAAO,IAAP;EACD;EACF;;EACD,QAAGe,KAAK,YAAYvB,KAApB,EAA0B;EACxB,WAAKK,QAAL,GAAgBhS,SAAS,CAACkT,KAAK,CAAClB,QAAP,CAAzB,CADwB;;EAGxB,WAAKF,MAAL,GAAc,KAAKA,MAAL,IAAeoB,KAAK,CAACpB,MAAnC;EACA,WAAKG,KAAL,GAAa,KAAKA,KAAL,IAAciB,KAAK,CAACjB,KAAjC;EACD,KALD,MAKO;EACL,WAAKD,QAAL,GAAgB3c,OAAO,CAAC2K,SAAS,CAACkT,KAAD,CAAV,EAAmB,UAAUtB,OAAV,EAAkB;EAAE,eAAO,CAACngB,OAAO,CAACmgB,OAAD,CAAR,GAAoB,CAACA,OAAD,EAAU,CAAV,CAApB,GAAmCA,OAA1C;EAAmD,OAA1F,CAAvB;EACD;;EACD,WAAO,IAAP;EACD,GArB2B;EAsB5B7U,EAAAA,KAAK,EAAQ,oBAAW;EAAE,WAAO,IAAI4U,KAAJ,CAAU,IAAV,CAAP;EAAwB,GAtBtB;EAuB5BwB,EAAAA,WAAW,EAAE,qBAAU/hB,KAAV,EAAiB+W,GAAjB,EAAqB;EAAE,QAAI6J,QAAQ,GAAGxY,GAAG,CAAC,KAAKwY,QAAN,EAAgB7J,GAAhB,CAAlB;EAAwC,QAAG6J,QAAQ,YAAYtgB,KAAvB,EAA8BsgB,QAAQ,CAAC,CAAD,CAAR,GAAc5gB,KAAd;EAAqB,WAAO,IAAP;EAAa,GAvBhH;EAwB5BgiB,EAAAA,OAAO,EAAM,iBAAUhiB,KAAV,EAAiB+W,GAAjB,EAAqB;EAAE,QAAI6J,QAAQ,GAAGxY,GAAG,CAAC,KAAKwY,QAAN,EAAgB7J,GAAhB,CAAlB;EAAwC,QAAG6J,QAAQ,YAAYtgB,KAAvB,EAA8BsgB,QAAQ,CAAC,CAAD,CAAR,GAAc5gB,KAAd;EAAqB,WAAO,IAAP;EAAa,GAxBhH;EAyB5BoI,EAAAA,GAAG,EAAU,kBAAW;EAAE,WAAOwG,SAAS,CAAC,OAAO,KAAKgS,QAAZ,KAAyB,UAAzB,GAAsC,KAAKA,QAAL,EAAtC,GAAwD,KAAKA,QAA9D,CAAhB;EAAyF,GAzBvF;EA0B5BqB,EAAAA,SAAS,EAAI,mBAAUC,WAAV,EAAuBC,QAAvB,EAAgC;EAC3C,WAAOve,OAAO,CAACse,WAAD,CAAP,CAAqB7U,MAArB,CAA4B,UAAU+U,GAAV,EAAeN,KAAf,EAAqB;EACtD,UAAIO,gBAAgB,GAAGja,GAAG,CAAC0Z,KAAD,EAAQK,QAAR,CAA1B;;EAEA,UAAGE,gBAAgB,YAAY9B,KAA/B,EAAqC;EACnC;EACA,YAAI8B,gBAAgB,KAAK,IAAtB,IAAgCA,gBAAgB,CAAC3B,MAAjB,IAA2B,KAAKA,MAAnE,EAA4E,OAAO0B,GAAP,CAFzC;;EAKnC,YAAIE,aAAa,GAAG,EAApB;EAEAre,QAAAA,OAAO,CAAC,KAAKmE,GAAL,EAAD,EAAa,UAAUma,OAAV,EAAmBtf,GAAnB,EAAuB;EACzC,cAAIuf,QAAQ,GAAGpa,GAAG,CAACia,gBAAgB,CAACja,GAAjB,EAAD,EAAyBnF,GAAzB,CAAlB;EACA,cAAGuf,QAAQ,CAAC,CAAD,CAAR,GAAcD,OAAO,CAAC,CAAD,CAArB,IAA6BC,QAAQ,CAAC,CAAD,CAAR,GAAcA,QAAQ,CAAC,CAAD,CAAvB,IAA+BD,OAAO,CAAC,CAAD,CAArE,EAA0E,OAAOD,aAAa,CAACte,IAAd,CAAmB,KAAnB,CAAP;EAC1E,cAAGwe,QAAQ,CAAC,CAAD,CAAR,GAAcD,OAAO,CAAC,CAAD,CAArB,IAA6BA,OAAO,CAAC,CAAD,CAAP,GAAaA,OAAO,CAAC,CAAD,CAArB,IAA6BC,QAAQ,CAAC,CAAD,CAApE,EAAyE,OAAOF,aAAa,CAACte,IAAd,CAAmB,KAAnB,CAAP;EACzE,iBAAOse,aAAa,CAACte,IAAd,CAAmB,IAAnB,CAAP;EACD,SALM,CAAP;;EAOA,YAAGse,aAAa,CAACrhB,MAAd,IAAwB,CAACqf,gBAAgB,CAACgC,aAAD,EAAgB,KAAhB,CAA5C,EAAmE;EACjEF,UAAAA,GAAG,CAACpe,IAAJ,CAAS8d,KAAT;EACD;EACF;;EACD,aAAOM,GAAP;EACD,KAtBkC,CAsBjCK,IAtBiC,CAsB5B,IAtB4B,CAA5B,EAsBO,EAtBP,CAAP;EAuBD,GAlD2B;EAmD5BC,EAAAA,YAAY,EAAE,sBAAUR,WAAV,EAAuBC,QAAvB,EAAgC;EAAE,WAAO,CAAC,CAAC,KAAKF,SAAL,CAAeC,WAAf,EAA4BC,QAA5B,EAAsClhB,MAA/C;EAAuD,GAnD3E;EAoD5B0hB,EAAAA,QAAQ,EAAM,kBAAUC,IAAV,EAAe;EAC3B,QAAIC,YAAY,GAAI,KAAKza,GAAL,EAApB;EACA,QAAI0a,WAAW,GAAK,KAAKpC,MAAL,CAAY9J,MAAhC;EACA,QAAImM,cAAc,GAAIH,IAAI,IAAIhU,SAAS,CAACgU,IAAD,CAAlB,IAA8B,KAAKlC,MAAL,IAAe,KAAKA,MAAL,CAAY9J,MAAzD,IAAoE,EAAzF;EACA,WAAO3S,OAAO,CAAC8e,cAAD,EAAiB,UAAUC,iBAAV,EAA6BjM,GAA7B,EAAiC;EAC9D,UAAI6J,QAAQ,GAAGxY,GAAG,CAACya,YAAD,EAAe9L,GAAf,CAAlB;EACA,UAAIE,OAAO,GAAI7O,GAAG,CAAC0a,WAAD,EAAc/L,GAAd,CAAlB;EACA,aAAQ6J,QAAQ,CAAC,CAAD,CAAR,GAAcxY,GAAG,CAAC4a,iBAAiB,CAAC,CAAD,CAAlB,EAAuB/L,OAAO,CAAC,CAAD,CAA9B,CAAjB,IAAwD2J,QAAQ,CAAC,CAAD,CAAR,GAAcA,QAAQ,CAAC,CAAD,CAAvB,GAA8BxY,GAAG,CAAC4a,iBAAiB,CAAC,CAAD,CAAlB,EAAuB/L,OAAO,CAAC,CAAD,CAA9B,CAAhG;EACD,KAJa,CAAd;EAKD,GA7D2B;EA8D5BgM,EAAAA,UAAU,EAAE,oBAAUL,IAAV,EAAe;EACzB,QAAID,QAAQ,GAAG,KAAf;EACA1e,IAAAA,OAAO,CAAC,KAAK0e,QAAL,CAAcC,IAAd,CAAD,EAAsB,UAAUM,CAAV,EAAY;EAAE,UAAGA,CAAH,EAAK;EAAEP,QAAAA,QAAQ,GAAG,IAAX;EAAiB;EAAE,KAA9D,CAAP;EACA,WAAOA,QAAP;EACD,GAlE2B;EAmE5BQ,EAAAA,YAAY,EAAI,sBAAUP,IAAV,EAAe;EAAE,WAAO,KAAKD,QAAL,CAAc,KAAK9B,KAAL,IAAc+B,IAA5B,CAAP;EAA0C,GAnE/C;EAoE5BQ,EAAAA,cAAc,EAAE,wBAAUR,IAAV,EAAe;EAAE,WAAO,KAAKK,UAAL,CAAgB,KAAKpC,KAAL,IAAc+B,IAA9B,CAAP;EAA4C,GApEjD;EAqE5BS,EAAAA,OAAO,EAAS,iBAAU5S,IAAV,EAAe;EAC7B,QAAG,OAAOA,IAAP,KAAgB,UAAnB,EAA8B;EAC5B,WAAKqQ,QAAL,GAAgBrQ,IAAhB;EACD,KAFD,MAEO;EACL,WAAKqQ,QAAL,IAAiB,KAAKA,QAAL,CAAc,KAAKtc,GAAL,EAAd,CAAjB;EACD;;EACD,WAAO,IAAP;EACD,GA5E2B;EA6E5BgE,EAAAA,IAAI,EAAE,cAAU0a,CAAV,EAAY;EAAE,WAAOA,CAAP,KAAa,UAAb,IAA2BA,CAAC,CAAC1a,IAAF,CAAO,IAAP,EAAa,KAAKkZ,QAAlB,CAA3B;EAAwD;EA7EhD,CAA9B;EAgFAnB,KAAK,CAAC9X,SAAN,GAAkB8Y,cAAlB;;EAEA,IAAM+B,OAAO,GAAG,SAAVA,OAAU,CAAUC,KAAV,EAAiBC,UAAjB,EAA4B;EAC1C,OAAK9C,MAAL,GAAc6C,KAAd;EACA,OAAKE,WAAL,GAAmBxf,OAAO,CAAC2K,SAAS,CAAC4U,UAAD,CAAV,EAAwB,UAAUZ,IAAV,EAAe;EAC/D,QAAG,OAAOA,IAAP,KAAgB,QAAnB,EAA6BA,IAAI,GAAG,CAACA,IAAD,CAAP;;EAC7B,QAAGA,IAAI,YAAYtiB,KAAnB,EAAyB;EACvB,UAAG,CAACsiB,IAAI,CAAC,CAAD,CAAR,EAAaA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAAV;EACb,UAAG,CAACA,IAAI,CAAC,CAAD,CAAR,EAAaA,IAAI,CAAC,CAAD,CAAJ,GAAU,UAAUrY,CAAV,EAAY;EAAE,eAAOA,CAAP;EAAU,OAAlC;EACd;;EACD,WAAOqY,IAAP;EACD,GAPyB,CAA1B;EAQD,CAVD;;EAYAU,OAAO,CAAC7a,SAAR,GAAoB;EAClBqZ,EAAAA,KAAK,EAAE,eAAUtB,OAAV,EAAmBC,OAAnB,EAA2B;EAChC,QAAIqB,KAAK,GAAG,IAAIvB,KAAJ,CAAUC,OAAV,EAAmBC,OAAnB,CAAZ;EACAqB,IAAAA,KAAK,CAACpB,MAAN,GAAe,KAAKA,MAApB;EACAoB,IAAAA,KAAK,CAACjB,KAAN,GAAc,KAAK4C,WAAnB;EACA,WAAO3B,KAAP;EACD,GANiB;EAOlB4B,EAAAA,WAAW,EAAE,qBAAUje,MAAV,EAAkBke,QAAlB,EAA2B;EACtC,QAAIC,UAAU,GAAG3f,OAAO,CAAC,KAAKyc,MAAL,CAAYnK,KAAb,EAAoB,UAAUA,QAAV,EAAgB;EAAE,aAAOA,QAAK,CAAC,CAAD,CAAZ;EAAiB,KAAvD,CAAxB;EACA,QAAIuL,KAAK,GAAQ,KAAKA,KAAL,CAAW7d,OAAO,CAAC,KAAKyc,MAAL,CAAYmD,WAAZ,CAAwBpe,MAAxB,CAAD,EAAkC,UAAUqe,WAAV,EAAuB7gB,GAAvB,EAA2B;EAAE,aAAO,CAAC6gB,WAAD,EAAc1b,GAAG,CAACwb,UAAD,EAAa3gB,GAAb,CAAjB,CAAP;EAA4C,KAA3G,CAAlB,CAAjB;EACA,QAAI8gB,QAAQ,GAAKjC,KAAK,CAACtd,GAAN,EAAjB;EAEAmf,IAAAA,QAAQ,IAAIA,QAAQ,CAACnb,IAAT,CAAcsZ,KAAd,EAAqBiC,QAArB,EAA+BjC,KAA/B,CAAZ;EACA,WAAOA,KAAP;EACD;EAdiB,CAApB;;EAiBA,IAAMkC,KAAK,GAAG,SAARA,KAAQ,CAAUpN,MAAV,EAAkBL,QAAlB,EAAwB;EACpC,OAAK0N,WAAL,GAAmB,IAAnB;EACA,OAAKC,UAAL,GAAkB,IAAlB;EAEA9iB,EAAAA,MAAM,CAAC4Z,gBAAP,CAAwB,IAAxB,EAA8B;EAC5BiJ,IAAAA,WAAW,EAAE;EAAE/I,MAAAA,UAAU,EAAE,KAAd;EAAqByF,MAAAA,QAAQ,EAAE,IAA/B;EAAqC3gB,MAAAA,KAAK,EAAE;EAA5C,KADe;EAE5BkkB,IAAAA,UAAU,EAAG;EAAEhJ,MAAAA,UAAU,EAAE,KAAd;EAAqByF,MAAAA,QAAQ,EAAE,IAA/B;EAAqC3gB,MAAAA,KAAK,EAAE;EAA5C,KAFe;EAG5BiX,IAAAA,OAAO,EAAM;EAAEiE,MAAAA,UAAU,EAAE,KAAd;EAAqByF,MAAAA,QAAQ,EAAE,IAA/B;EAAqC3gB,MAAAA,KAAK,EAAEP;EAA5C,KAHe;EAI5BuX,IAAAA,MAAM,EAAO;EAAEkE,MAAAA,UAAU,EAAE,KAAd;EAAqByF,MAAAA,QAAQ,EAAE,IAA/B;EAAqC3gB,MAAAA,KAAK,EAAEP;EAA5C,KAJe;EAK5BmX,IAAAA,MAAM,EAAO;EACXsE,MAAAA,UAAU,EAAE,IADD;EAEXiJ,MAAAA,GAFW,eAENvN,MAFM,EAEC;EACVA,QAAAA,MAAM,GAAG3S,OAAO,CAAC2S,MAAD,EAAS,UAAUA,MAAV,EAAiB;EACxC,cAAG,CAACA,MAAM,CAAC,CAAD,CAAV,EAAc;EAAEA,YAAAA,MAAM,CAAC,CAAD,CAAN,GAAY,CAAZ;EAAe;;EAC/B,iBAAOA,MAAP;EACD,SAHe,CAAhB;EAIA,aAAKK,OAAL,GAAeL,MAAf;EACD,OARU;EASXxO,MAAAA,GATW,oBASL;EACJ,eAAOnE,OAAO,CAAC2K,SAAS,CAAC,KAAKqI,OAAN,CAAV,EAA0B,UAAUL,MAAV,EAAiB;EACvD,eAAI,IAAIjU,CAAC,GAAG,CAAR,EAAWkB,CAAC,GAAG+S,MAAM,CAAC3V,MAA1B,EAAkC0B,CAAC,GAAGkB,CAAtC,EAAyClB,CAAC,EAA1C;EAA8C,gBAAG,OAAOiU,MAAM,CAACjU,CAAD,CAAb,KAAqB,UAAxB,EAAoCiU,MAAM,CAACjU,CAAD,CAAN,GAAYiU,MAAM,CAACjU,CAAD,CAAN,EAAZ;EAAlF;;EACA,iBAAOiU,MAAP;EACD,SAHa,CAAd;EAID;EAdU,KALe;EAqB5BL,IAAAA,KAAK,EAAE;EACL2E,MAAAA,UAAU,EAAE,IADP;EAELiJ,MAAAA,GAFK,eAEA5N,QAFA,EAEM;EACTA,QAAAA,QAAK,GAAGtS,OAAO,CAACsS,QAAD,EAAQ,UAAUA,QAAV,EAAgB;EACrC,cAAG,CAACA,QAAK,CAAC,CAAD,CAAT,EAAa;EAAEA,YAAAA,QAAK,CAAC,CAAD,CAAL,GAAW,CAAX;EAAc;;EAC7B,iBAAOA,QAAP;EACD,SAHc,CAAf;EAIA,aAAKS,MAAL,GAAcT,QAAd;EACD,OARI;EASLnO,MAAAA,GATK,oBASC;EACJ,eAAOnE,OAAO,CAAC2K,SAAS,CAAC,KAAKoI,MAAN,CAAV,EAAyB,UAAUT,QAAV,EAAgB;EACrD,eAAI,IAAI5T,CAAC,GAAG,CAAR,EAAWkB,CAAC,GAAG0S,QAAK,CAACtV,MAAzB,EAAiC0B,CAAC,GAAGkB,CAArC,EAAwClB,CAAC,EAAzC;EAA6C,gBAAG,OAAO4T,QAAK,CAAC5T,CAAD,CAAZ,KAAoB,UAAvB,EAAmC4T,QAAK,CAAC5T,CAAD,CAAL,GAAW4T,QAAK,CAAC5T,CAAD,CAAL,EAAX;EAAhF;;EACA,iBAAO4T,QAAP;EACD,SAHa,CAAd;EAID;EAdI;EArBqB,GAA9B;EAuCA,OAAKU,OAAL,GAAeL,MAAf;EACA,OAAKI,MAAL,GAAcT,QAAd;EACD,CA7CD;;EA+CAyN,KAAK,CAACvb,SAAN,GAAkB;EAChB4Y,EAAAA,eAAe,EAAE,yBAAUxK,EAAV,EAAa;EAC5B,WAAO5S,OAAO,CAAC4S,EAAD,EAAK,UAAUtM,CAAV,EAAawM,GAAb,EAAiB;EAClC,UAAIC,MAAM,GAAID,GAAG,GAAG,KAAKR,KAAL,CAAWQ,GAAX,CAAH,GAAqB,KAAKR,KAA3C;EACA,UAAIU,OAAO,GAAGF,GAAG,GAAG,KAAKH,MAAL,CAAYG,GAAZ,CAAH,GAAsB,KAAKH,MAA5C;EACA,aAAQrM,CAAC,IAAI0M,OAAO,CAAC,CAAD,CAAP,GAAaA,OAAO,CAAC,CAAD,CAAxB,CAAF,IAAmCD,MAAM,CAAC,CAAD,CAAN,GAAYA,MAAM,CAAC,CAAD,CAArD,CAAP;EACD,KAJkB,CAIjByL,IAJiB,CAIZ,IAJY,CAAL,CAAd;EAKD,GAPe;EAQhBtB,EAAAA,WAAW,EAAE,qBAAUtK,EAAV,EAAa;EAAE,WAAOF,gBAAgB,CAAC,KAAKC,MAAN,EAAc,KAAKL,KAAnB,EAA0BM,EAA1B,EAA8B,KAAKqN,UAAnC,CAAvB;EAAuE,GARnF;EAShBL,EAAAA,WAAW,EAAE,qBAAUhN,EAAV,EAAa;EAAE,WAAOF,gBAAgB,CAAC,KAAKJ,KAAN,EAAa,KAAKK,MAAlB,EAA0BC,EAA1B,EAA8B,KAAKoN,WAAnC,CAAvB;EAAwE,GATpF;EAUhBnC,EAAAA,KAAK,EAAQ,eAAUtB,OAAV,EAAmBC,OAAnB,EAA2B;EACtC,QAAIqB,KAAK,GAAG,IAAIvB,KAAJ,CAAUC,OAAV,EAAmBC,OAAnB,CAAZ;EACAqB,IAAAA,KAAK,CAACpB,MAAN,GAAe,IAAf;EACA,WAAOoB,KAAP;EACD,GAde;EAehBsC,EAAAA,OAAO,EAAE,iBAAUZ,UAAV,EAAqB;EAC5B,QAAIY,OAAO,GAAG,IAAId,OAAJ,CAAY,IAAZ,EAAkBE,UAAlB,CAAd;EACA,WAAOY,OAAP;EACD;EAlBe,CAAlB;AAqBA,EAAO,IAAMb,KAAK,GAAI,YAAW;EAC/B,SAAO,UAAU3M,MAAV,EAAkBL,QAAlB,EAAwB;EAC7B,WAAO,IAAIyN,KAAJ,CAAUpN,MAAV,EAAkBL,QAAlB,CAAP;EACD,GAFD;EAGD,CAJqB,EAAf;AAMP,EAAO,IAAMuL,KAAK,GAAI,YAAW;EAC/B,SAAO,UAAUtB,OAAV,EAAmBC,OAAnB,EAA2B;EAChC,WAAO,IAAIF,KAAJ,CAAUC,OAAV,EAAmBC,OAAnB,CAAP;EACD,GAFD;EAGD,CAJqB,EAAf;;ECpSP,IAAM4D,aAAa,GAAG,EAAtB;EACA,IAAMC,WAAW,GAAK,EAAtB;EAEA;;;;;;;;;;;;;AAaA,EAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAUhc,IAAV,EAAe;EACpC,MAAMic,IAAI,GAAG;EACX5F,IAAAA,OAAO,EAAE;EAAA,aAAI0F,WAAW,CAAC/b,IAAD,CAAX,CAAkB/D,GAAlB,CAAsB,UAAAigB,CAAC;EAAA,eAAEA,CAAC,CAACrG,MAAJ;EAAA,OAAvB,CAAJ;EAAA,KADE;EAEXzY,IAAAA,IAAI,EAAK,cAAChC,EAAD,EAAM;EACb0gB,MAAAA,aAAa,CAAC9b,IAAD,CAAb,GAAsB5E,EAAtB;EACA2gB,MAAAA,WAAW,CAAC/b,IAAD,CAAX,GAAoB,EAApB;EACD,KALU;EAMXmc,IAAAA,KAAK,EAAE,iBAAI;EACT,UAAM3gB,MAAM,GAAGygB,IAAI,CAAC5F,OAAL,EAAf;EACA,aAAOyF,aAAa,CAAC9b,IAAD,CAApB;EACA,aAAO+b,WAAW,CAAC/b,IAAD,CAAlB;EACA,aAAO4U,OAAO,CAACzZ,GAAR,CAAYK,MAAZ,CAAP;EACD,KAXU;EAYX4gB,IAAAA,KAAK,EAAE,eAACzf,OAAD,EAAW;EAChB,UAAG,OAAOmf,aAAa,CAAC9b,IAAD,CAApB,KAA+B,UAAlC,EAA6C;EAC3C,YAAG,CAAC8b,aAAa,CAAC9b,IAAD,CAAjB,EAAwB;EACtB,gBAAM,IAAIuD,KAAJ,gBAAuBvD,IAAvB,qBAAN;EACD,SAFD,MAEO;EACL,gBAAM,IAAIuD,KAAJ,gBAAuBvD,IAAvB,+BAAN;EACD;EACF;;EAED,UAAM4V,KAAK,GAAGP,SAAO,CAACjT,OAAR,CAAgB0Z,aAAa,CAAC9b,IAAD,CAAb,CAAoBrD,OAApB,CAAhB,CAAd;EACA,UAAM0f,YAAY,GAAG;EACnBzG,QAAAA,KAAK,EAALA,KADmB;EAEnBC,QAAAA,MAAM,EAAE3e,SAFW;EAGnBsB,QAAAA,IAAI,EAAItB;EAHW,OAArB;EAMA,aAAO0e,KAAK,CAACT,IAAN,CAAW,UAAC3c,IAAD,EAAQ;EACxB,YAAM8jB,QAAQ,GAAQjH,SAAO,CAACE,KAAR,EAAtB;EACA,YAAMgH,YAAY,GAAID,QAAQ,CAACjH,OAA/B;EACAgH,QAAAA,YAAY,CAACxG,MAAb,GAAsB0G,YAAtB;EACAF,QAAAA,YAAY,CAAC7jB,IAAb,GAAoBA,IAApB;EAEAujB,QAAAA,WAAW,CAAC/b,IAAD,CAAX,CAAkBvE,IAAlB,CAAuB4gB,YAAvB;EAEA,eAAO;EACL7jB,UAAAA,IAAI,EAAJA,IADK;EAELsc,UAAAA,OAAO,EAAEwH,QAAQ,CAACxH,OAFb;EAGLE,UAAAA,MAAM,EAAGsH,QAAQ,CAACtH;EAHb,SAAP;EAKD,OAbM,CAAP;EAcD;EA1CU,GAAb;EA6CA,SAAOiH,IAAP;EACD,CA/CM;;EChBA,IAAMO,QAAQ,GAAG,SAAXA,QAAW,CAAU3Q,GAAV,EAAeC,GAAf,EAAmB;EACzC,OAAKrU,KAAL,GAAa,CAAb;;EACA,MAAG,OAAOoU,GAAP,KAAe,QAAf,IAA2B/U,aAAa,CAACgV,GAAD,CAA3C,EAAiD;EAC/C,SAAK2Q,OAAL,GAAerlB,MAAM,CAACC,iBAAtB;EACD,GAFD,MAEO;EACL,SAAKolB,OAAL,GAAe5Q,GAAf;EACD;;EACD,MAAG,OAAOC,GAAP,KAAe,QAAf,IAA2BhV,aAAa,CAACgV,GAAD,CAA3C,EAAiD;EAC/C,SAAK4Q,OAAL,GAAe,CAAf;EACD,GAFD,MAEO;EACL,SAAKA,OAAL,GAAe5Q,GAAf;EACD;EACF,CAZM;EAcP,IAAM6Q,iBAAiB,GAAG;EACxBC,EAAAA,QADwB,oBACdC,QADc,EACL;EACjB,WAAOA,QAAQ,KAAKnR,WAAW,CAACmR,QAAD,EAAW,KAAKJ,OAAhB,EAAyB,KAAKC,OAA9B,CAA/B;EACD,GAHuB;EAIxBI,EAAAA,SAJwB,qBAIbD,QAJa,EAIJ;EAClB,WAAOA,QAAQ,KAAKnR,WAAW,CAACmR,QAAD,EAAW,KAAKJ,OAAhB,EAAyB,KAAKC,OAA9B,CAA/B;EACD,GANuB;EAOxBK,EAAAA,WAAW,EAAE,qBAAUC,QAAV,EAAmB;EAC9B,QAAMC,SAAS,GAAG,KAAKxlB,KAAL,GAAaulB,QAA/B;EACA,WAAOC,SAAS,KAAKvR,WAAW,CAACuR,SAAD,EAAY,KAAKR,OAAjB,EAA0B,KAAKC,OAA/B,CAAhC;EACD,GAVuB;EAWxBQ,EAAAA,YAAY,EAAE,sBAAUF,QAAV,EAAmB;EAC/B,QAAMC,SAAS,GAAG,KAAKxlB,KAAL,GAAaulB,QAA/B;EACA,WAAOC,SAAS,KAAKvR,WAAW,CAACuR,SAAD,EAAY,KAAKR,OAAjB,EAA0B,KAAKC,OAA/B,CAAhC;EACD,GAduB;EAexBd,EAAAA,GAAG,EAAE,aAAUiB,QAAV,EAAmB;EACtB,SAAKplB,KAAL,GAAaolB,QAAb;EACA,WAAO,IAAP;EACD,GAlBuB;EAmBxB9V,EAAAA,GAAG,EAAE,aAAUiW,QAAV,EAAmB;EACtB,SAAKvlB,KAAL,GAAa,KAAKA,KAAL,GAAaulB,QAA1B;EACA,WAAO,IAAP;EACD;EAtBuB,CAA1B;EAyBAnkB,MAAM,CAAC4Z,gBAAP,CAAwBkK,iBAAxB,EAA2C;EACzCQ,EAAAA,IAAI,EAAE;EACJtd,IAAAA,GADI,oBACE;EACJ,aAAO,KAAKpI,KAAL,KAAeiU,WAAW,CAAC,KAAKjU,KAAN,EAAa,KAAKglB,OAAlB,EAA2B,KAAKC,OAAhC,CAAjC;EACD;EAHG;EADmC,CAA3C;EAQAF,QAAQ,CAACtc,SAAT,GAAqByc,iBAArB;AAEA,EAAO,IAAMS,MAAM,GAAG,SAATA,MAAS,CAAUvR,GAAV,EAAeC,GAAf,EAAmB;EACvC,SAAO,IAAI0Q,QAAJ,CAAa3Q,GAAb,EAAkBC,GAAlB,CAAP;EACD,CAFM;;EC/CA,IAAMuR,WAAW,GAAI,YAAW;EACrC,MAAMA,WAAW,GAAG,SAAdA,WAAc,CAAUpmB,IAAV,EAAgBqZ,MAAhB,EAAwBgN,GAAxB,EAA4B;EAAA;;EAC9CjiB,IAAAA,OAAO,CAACpE,IAAD,CAAP,CAAc4L,OAAd,CAAsB,UAAAmF,KAAK,EAAE;EAAE,MAAA,KAAI,CAACvM,IAAL,CAAUuM,KAAV;EAAkB,KAAjD;EAEAnP,IAAAA,MAAM,CAAC4Z,gBAAP,CAAwB,IAAxB,EAA8B;EAC5BnC,MAAAA,MAAM,EAAE;EACNqC,QAAAA,UAAU,EAAE,KADN;EAENlb,QAAAA,KAAK,EAAO6Y;EAFN,OADoB;EAK5BgN,MAAAA,GAAG,EAAE;EACH3K,QAAAA,UAAU,EAAE,KADT;EAEHlb,QAAAA,KAAK,EAAO6lB;EAFT,OALuB;EAS5B5kB,MAAAA,MAAM,EAAE;EACNia,QAAAA,UAAU,EAAE;EADN;EAToB,KAA9B;EAaD,GAhBD;;EAkBA0K,EAAAA,WAAW,CAACnd,SAAZ,GAAwBrH,MAAM,CAACkQ,MAAP,CAAc,EAAd,EAAkB;EACxCwU,IAAAA,QADwC,oBAC9BC,cAD8B,EACf;EAAA;;EACvB,UAAMhiB,MAAM,GAAG,EAAf;EACAgiB,MAAAA,cAAc,GAAG,OAAOA,cAAP,KAA0B,UAA1B,GAAuCA,cAAvC,GAAwDtmB,SAAzE;EAEAqE,MAAAA,KAAK,CAAC,KAAK+U,MAAL,GAAc,KAAKgN,GAApB,EAAyB,UAAC5Z,KAAD,EAAS;EAAA,wBACN4J,QAAQ,CAAC5J,KAAD,EAAQ,MAAI,CAAC4M,MAAb,CADF;EAAA,YAC7BmN,QAD6B;EAAA,YACnBpS,QADmB;;EAErC,YAAMpU,IAAI,GAAS,MAAI,CAACyM,KAAD,CAAvB;EACA,YAAMga,UAAU,GAAGF,cAAc,GAAGA,cAAc,CAACvmB,IAAD,EAAOyM,KAAP,EAAc+Z,QAAd,EAAwBpS,QAAxB,CAAjB,GAAqDpU,IAAtF;EACA,YAAG,CAACuE,MAAM,CAAC6P,QAAD,CAAV,EAAsB7P,MAAM,CAAC6P,QAAD,CAAN,GAAmB,EAAnB;EACtB7P,QAAAA,MAAM,CAAC6P,QAAD,CAAN,CAAiB5P,IAAjB,CAAsBiiB,UAAtB;EACD,OANI,CAAL;EAQA,aAAOliB,MAAP;EACD,KAduC;EAexC6J,IAAAA,OAfwC,wBAe9B;EACR,aAAOtN,KAAK,CAACiY,IAAN,CAAW,IAAX,CAAP;EACD,KAjBuC;EAkBxC2N,IAAAA,UAlBwC,sBAkB5BC,MAlB4B,EAkBrB;EACjB,UAAMC,IAAI,GAAG,KAAKN,QAAL,EAAb;EACA,UAAMO,OAAO,GAAGviB,KAAK,CAAC,KAAK+U,MAAN,EAAc,UAAAmN,QAAQ,EAAE;EAC3C,YAAMM,OAAO,GAAG,EAAhB;EACAF,QAAAA,IAAI,CAAChb,OAAL,CAAa,UAAAya,GAAG;EAAA,iBAAES,OAAO,CAACtiB,IAAR,CAAa6hB,GAAG,CAACG,QAAD,CAAhB,CAAF;EAAA,SAAhB;EACA,eAAOM,OAAP;EACD,OAJoB,CAArB;EAMA,aAAO,OAAOH,MAAP,KAAkB,UAAlB,GAA+BE,OAAO,CAAC7hB,GAAR,CAAY2hB,MAAZ,CAA/B,GAAqDE,OAA5D;EACD,KA3BuC;EA4BxCE,IAAAA,OA5BwC,mBA4B/BJ,MA5B+B,EA4BxB;EACd,UAAMC,IAAI,GAAG,KAAKN,QAAL,EAAb;EACA,aAAO,OAAOK,MAAP,KAAkB,UAAlB,GAA+BC,IAAI,CAAC5hB,GAAL,CAAS2hB,MAAT,CAA/B,GAAkDC,IAAzD;EACD,KA/BuC;EAgCxCI,IAAAA,QAhCwC,sBAgC7B;EAEV;EAlCuC,GAAlB,CAAxB;EAqCA,SAAOZ,WAAP;EACD,CAzD0B,EAApB;AA2DP,EAAO,IAAMa,eAAe,GAAG,SAAlBA,eAAkB,CAAU5N,MAAV,EAAkBgN,GAAlB,EAAuBa,QAAvB,EAAgC;EAC7D,MAAMC,WAAW,GAAG7iB,KAAK,CAAC+U,MAAM,GAAGgN,GAAV,EAAe,UAAC5Z,KAAD,EAAS;EAAA,qBAChB4J,QAAQ,CAAC5J,KAAD,EAAQ4M,MAAR,CADQ;EAAA,QACvCmN,QADuC;EAAA,QAC7BpS,QAD6B;;EAE/C,WAAO8S,QAAQ,CAACza,KAAD,EAAQ+Z,QAAR,EAAkBpS,QAAlB,CAAR,IAAuC,CAACoS,QAAD,EAAWpS,QAAX,CAA9C;EACD,GAHwB,CAAzB;EAKA,MAAMgT,WAAW,GAAG,IAAIhB,WAAJ,CAAgBe,WAAhB,EAA6B9N,MAA7B,EAAqCgN,GAArC,CAApB;EACA,SAAOe,WAAP;EACD,CARM;;ECzDP,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAUhY,CAAV,EAAY;EAC5B,SAAO,OAAOA,CAAP,KAAa,QAAb,IAAyBA,CAAC,CAAC7N,cAAF,CAAiB,GAAjB,CAAzB,IAAkD6N,CAAC,CAAC7N,cAAF,CAAiB,GAAjB,CAAzD;EACD,CAFD;;EAIA,IAAM8lB,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,KAAD,QAAwC;EAAA,MAA9BC,MAA8B,QAA9BA,MAA8B;EAAA,MAAtBC,iBAAsB,QAAtBA,iBAAsB;EACnE;EACA;EACA;EACA;EACA;EACA,MAAG,CAACD,MAAJ,EAAY;EAEZ,MAAME,cAAc,GAAG,EAAvB;;EARmE,cAS1BD,iBAAiB,IAAI;EAAEjK,IAAAA,CAAC,EAAE,CAAL;EAAQC,IAAAA,CAAC,EAAE,CAAX;EAAckK,IAAAA,CAAC,EAAE;EAAjB,GATK;EAAA,sBAS3DnK,CAT2D;EAAA,MASzDoK,EATyD,wBASpD,CAToD;EAAA,sBASjDnK,CATiD;EAAA,MAS/CoK,EAT+C,wBAS1C,CAT0C;EAAA,sBASvCF,CATuC;EAAA,MASrCG,EATqC,wBAShC,CATgC;;EAAA,wBAUtCvO,cAAc,CAACiO,MAAD,EAAS,CAAC,CAACD,KAAK,CAAC/J,CAAN,GAAUoK,EAAX,CAAD,EAAiB,CAACL,KAAK,CAAC9J,CAAN,GAAUoK,EAAX,CAAjB,EAAiC,CAACN,KAAK,CAACI,CAAN,GAAUG,EAAX,CAAjC,EAAiD,CAACP,KAAK,CAACQ,CAAP,CAAjD,CAAT,CAVwB;EAAA;EAAA,MAU3DvK,CAV2D;EAAA;EAAA,MAUtDC,CAVsD;EAAA;EAAA,MAUjDkK,CAViD;EAAA;EAAA,MAU5CI,CAV4C;;EAYnEL,EAAAA,cAAc,CAAClK,CAAf,GAAmBA,CAAC,GAAGoK,EAAJ,GAASJ,MAAM,CAAC,CAAD,CAAN,CAAU,CAAV,CAA5B;EACAE,EAAAA,cAAc,CAACjK,CAAf,GAAmBA,CAAC,GAAGoK,EAAJ,GAASL,MAAM,CAAC,CAAD,CAAN,CAAU,CAAV,CAA5B;EACAE,EAAAA,cAAc,CAACC,CAAf,GAAmBA,CAAC,GAAGG,EAAJ,GAASN,MAAM,CAAC,CAAD,CAAN,CAAU,CAAV,CAA5B;EACAE,EAAAA,cAAc,CAACK,CAAf,GAAmBA,CAAnB;EAEA,SAAOL,cAAP;EACD,CAlBD;;EAoBA,IAAMM,KAAK,GAAG,SAARA,KAAQ,CAAUxK,CAAV,EAAiBC,CAAjB,EAAwBkK,CAAxB,EAA+BI,CAA/B,EAAsCxc,IAAtC,EAA2C;EAAA;;EAAA,MAAjCiS,CAAiC;EAAjCA,IAAAA,CAAiC,GAA7B,CAA6B;EAAA;;EAAA,MAA1BC,CAA0B;EAA1BA,IAAAA,CAA0B,GAAtB,CAAsB;EAAA;;EAAA,MAAnBkK,CAAmB;EAAnBA,IAAAA,CAAmB,GAAf,CAAe;EAAA;;EAAA,MAAZI,CAAY;EAAZA,IAAAA,CAAY,GAAR,CAAQ;EAAA;;EACvD;EACA,MAAMR,KAAK,GAAG;EAAE/J,IAAAA,CAAC,EAADA,CAAF;EAAKC,IAAAA,CAAC,EAADA,CAAL;EAAQkK,IAAAA,CAAC,EAADA,CAAR;EAAWI,IAAAA,CAAC,EAADA;EAAX,GAAd;EACA,MAAIE,MAAM,GAAG,EAAb;;EACA,MAAIC,kBAAJ;;EAEAtmB,EAAAA,MAAM,CAAC4Z,gBAAP,CAAwB,IAAxB,EAA8B;EAC5BgC,IAAAA,CAAC,EAAE;EACD9B,MAAAA,UAAU,EAAE,IADX;EAED9S,MAAAA,GAAG,EAAS,eAAI;EACd,YAAG,KAAI,CAACuf,SAAL,KAAmB,IAAtB,EAA2B;EACzB,WAACD,kBAAD,KAAwBA,kBAAkB,GAAGZ,oBAAoB,CAACC,KAAD,EAAQ,KAAI,CAAChc,IAAb,CAAjE;EACA,iBAAO2c,kBAAkB,GAAGA,kBAAkB,CAAC1K,CAAtB,GAA0B+J,KAAK,CAAC/J,CAAzD;EACD;;EACD,eAAO+J,KAAK,CAAC/J,CAAb;EACD,OARA;EASDmH,MAAAA,GAAG,EAAE,aAAA5Z,CAAC,EAAE;EACNmd,QAAAA,kBAAkB,GAAGjoB,SAArB;EACAsnB,QAAAA,KAAK,CAAC/J,CAAN,GAAUzS,CAAV;EACD;EAZA,KADyB;EAe5B0S,IAAAA,CAAC,EAAE;EACD/B,MAAAA,UAAU,EAAE,IADX;EAED9S,MAAAA,GAAG,EAAS,eAAI;EACd,YAAG,KAAI,CAACuf,SAAL,KAAmB,IAAtB,EAA2B;EACzB,WAACD,kBAAD,KAAwBA,kBAAkB,GAAGZ,oBAAoB,CAACC,KAAD,EAAQ,KAAI,CAAChc,IAAb,CAAjE;EACA,iBAAO2c,kBAAkB,GAAGA,kBAAkB,CAACzK,CAAtB,GAA0B8J,KAAK,CAAC9J,CAAzD;EACD;;EACD,eAAO8J,KAAK,CAAC9J,CAAb;EACD,OARA;EASDkH,MAAAA,GAAG,EAAE,aAAA5Z,CAAC,EAAE;EACNmd,QAAAA,kBAAkB,GAAGjoB,SAArB;EACAsnB,QAAAA,KAAK,CAAC9J,CAAN,GAAU1S,CAAV;EACD;EAZA,KAfyB;EA6B5B4c,IAAAA,CAAC,EAAE;EACDjM,MAAAA,UAAU,EAAE,IADX;EAED9S,MAAAA,GAAG,EAAS,eAAI;EACd,YAAG,KAAI,CAACuf,SAAL,KAAmB,IAAtB,EAA2B;EACzB,WAACD,kBAAD,KAAwBA,kBAAkB,GAAGZ,oBAAoB,CAACC,KAAD,EAAQ,KAAI,CAAChc,IAAb,CAAjE;EACA,iBAAO2c,kBAAkB,GAAGA,kBAAkB,CAACP,CAAtB,GAA0BJ,KAAK,CAACI,CAAzD;EACD;;EACD,eAAOJ,KAAK,CAACI,CAAb;EACD,OARA;EASDhD,MAAAA,GAAG,EAAE,aAAA5Z,CAAC,EAAE;EACNmd,QAAAA,kBAAkB,GAAGjoB,SAArB;EACAsnB,QAAAA,KAAK,CAACI,CAAN,GAAU5c,CAAV;EACD;EAZA,KA7ByB;EA2C5Bgd,IAAAA,CAAC,EAAE;EACDrM,MAAAA,UAAU,EAAE,IADX;EAED9S,MAAAA,GAAG,EAAS,eAAI;EACd,YAAG,KAAI,CAACuf,SAAL,KAAmB,IAAtB,EAA2B;EACzB,WAACD,kBAAD,KAAwBA,kBAAkB,GAAGZ,oBAAoB,CAACC,KAAD,EAAQ,KAAI,CAAChc,IAAb,CAAjE;EACA,iBAAO2c,kBAAkB,GAAGA,kBAAkB,CAACH,CAAtB,GAA0BR,KAAK,CAACQ,CAAzD;EACD;;EACD,eAAOR,KAAK,CAACQ,CAAb;EACD,OARA;EASDpD,MAAAA,GAAG,EAAE,aAAA5Z,CAAC,EAAE;EACNmd,QAAAA,kBAAkB,GAAGjoB,SAArB;EACAsnB,QAAAA,KAAK,CAACQ,CAAN,GAAUhd,CAAV;EACD;EAZA,KA3CyB;EAyD5BQ,IAAAA,IAAI,EAAE;EACJmQ,MAAAA,UAAU,EAAE,KADR;EAEJ9S,MAAAA,GAFI,iBAEE;EAAE,eAAOqf,MAAP;EAAe,OAFnB;EAGJtD,MAAAA,GAHI,eAGC7kB,EAHD,EAGI;EACN,eAAOA,EAAP,KAAc,QAAd,IAA0B8B,MAAM,CAACkQ,MAAP,CAAcmW,MAAd,EAAsBnoB,EAAtB,CAA1B;EACAooB,QAAAA,kBAAkB,GAAGjoB,SAArB;EACA,eAAOgoB,MAAP;EACD;EAPG,KAzDsB;EAkE5BE,IAAAA,SAAS,EAAE;EACTzM,MAAAA,UAAU,EAAI,KADL;EAET0M,MAAAA,YAAY,EAAE,KAFL;EAGTjH,MAAAA,QAAQ,EAAM,IAHL;EAIT3gB,MAAAA,KAAK,EAAS;EAJL,KAlEiB;EAwE5B6nB,IAAAA,EAAE,EAAE;EAAE3M,MAAAA,UAAU,EAAE,KAAd;EACF9S,MAAAA,GAAG,EAAS,eAAI;EACd,YAAM0f,UAAU,GAAI,KAAI,CAAC/c,IAAL,IAAa,KAAI,CAACA,IAAL,CAAUwL,KAAvB,IAAgC,KAAI,CAACxL,IAAL,CAAUwL,KAAV,CAAgBwR,KAAjD,IAA2D,CAA9E;EACA,eAAO,KAAI,CAAC/K,CAAL,GAAS8K,UAAhB;EACD;EAJC,KAxEwB;EA8E5BE,IAAAA,EAAE,EAAE;EACF9M,MAAAA,UAAU,EAAE,KADV;EAEF9S,MAAAA,GAAG,EAAS,eAAI;EACd,YAAM6f,WAAW,GAAI,KAAI,CAACld,IAAL,IAAa,KAAI,CAACA,IAAL,CAAUwL,KAAvB,IAAgC,KAAI,CAACxL,IAAL,CAAUwL,KAAV,CAAgB2R,MAAjD,IAA4D,CAAhF;EACA,eAAO,KAAI,CAACjL,CAAL,GAASgL,WAAhB;EACD;EALC;EA9EwB,GAA9B;;EAuFA,MAAG,OAAOld,IAAP,KAAgB,QAAnB,EAA4B;EAC1B,SAAKA,IAAL,GAAYA,IAAZ;EACD;EACF,CAhGD;;EAkGAyc,KAAK,CAAC/e,SAAN,GAAkB;EAChB0f,EAAAA,OADgB,mBACP7e,GADO,EACH;EACX,QAAG,OAAOA,GAAP,KAAe,QAAlB,EAA4B,KAAKyB,IAAL,GAAY3J,MAAM,CAACkQ,MAAP,CAAc,KAAKvG,IAAL,IAAa,KAAKA,IAAlB,IAA0B,EAAxC,EAA4CzB,GAA5C,CAAZ;EAC5B,WAAO,IAAP;EACD,GAJe;EAKhBqC,EAAAA,KALgB,sBAKR;EACN,WAAO,IAAI6b,KAAJ,CAAU,KAAKxK,CAAf,EAAkB,KAAKC,CAAvB,EAA0B,KAAKkK,CAA/B,EAAkC,KAAKI,CAAvC,EAA0C,KAAKxc,IAA/C,CAAP;EACD,GAPe;EAQhBvC,EAAAA,IARgB,gBAQV7E,EARU,EAQP;EACP,QAAG,OAAOA,EAAP,KAAc,UAAjB,EAA4B;EAC1B,aAAOA,EAAE,CAAC,IAAD,CAAF,IAAY,IAAnB;EACD;;EACD,WAAO,IAAP;EACD,GAbe;EAchBykB,EAAAA,MAdgB,kBAcRC,QAdQ,EAcC;EACf,QAAMC,IAAI,GAAG;EAAEtL,MAAAA,CAAC,EAAE,KAAKA,CAAV;EAAaC,MAAAA,CAAC,EAAE,KAAKA,CAArB;EAAwBkK,MAAAA,CAAC,EAAE,KAAKA,CAAhC;EAAmCI,MAAAA,CAAC,EAAE,KAAKA;EAA3C,KAAb;EACA,QAAGc,QAAQ,KAAK,IAAb,IAAqB,KAAKtd,IAA7B,EAAmCud,IAAI,CAACvd,IAAL,GAAY,KAAKA,IAAjB;EACnC,WAAOud,IAAP;EACD,GAlBe;EAmBhB1I,EAAAA,IAnBgB,gBAmBVmI,KAnBU,EAmBCQ,KAnBD,EAmBsB;EAAA,QAAhCR,KAAgC;EAAhCA,MAAAA,KAAgC,GAAxB,CAAwB;EAAA;;EAAA,QAArBQ,KAAqB;EAArBA,MAAAA,KAAqB,GAAb,YAAa;EAAA;;EAAA,QAC5BvL,CAD4B,GACb,IADa,CAC5BA,CAD4B;EAAA,QACzBC,CADyB,GACb,IADa,CACzBA,CADyB;EAAA,QACtBkK,CADsB,GACb,IADa,CACtBA,CADsB;EAAA,QACnBI,CADmB,GACb,IADa,CACnBA,CADmB;;EAEpC,YAAQgB,KAAR;EACE,WAAK,GAAL;EAAU,WAAK,YAAL;EACR,YAAMC,KAAK,GAAGT,KAAK,IAAI,CAAT,GAAa,CAAb,GAAiBA,KAAK,GAAG,CAAvC;EACA,eAAO,IAAIU,MAAJ,CAAW,CAAC;EAAEzL,UAAAA,CAAC,EAAEA,CAAC,GAAGwL,KAAT;EAAgBvL,UAAAA,CAAC,EAADA,CAAhB;EAAmBkK,UAAAA,CAAC,EAADA,CAAnB;EAAsBI,UAAAA,CAAC,EAADA;EAAtB,SAAD,EAA4B;EAAEvK,UAAAA,CAAC,EAAEA,CAAC,GAAGwL,KAAT;EAAgBvL,UAAAA,CAAC,EAADA,CAAhB;EAAmBkK,UAAAA,CAAC,EAADA,CAAnB;EAAsBI,UAAAA,CAAC,EAADA;EAAtB,SAA5B,CAAX,CAAP;;EACF;EAJF;EAMD,GA3Be;EA4BhBmB,EAAAA,UA5BgB,sBA4BJC,SA5BI,EA4BM;EACpB,QAAMC,MAAM,GAAGhlB,OAAO,CAAC+kB,SAAD,CAAtB;EACAC,IAAAA,MAAM,CAACC,OAAP,CAAe,IAAf;EACA,WAAO,IAAIJ,MAAJ,CAAWG,MAAX,CAAP;EACD,GAhCe;EAiChBE,EAAAA,QAjCgB,2BAiCG;EAAA,QAAP9L,CAAO,SAAPA,CAAO;EAAA,QAAJC,CAAI,SAAJA,CAAI;;EAAA,gBACQ,KAAKD,CAAL,GAASA,CAAT,GAAa,CAAE,KAAKA,CAAP,EAAUA,CAAV,CAAb,GAA6B,CAAEA,CAAF,EAAK,KAAKA,CAAV,CADrC;EAAA,QACV+L,MADU;EAAA,QACFC,MADE;;EAAA,gBAEQ,KAAK/L,CAAL,GAASA,CAAT,GAAa,CAAE,KAAKA,CAAP,EAAUA,CAAV,CAAb,GAA6B,CAAEA,CAAF,EAAK,KAAKA,CAAV,CAFrC;EAAA,QAEVgM,MAFU;EAAA,QAEFC,MAFE;;EAGjB,WAAO,IAAIC,IAAJ,CAASH,MAAT,EAAiBE,MAAjB,EAAyBH,MAAM,GAAGC,MAAlC,EAA0CC,MAAM,GAAGC,MAAnD,EAA2D,CAA3D,EAA8D,CAA9D,CAAP;EACD,GArCe;EAsChBE,EAAAA,cAtCgB,4BAsCC;EAAA,QACPpM,CADO,GACQ,IADR,CACPA,CADO;EAAA,QACJC,CADI,GACQ,IADR,CACJA,CADI;EAAA,QACDkK,CADC,GACQ,IADR,CACDA,CADC;EAAA,QACEI,CADF,GACQ,IADR,CACEA,CADF;EAEf,SAAKI,SAAL,GAAiB,KAAjB;EACA,SAAK3K,CAAL,GAASA,CAAT;EACA,SAAKC,CAAL,GAASA,CAAT;EACA,SAAKkK,CAAL,GAASA,CAAT;EACA,SAAKI,CAAL,GAASA,CAAT;EACA,WAAO,IAAP;EACD,GA9Ce;EA+ChB8B,EAAAA,YA/CgB,wBA+CFC,QA/CE,EA+C0B;EAAA,QAA5BA,QAA4B;EAA5BA,MAAAA,QAA4B,GAAjB,KAAKve,IAAL,CAAUic,MAAO;EAAA;;EACxC,QAAG,CAAC3O,WAAW,CAACiR,QAAD,CAAf,EAA0B;EACxB,WAAK3B,SAAL,GAAiB,KAAjB;EACA,YAAM,IAAI7b,KAAJ,CAAU,oCAAV,EAAgDwd,QAAhD,CAAN;EACA,aAAO,IAAP;EACD;;EAED,SAAKve,IAAL,CAAUic,MAAV,GAAmBsC,QAAnB;EACA,SAAK3B,SAAL,GAAiB,IAAjB;EAEA,WAAO,IAAP;EACD,GA1De;EA2DhBrY,EAAAA,GA3DgB,sBA2DI;EAAA,QAAb0N,CAAa,SAAbA,CAAa;EAAA,QAAVC,CAAU,SAAVA,CAAU;EAAA,QAAPkK,CAAO,SAAPA,CAAO;EAAA,QAAJI,CAAI,SAAJA,CAAI;EAClBznB,IAAAA,QAAQ,CAACkd,CAAD,CAAR,IAAeA,CAAf,KAAqB,KAAKA,CAAL,IAAUA,CAA/B;EACAld,IAAAA,QAAQ,CAACmd,CAAD,CAAR,IAAeA,CAAf,KAAqB,KAAKA,CAAL,IAAUA,CAA/B;EACAnd,IAAAA,QAAQ,CAACqnB,CAAD,CAAR,IAAeA,CAAf,KAAqB,KAAKA,CAAL,IAAUA,CAA/B;EACArnB,IAAAA,QAAQ,CAACynB,CAAD,CAAR,IAAeA,CAAf,KAAqB,KAAKA,CAAL,IAAUA,CAA/B;EACA,WAAO,IAAP;EACD,GAjEe;EAkEhBgC,EAAAA,QAlEgB,2BAkES;EAAA,QAAbvM,CAAa,SAAbA,CAAa;EAAA,QAAVC,CAAU,SAAVA,CAAU;EAAA,QAAPkK,CAAO,SAAPA,CAAO;EAAA,QAAJI,CAAI,SAAJA,CAAI;EACvBznB,IAAAA,QAAQ,CAACkd,CAAD,CAAR,IAAeA,CAAf,KAAqB,KAAKA,CAAL,IAAUA,CAA/B;EACAld,IAAAA,QAAQ,CAACmd,CAAD,CAAR,IAAeA,CAAf,KAAqB,KAAKA,CAAL,IAAUA,CAA/B;EACAnd,IAAAA,QAAQ,CAACqnB,CAAD,CAAR,IAAeA,CAAf,KAAqB,KAAKA,CAAL,IAAUA,CAA/B;EACArnB,IAAAA,QAAQ,CAACynB,CAAD,CAAR,IAAeA,CAAf,KAAqB,KAAKA,CAAL,IAAUA,CAA/B;EACA,WAAO,IAAP;EACD;EAxEe,CAAlB;;EA2EA,IAAMkB,MAAM,GAAG,SAATA,MAAS,CAAUe,UAAV,EAAsBze,IAAtB,EAA2B;EAAA;;EACxC,MAAI0c,MAAJ;;EAEArmB,EAAAA,MAAM,CAAC4Z,gBAAP,CAAwB,IAAxB,EAA8B;EAC5BjQ,IAAAA,IAAI,EAAE;EACJmQ,MAAAA,UAAU,EAAE,KADR;EAEJ9S,MAAAA,GAFI,iBAEE;EAAE,eAAOqf,MAAP;EAAe,OAFnB;EAGJtD,MAAAA,GAHI,eAGC7kB,EAHD,EAGI;EAAEmoB,QAAAA,MAAM,GAAG,OAAOnoB,EAAP,KAAc,QAAd,GAAyBA,EAAzB,GAA8B,IAAvC;EAA6C,eAAOmoB,MAAP;EAAe;EAHlE;EADsB,GAA9B;EAQA,OAAK1c,IAAL,GAAYA,IAAZ;EAEAnH,EAAAA,OAAO,CAAC4lB,UAAD,CAAP,CAAoBpe,OAApB,CAA4B,UAAAqe,KAAK,EAAE;EACjC,QAAG,CAAC5C,SAAS,CAAC4C,KAAD,CAAb,EAAsB;EADW,QAEzBzM,CAFyB,GAEVyM,KAFU,CAEzBzM,CAFyB;EAAA,QAEtBC,CAFsB,GAEVwM,KAFU,CAEtBxM,CAFsB;EAAA,QAEnBkK,CAFmB,GAEVsC,KAFU,CAEnBtC,CAFmB;EAAA,QAEhBI,CAFgB,GAEVkC,KAFU,CAEhBlC,CAFgB;;EAGjC,IAAA,MAAI,CAACvjB,IAAL,CAAU,IAAIwjB,KAAJ,CAAUxK,CAAV,EAAaC,CAAb,EAAgBkK,CAAhB,EAAmBI,CAAnB,EAAsBE,MAAtB,CAAV;EACD,GAJD;EAKD,CAlBD;;EAoBC,WAAUiC,aAAV,EAAyBC,OAAzB,EAAiC;EAChC,MAAMlhB,SAAS,GAAG,EAAlB;EAEAihB,EAAAA,aAAa,CAACjhB,SAAd,GAA0BA,SAA1B;EAEArH,EAAAA,MAAM,CAAC0B,IAAP,CAAY6mB,OAAZ,EAAqBve,OAArB,CAA6B,UAAAnI,GAAG,EAAE;EAChCwF,IAAAA,SAAS,CAACxF,GAAD,CAAT,GAAiB0mB,OAAO,CAAC1mB,GAAD,CAAxB;EACD,GAFD;EAIA7B,EAAAA,MAAM,CAAC4Z,gBAAP,CAAwBvS,SAAxB,EAAmC;EACjC/C,IAAAA,KAAK,EAAE;EACLwV,MAAAA,UAAU,EAAE,KADP;EAEL9S,MAAAA,GAFK,iBAEC;EACJ,eAAO,KAAK,CAAL,CAAP;EACD;EAJI,KAD0B;EAOjCiO,IAAAA,GAAG,EAAE;EACH6E,MAAAA,UAAU,EAAE,KADT;EAEH9S,MAAAA,GAFG,iBAEG;EACJ,eAAO,CAAC,KAAKnH,MAAN,GAAe,KAAK,CAApB,GAAwB,KAAK,KAAKA,MAAL,GAAc,CAAnB,CAA/B;EACD;EAJE;EAP4B,GAAnC;EAcD,CAvBA,EAuBCwnB,MAvBD,EAuBS;EACRN,EAAAA,OADQ,mBACC7e,GADD,EACK;EACX,QAAG,OAAOA,GAAP,KAAe,QAAlB,EAA4B,KAAKyB,IAAL,GAAY3J,MAAM,CAACkQ,MAAP,CAAc,KAAKvG,IAAL,IAAa,KAAKA,IAAlB,IAA0B,EAAxC,EAA4CzB,GAA5C,CAAZ;EAC5B,WAAO,IAAP;EACD,GAJO;EAKR8e,EAAAA,MALQ,kBAKAC,QALA,EAKS;EACf,QAAMtkB,MAAM,GAAG,EAAf;EACA,SAAKqH,OAAL,CAAa,UAAAyD,CAAC;EAAA,aAAE9K,MAAM,CAACC,IAAP,CAAY6K,CAAC,CAACuZ,MAAF,CAASC,QAAT,CAAZ,CAAF;EAAA,KAAd;EACA,WAAOtkB,MAAP;EACD,GATO;EAUR4H,EAAAA,KAVQ,sBAUA;EACN,WAAO,IAAI8c,MAAJ,CAAW,IAAX,CAAP;EACD,GAZO;EAaRmB,EAAAA,EAbQ,cAaJ3d,KAbI,EAaE;EACR,WAAO,KAAKA,KAAL,CAAP;EACD,GAfO;EAgBRyO,EAAAA,IAAI,EAAE,cAAU/W,EAAV,EAAa;EAAA;;EACjB,QAAMkmB,KAAK,GAAG,EAAd;EACA,SAAKze,OAAL,CAAa,UAAC0e,IAAD,EAAOnnB,CAAP,EAAW;EACtBknB,MAAAA,KAAK,CAAC7lB,IAAN,CAAW8lB,IAAX;EACA,UAAG,CAAC,MAAI,CAACnnB,CAAC,GAAG,CAAL,CAAR,EAAiB;EACjB,UAAMonB,IAAI,GAAGpmB,EAAE,CAACmmB,IAAD,EAAO,MAAI,CAACnnB,CAAC,GAAG,CAAL,CAAX,EAAoBA,CAApB,CAAf;EACA,UAAG,CAACkkB,SAAS,CAACkD,IAAD,CAAb,EAAqB;EAJC,UAKd/M,CALc,GAKO+M,IALP,CAKd/M,CALc;EAAA,UAKXC,CALW,GAKO8M,IALP,CAKX9M,CALW;EAAA,UAKRkK,CALQ,GAKO4C,IALP,CAKR5C,CALQ;EAAA,UAKLI,CALK,GAKOwC,IALP,CAKLxC,CALK;EAAA,UAKFxc,IALE,GAKOgf,IALP,CAKFhf,IALE;EAMtB8e,MAAAA,KAAK,CAAC7lB,IAAN,CAAW,IAAIwjB,KAAJ,CAAUxK,CAAV,EAAaC,CAAb,EAAgBkK,CAAhB,EAAmBI,CAAnB,EAAsBxc,IAAtB,CAAX;EACD,KAPD;EAQA,SAAKsD,MAAL,CAAY,CAAZ,EAAe,KAAKpN,MAApB;EACA4oB,IAAAA,KAAK,CAACze,OAAN,CAAc,UAAAyD,CAAC;EAAA,aAAE,MAAI,CAAC7K,IAAL,CAAU6K,CAAV,CAAF;EAAA,KAAf;EACA,WAAO,IAAP;EACD,GA7BO;EA8BR4a,EAAAA,KA9BQ,iBA8BDO,KA9BC,EA8BK;EACX,YAAQA,KAAR;EACE,WAAK,GAAL;EAAU,WAAK,KAAL;EACV,WAAK,GAAL;EAAU,WAAK,MAAL;EAAa,WAAK,GAAL;EAAU,WAAK,OAAL;EAAA,wBACI,KAAK3T,GADT;EAAA,YACrB+Q,EADqB,aACvBpK,CADuB;EAAA,YACfqK,EADe,aACjBpK,CADiB;EAAA,YACTqK,EADS,aACXH,CADW;EAAA,YACH8C,EADG,aACL1C,CADK;EAE/B,eAAO,IAAIC,KAAJ,CACLJ,EADK,EAELC,EAFK,EAGLC,EAHK,EAIL2C,EAJK,EAKL,KAAKlf,IALA,CAAP;;EAOF,WAAK,GAAL;EAAU,WAAK,GAAL;EAAU,WAAK,QAAL;EAAe,WAAK,QAAL;EAAA,0BACE,KAAKrF,KADP;EAAA,YACvBwkB,EADuB,eACzBlN,CADyB;EAAA,YACjBmN,EADiB,eACnBlN,CADmB;EAAA,YACXmN,EADW,eACbjD,CADa;EAAA,YACLkD,EADK,eACP9C,CADO;EAAA,yBAEE,KAAKlR,GAFP;EAAA,YAEvBiU,EAFuB,cAEzBtN,CAFyB;EAAA,YAEjBuN,EAFiB,cAEnBtN,CAFmB;EAAA,YAEXuN,EAFW,cAEbrD,CAFa;EAAA,YAELsD,EAFK,cAEPlD,CAFO;EAGjC,eAAO,IAAIC,KAAJ,CACL0C,EAAE,GAAG,CAAL,GAASI,EAAE,GAAG,CADT,EAELH,EAAE,GAAG,CAAL,GAASI,EAAE,GAAG,CAFT,EAGLH,EAAE,GAAG,CAAL,GAASI,EAAE,GAAG,CAHT,EAILH,EAAE,GAAG,CAAL,GAASI,EAAE,GAAG,CAJT,EAKL,KAAK1f,IALA,CAAP;;EAOF,WAAK,GAAL;EAAU,WAAK,OAAL;EACV,WAAK,GAAL;EAAU,WAAK,IAAL;EAAW,WAAK,GAAL;EAAU,WAAK,MAAL;EAC/B;EAAA,2BACyB,KAAKrF,KAD9B;EAAA,YACUsX,CADV,gBACUA,CADV;EAAA,YACaC,CADb,gBACaA,CADb;EAAA,YACgBkK,CADhB,gBACgBA,CADhB;EAAA,YACmBI,CADnB,gBACmBA,CADnB;EAEE,eAAO,IAAIC,KAAJ,CACLxK,CADK,EAELC,CAFK,EAGLkK,CAHK,EAILI,CAJK,EAKL,KAAKxc,IALA,CAAP;EAzBJ;EAiCD,GAhEO;EAiER2f,EAAAA,IAjEQ,kBAiED;EACL,QAAMC,KAAK,GAAG,KAAK,CAAL,CAAd;;EAEA,QAAG,CAACA,KAAJ,EAAU;EACR,aAAO,IAAIxB,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAP;EACD;;EAED,QAAIyB,IAAI,GAAGD,KAAK,CAAC3N,CAAjB;EACA,QAAI6N,KAAK,GAAGF,KAAK,CAAC3N,CAAlB;EACA,QAAIlJ,GAAG,GAAG6W,KAAK,CAAC1N,CAAhB;EACA,QAAI6N,MAAM,GAAGH,KAAK,CAAC1N,CAAnB;;EAEA,SAAI,IAAIhP,CAAC,GAAG,IAAR,EAActL,CAAC,GAAG,CAAlB,EAAqBkB,CAAC,GAAG,KAAK5C,MAAlC,EAA0C0B,CAAC,GAAGkB,CAA9C,EAAiDlB,CAAC,EAAlD,EAAqD;EACnD,UAAMkM,CAAC,GAAGZ,CAAC,CAACtL,CAAD,CAAX;EACAkM,MAAAA,CAAC,CAACmO,CAAF,GAAM4N,IAAN,KAAeA,IAAI,GAAG/b,CAAC,CAACmO,CAAxB;EACAnO,MAAAA,CAAC,CAACmO,CAAF,GAAM6N,KAAN,KAAgBA,KAAK,GAAGhc,CAAC,CAACmO,CAA1B;EACAnO,MAAAA,CAAC,CAACoO,CAAF,GAAMnJ,GAAN,KAAcA,GAAG,GAAGjF,CAAC,CAACoO,CAAtB;EACApO,MAAAA,CAAC,CAACoO,CAAF,GAAM6N,MAAN,KAAiBA,MAAM,GAAGjc,CAAC,CAACoO,CAA5B;EACD;;EAED,WAAO,IAAIkM,IAAJ,CAASyB,IAAT,EAAe9W,GAAf,EAAoB+W,KAAK,GAAGD,IAA5B,EAAkCE,MAAM,GAAGhX,GAA3C,CAAP;EACD,GAtFO;EAuFRuV,EAAAA,YAvFQ,wBAuFMtf,KAvFN,EAuFY;EAClB,SAAKqB,OAAL,CAAa,UAAAyD,CAAC;EAAA,aAAEA,CAAC,CAACwa,YAAF,CAAetf,KAAf,CAAF;EAAA,KAAd;EACA,WAAO,IAAP;EACD;EA1FO,CAvBT,CAAD;;EAqHA,IAAMof,IAAI,GAAG,SAAPA,IAAO,CAAUyB,IAAV,EAAoB9W,GAApB,EAA6BiU,KAA7B,EAAwCG,MAAxC,EAAoDnd,IAApD,EAAgE;EAAA,MAAtD6f,IAAsD;EAAtDA,IAAAA,IAAsD,GAA/C,CAA+C;EAAA;;EAAA,MAA5C9W,GAA4C;EAA5CA,IAAAA,GAA4C,GAAtC,CAAsC;EAAA;;EAAA,MAAnCiU,KAAmC;EAAnCA,IAAAA,KAAmC,GAA3B,CAA2B;EAAA;;EAAA,MAAxBG,MAAwB;EAAxBA,IAAAA,MAAwB,GAAf,CAAe;EAAA;;EAAA,MAAZnd,IAAY;EAAZA,IAAAA,IAAY,GAAL,IAAK;EAAA;;EAC3E,MAAMgc,KAAK,GAAG;EAAE6D,IAAAA,IAAI,EAAJA,IAAF;EAAQ9W,IAAAA,GAAG,EAAHA,GAAR;EAAaiU,IAAAA,KAAK,EAALA,KAAb;EAAoBG,IAAAA,MAAM,EAANA;EAApB,GAAd;EACA,MAAIT,MAAM,GAAG,EAAb;EAEArmB,EAAAA,MAAM,CAAC4Z,gBAAP,CAAwB,IAAxB,EAA8B;EAC5B+M,IAAAA,KAAK,EAAE;EACL7M,MAAAA,UAAU,EAAE,IADP;EAEL9S,MAAAA,GAFK,iBAEC;EAAE,eAAO2e,KAAK,CAACgB,KAAb;EAAoB,OAFvB;EAGL5D,MAAAA,GAHK,eAGA4G,QAHA,EAGS;EACZhE,QAAAA,KAAK,CAACgB,KAAN,GAAcgD,QAAd;EACA,eAAOA,QAAP;EACD;EANI,KADqB;EAS5B7C,IAAAA,MAAM,EAAE;EACNhN,MAAAA,UAAU,EAAE,IADN;EAEN9S,MAAAA,GAFM,iBAEA;EAAE,eAAO2e,KAAK,CAACmB,MAAb;EAAqB,OAFvB;EAGN/D,MAAAA,GAHM,eAGD4G,QAHC,EAGQ;EACZhE,QAAAA,KAAK,CAACmB,MAAN,GAAe6C,QAAf;EACA,eAAOA,QAAP;EACD;EANK,KAToB;EAiB5BH,IAAAA,IAAI,EAAE;EAAE1P,MAAAA,UAAU,EAAE,IAAd;EACJ9S,MAAAA,GADI,iBACE;EAAE,eAAO2e,KAAK,CAAC6D,IAAb;EAAmB,OADvB;EAEJzG,MAAAA,GAFI,eAEC4G,QAFD,EAEU;EACZhE,QAAAA,KAAK,CAAC6D,IAAN,GAAaG,QAAb;EACA,eAAOA,QAAP;EACD;EALG,KAjBsB;EAwB5BjX,IAAAA,GAAG,EAAE;EAAEoH,MAAAA,UAAU,EAAE,IAAd;EACH9S,MAAAA,GADG,iBACG;EAAE,eAAO2e,KAAK,CAACjT,GAAb;EAAkB,OADvB;EAEHqQ,MAAAA,GAFG,eAEE4G,QAFF,EAEW;EACZhE,QAAAA,KAAK,CAACjT,GAAN,GAAYiX,QAAZ;EACA,eAAOA,QAAP;EACD;EALE,KAxBuB;EA+B5BF,IAAAA,KAAK,EAAG;EAAE3P,MAAAA,UAAU,EAAE,IAAd;EAAoB9S,MAAAA,GAApB,iBAA0B;EAAE,eAAO,KAAKwiB,IAAL,GAAY,KAAK7C,KAAxB;EAA+B;EAA3D,KA/BoB;EAgC5B+C,IAAAA,MAAM,EAAE;EAAE5P,MAAAA,UAAU,EAAE,IAAd;EAAoB9S,MAAAA,GAApB,iBAA0B;EAAE,eAAO,KAAK0L,GAAL,GAAW,KAAKoU,MAAvB;EAA+B;EAA3D,KAhCoB;EAiC5Bnd,IAAAA,IAAI,EAAI;EACNmQ,MAAAA,UAAU,EAAE,KADN;EAEN9S,MAAAA,GAFM,iBAEA;EAAE,eAAOqf,MAAP;EAAe,OAFjB;EAGNtD,MAAAA,GAHM,eAGD7kB,EAHC,EAGE;EACN,eAAOA,EAAP,KAAc,QAAd,IAA0B8B,MAAM,CAACkQ,MAAP,CAAcmW,MAAd,EAAsBnoB,EAAtB,CAA1B;EACA,eAAOmoB,MAAP;EACD;EANK;EAjCoB,GAA9B;;EA2CA,MAAG,OAAO1c,IAAP,KAAgB,QAAnB,EAA4B;EAC1B,SAAKA,IAAL,GAAYA,IAAZ;EACD;EACF,CAlDD;;EAoDA,IAAMigB,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACve,KAAD,EAAS;EAC9B;EACA;EACA;EAH8B,iBAIE7I,OAAO,CAAC6I,KAAD,CAJT;EAAA,MAIxBwe,WAJwB;EAAA,MAIXC,QAJW;;EAKhC,SAAO;EACLrS,IAAAA,MAAM,EAAE/Y,QAAQ,CAACmrB,WAAD,CAAR,IAAyBA,WAAW,GAAG,CAAvC,GAA2C7qB,QAAQ,CAAC6qB,WAAD,EAAc,EAAd,CAAnD,GAAuE,CAD1E;EAELpF,IAAAA,GAAG,EAAK/lB,QAAQ,CAACorB,QAAD,CAAR,IAAsBA,QAAQ,GAAG,CAAjC,GAAqC9qB,QAAQ,CAAC8qB,QAAD,EAAW,EAAX,CAA7C,GAA8D;EAFjE,GAAP;EAID,CATD;;EAWA/B,IAAI,CAAC1gB,SAAL,GAAiB;EACf0f,EAAAA,OADe,mBACN7e,GADM,EACF;EACX,QAAG,OAAOA,GAAP,KAAe,QAAlB,EAA4B,KAAKyB,IAAL,GAAY3J,MAAM,CAACkQ,MAAP,CAAc,KAAKvG,IAAL,IAAa,KAAKA,IAAlB,IAA0B,EAAxC,EAA4CzB,GAA5C,CAAZ;EAC5B,WAAO,IAAP;EACD,GAJc;EAKfqC,EAAAA,KALe,sBAKP;EACN,WAAO,IAAIwd,IAAJ,CAAS,KAAKyB,IAAd,EAAoB,KAAK9W,GAAzB,EAA8B,KAAKiU,KAAnC,EAA0C,KAAKG,MAA/C,EAAuD,KAAKnd,IAA5D,CAAP;EACD,GAPc;EAQfqd,EAAAA,MARe,kBAQPC,QARO,EAQE;EACf,QAAMC,IAAI,GAAG;EAAEP,MAAAA,KAAK,EAAE,KAAKA,KAAd;EAAqBG,MAAAA,MAAM,EAAE,KAAKA,MAAlC;EAA0C0C,MAAAA,IAAI,EAAE,KAAKA,IAArD;EAA2D9W,MAAAA,GAAG,EAAE,KAAKA,GAArE;EAA0E+W,MAAAA,KAAK,EAAE,KAAKA,KAAtF;EAA6FC,MAAAA,MAAM,EAAE,KAAKA;EAA1G,KAAb;EACA,QAAGzC,QAAQ,KAAK,IAAb,IAAqB,KAAKtd,IAA7B,EAAmCud,IAAI,CAACvd,IAAL,GAAY,KAAKA,IAAjB;EACnC,WAAOud,IAAP;EACD,GAZc;EAaf6C,EAAAA,kBAbe,gCAaM;EACnB,WAAO;EACLC,MAAAA,WAAW,EAAQ,CADd;EAELnE,MAAAA,iBAAiB,EAAE;EACjBjK,QAAAA,CAAC,EAAE,KAAK4N,IAAL,GAAa,KAAK7C,KAAL,GAAa,CADZ;EAEjB9K,QAAAA,CAAC,EAAE,KAAKnJ,GAAL,GAAY,KAAKoU,MAAL,GAAc,CAFZ;EAGjBf,QAAAA,CAAC,EAAE;EAHc;EAFd,KAAP;EAQD,GAtBc;EAuBfkE,EAAAA,SAvBe,qBAuBJC,QAvBI,EAuBK;EAAA,gBACcjrB,OAAO,CAACirB,QAAD,CAAP,GAAoBA,QAApB,GAA+BA,QAAQ,CAACrrB,IAAT,GAAgBwM,KAAhB,CAAsB,KAAtB,CAD7C;EAAA,QACV8e,QADU;EAAA,QACAC,SADA;;EAElB,WAAO,KAAKC,MAAL,CAAYF,QAAZ,EAAsB9B,KAAtB,CAA4B+B,SAA5B,CAAP;EACD,GA1Bc;EA2BfC,EAAAA,MA3Be,kBA2BPzB,KA3BO,EA2BD;EACZ,QAAM0B,WAAW,GAAGtqB,MAAM,CAACkQ,MAAP,CAAc,KAAK6Z,kBAAL,EAAd,EAAyC,KAAKpgB,IAA9C,CAApB;;EAEA,YAAQif,KAAR;EACE,WAAK,OAAL;EAAc,WAAK,GAAL;EACZ,eAAO,IAAIvB,MAAJ,CAAW,CAAC;EAAEzL,UAAAA,CAAC,EAAE,KAAK6N,KAAV;EAAiB5N,UAAAA,CAAC,EAAE,KAAKnJ,GAAzB;EAA8BqT,UAAAA,CAAC,EAAE,CAAjC;EAAoCI,UAAAA,CAAC,EAAE;EAAvC,SAAD,EAA6C;EAAEvK,UAAAA,CAAC,EAAE,KAAK6N,KAAV;EAAiB5N,UAAAA,CAAC,EAAE,KAAK6N,MAAzB;EAAiC3D,UAAAA,CAAC,EAAE,CAApC;EAAuCI,UAAAA,CAAC,EAAE;EAA1C,SAA7C,CAAX,EAAwGmE,WAAxG,CAAP;;EACF,WAAK,QAAL;EAAe,WAAK,GAAL;EACb,eAAO,IAAIjD,MAAJ,CAAW,CAAC;EAAEzL,UAAAA,CAAC,EAAE,KAAK4N,IAAV;EAAgB3N,UAAAA,CAAC,EAAE,KAAK6N,MAAxB;EAAgC3D,UAAAA,CAAC,EAAE,CAAnC;EAAsCI,UAAAA,CAAC,EAAE;EAAzC,SAAD,EAA+C;EAAEvK,UAAAA,CAAC,EAAE,KAAK6N,KAAV;EAAiB5N,UAAAA,CAAC,EAAE,KAAK6N,MAAzB;EAAiC3D,UAAAA,CAAC,EAAE,CAApC;EAAuCI,UAAAA,CAAC,EAAE;EAA1C,SAA/C,CAAX,EAA0GmE,WAA1G,CAAP;;EACF,WAAK,MAAL;EAAa,WAAK,GAAL;EACX,eAAO,IAAIjD,MAAJ,CAAW,CAAC;EAAEzL,UAAAA,CAAC,EAAE,KAAK4N,IAAV;EAAgB3N,UAAAA,CAAC,EAAE,KAAKnJ,GAAxB;EAA6BqT,UAAAA,CAAC,EAAE,CAAhC;EAAmCI,UAAAA,CAAC,EAAE;EAAtC,SAAD,EAA4C;EAAEvK,UAAAA,CAAC,EAAE,KAAK4N,IAAV;EAAgB3N,UAAAA,CAAC,EAAE,KAAK6N,MAAxB;EAAgC3D,UAAAA,CAAC,EAAE,CAAnC;EAAsCI,UAAAA,CAAC,EAAE;EAAzC,SAA5C,CAAX,EAAsGmE,WAAtG,CAAP;;EACF,WAAK,KAAL;EAAY,WAAK,GAAL;EACV,eAAO,IAAIjD,MAAJ,CAAW,CAAC;EAAEzL,UAAAA,CAAC,EAAE,KAAK4N,IAAV;EAAgB3N,UAAAA,CAAC,EAAE,KAAKnJ,GAAxB;EAA6BqT,UAAAA,CAAC,EAAE,CAAhC;EAAmCI,UAAAA,CAAC,EAAE;EAAtC,SAAD,EAA4C;EAAEvK,UAAAA,CAAC,EAAE,KAAK6N,KAAV;EAAiB5N,UAAAA,CAAC,EAAE,KAAKnJ,GAAzB;EAA8BqT,UAAAA,CAAC,EAAE,CAAjC;EAAoCI,UAAAA,CAAC,EAAE;EAAvC,SAA5C,CAAX,EAAoGmE,WAApG,CAAP;;EACF,WAAK,QAAL;EAAe,WAAK,GAAL;EACb,YAAMC,OAAO,GAAG,KAAKzD,MAAL,GAAc,CAAd,GAAkB,KAAKpU,GAAvC;EACA,eAAO,IAAI2U,MAAJ,CACL,CACE;EAAEzL,UAAAA,CAAC,EAAE,KAAK4N,IAAV;EAAgB3N,UAAAA,CAAC,EAAE0O,OAAnB;EAA4BxE,UAAAA,CAAC,EAAE,CAA/B;EAAkCI,UAAAA,CAAC,EAAE;EAArC,SADF,EAEE;EAAEvK,UAAAA,CAAC,EAAE,KAAK6N,KAAV;EAAiB5N,UAAAA,CAAC,EAAE0O,OAApB;EAA6BxE,UAAAA,CAAC,EAAE,CAAhC;EAAmCI,UAAAA,CAAC,EAAE;EAAtC,SAFF,CADK,EAKLmE,WALK,CAAP;;EAOF,WAAK,QAAL;EAAe,WAAK,GAAL;EACb,YAAME,OAAO,GAAG,KAAK7D,KAAL,GAAa,CAAb,GAAiB,KAAK/K,CAAtC;EACA,eAAO,IAAIyL,MAAJ,CACL,CACE;EAAEzL,UAAAA,CAAC,EAAE4O,OAAL;EAAc3O,UAAAA,CAAC,EAAE,KAAKnJ,GAAtB;EAA2BqT,UAAAA,CAAC,EAAE,CAA9B;EAAiCI,UAAAA,CAAC,EAAE;EAApC,SADF,EAEE;EAAEvK,UAAAA,CAAC,EAAE4O,OAAL;EAAc3O,UAAAA,CAAC,EAAE,KAAK6N,MAAtB;EAA8B3D,UAAAA,CAAC,EAAE,CAAjC;EAAoCI,UAAAA,CAAC,EAAE;EAAvC,SAFF,CADK,EAKLmE,WALK,CAAP;;EAOF;EACE,eAAO,IAAIjD,MAAJ,CACL,CACE;EAAEzL,UAAAA,CAAC,EAAE,KAAK4N,IAAV;EAAgB3N,UAAAA,CAAC,EAAE,KAAKnJ,GAAxB;EAA6BqT,UAAAA,CAAC,EAAE,CAAhC;EAAmCI,UAAAA,CAAC,EAAE;EAAtC,SADF,EAEE;EAAEvK,UAAAA,CAAC,EAAE,KAAK4N,IAAV;EAAgB3N,UAAAA,CAAC,EAAE,KAAK6N,MAAxB;EAAgC3D,UAAAA,CAAC,EAAE,CAAnC;EAAsCI,UAAAA,CAAC,EAAE;EAAzC,SAFF,EAGE;EAAEvK,UAAAA,CAAC,EAAE,KAAK6N,KAAV;EAAiB5N,UAAAA,CAAC,EAAE,KAAK6N,MAAzB;EAAiC3D,UAAAA,CAAC,EAAE,CAApC;EAAuCI,UAAAA,CAAC,EAAE;EAA1C,SAHF,EAIE;EAAEvK,UAAAA,CAAC,EAAE,KAAK6N,KAAV;EAAiB5N,UAAAA,CAAC,EAAE,KAAKnJ,GAAzB;EAA8BqT,UAAAA,CAAC,EAAE,CAAjC;EAAoCI,UAAAA,CAAC,EAAE;EAAvC,SAJF,CADK,EAOLmE,WAPK,CAAP;EA5BJ;EAsCD,GApEc;EAqEfG,EAAAA,aArEe,2BAqEC;EACd,SAAKJ,MAAL;EACD,GAvEc;EAwEfK,EAAAA,eAxEe,2BAwEEC,UAxEF,EAwEchG,cAxEd,EAwE6B;EAAA,4BAClBiF,gBAAgB,CAACe,UAAD,CADE;EAAA,QAClClT,MADkC,qBAClCA,MADkC;EAAA,QAC1BgN,GAD0B,qBAC1BA,GAD0B;;EAE1C,QAAMkC,KAAK,GAAG,KAAKA,KAAnB;EACA,QAAMG,MAAM,GAAG,KAAKA,MAApB;EACA,QAAM8D,UAAU,GAAGjE,KAAK,GAAGlP,MAA3B;EACA,QAAMoT,WAAW,GAAG/D,MAAM,GAAGrC,GAA7B;EACAE,IAAAA,cAAc,GAAG,OAAOA,cAAP,KAA0B,UAA1B,GAAuCA,cAAvC,GAAwDtmB,SAAzE;;EAGA,QAAMysB,MAAM,qBAAQ,KAAKf,kBAAL,EAAR,CAAZ;;EAEA,QAAG,KAAKpgB,IAAL,CAAUic,MAAV,IAAoB,KAAKjc,IAAL,CAAUic,MAAV,YAA4B1mB,KAAnD,EAAyD;EACvDc,MAAAA,MAAM,CAACkQ,MAAP,CAAc4a,MAAd,EAAsB;EACpBlF,QAAAA,MAAM,EAAE,KAAKjc,IAAL,CAAUic;EADE,OAAtB;EAGD;;EAED,QAAMmF,SAAS,GAAG1F,eAAe,CAAC5N,MAAD,EAASgN,GAAT,EAAc,UAAC5Z,KAAD,EAAQ+Z,QAAR,EAAkBpS,QAAlB,EAA6B;EAC1E,UAAMwY,OAAO;EACXvT,QAAAA,MAAM,EAAEmN,QADG;EAEXH,QAAAA,GAAG,EAAKjS,QAFG;EAGXyY,QAAAA,MAAM,EAAE,CAACrG,QAAD,EAAWpS,QAAX,CAHG;EAIX2C,QAAAA,KAAK,EAAG;EAAEwR,UAAAA,KAAK,EAALA,KAAF;EAASG,UAAAA,MAAM,EAANA;EAAT;EAJG,SAKRgE,MALQ,CAAb,CAD0E;;;EAU1E,UAAMnoB,MAAM,GAAG,IAAIolB,IAAJ,CAASnD,QAAQ,GAAGgG,UAApB,EAAgCpY,QAAQ,GAAGqY,WAA3C,EAAwDD,UAAxD,EAAoEC,WAApE,EAAiFG,OAAjF,CAAf;EACA,aAAOrG,cAAc,GAAGA,cAAc,CAAChiB,MAAD,EAASkI,KAAT,EAAgB+Z,QAAhB,EAA0BpS,QAA1B,CAAjB,GAAuD7P,MAA5E;EACD,KAZgC,CAAjC;EAcA,WAAOooB,SAAP;EACD,GAxGc;EAyGf1e,EAAAA,IAzGe,uBAyG4F;EAAA,2BAAnGmd,IAAmG;EAAA,QAA9F0B,KAA8F,2BAAtF,CAAsF;EAAA,0BAAnFxY,GAAmF;EAAA,QAA/EyY,IAA+E,0BAAxE,CAAwE;EAAA,4BAArExE,KAAqE;EAAA,QAA/DyE,MAA+D,4BAAtD,CAAsD;EAAA,6BAAnDtE,MAAmD;EAAA,QAA5CuE,OAA4C,6BAAlC,CAAkC;EAAA,QAAzBC,MAAyB,SAA/B7B,KAA+B;EAAA,QAAV8B,OAAU,SAAjB7B,MAAiB;EACzG,QAAM8B,UAAU,GAAG,EAAnB;EACA,QAAMC,QAAQ,GAAG,KAAKzE,MAAL,EAAjB;EACA,QAAMxW,MAAM,GAAG;EAAEgZ,MAAAA,IAAI,EAAE,CAAR;EAAW9W,MAAAA,GAAG,EAAE;EAAhB,KAAf;EACA1S,IAAAA,MAAM,CAAC4Z,gBAAP,CAAwB4R,UAAxB,EAAoC;EAClChC,MAAAA,IAAI,EAAE;EACJ1P,QAAAA,UAAU,EAAE,IADR;EAEJ9S,QAAAA,GAAG,EAAS;EAAA,iBAAIykB,QAAQ,CAACjC,IAAT,GAAgB0B,KAAhB,GAAwB1a,MAAM,CAACgZ,IAAnC;EAAA,SAFR;EAGJzG,QAAAA,GAAG,EAAS,aAAC2I,IAAD,EAAQ;EAAElb,UAAAA,MAAM,CAACgZ,IAAP,GAAc,OAAOkC,IAAP,KAAgB,QAAhB,GAA2B,CAACD,QAAQ,CAACjC,IAAV,GAAiBkC,IAA5C,GAAmD,CAAjE;EAAoE;EAHtF,OAD4B;EAMlChZ,MAAAA,GAAG,EAAE;EACHoH,QAAAA,UAAU,EAAE,IADT;EAEH9S,QAAAA,GAAG,EAAS;EAAA,iBAAIykB,QAAQ,CAAC/Y,GAAT,GAAeyY,IAAf,GAAsB3a,MAAM,CAACkC,GAAjC;EAAA,SAFT;EAGHqQ,QAAAA,GAAG,EAAS,aAAC2I,IAAD,EAAQ;EAAElb,UAAAA,MAAM,CAACkC,GAAP,GAAa,OAAOgZ,IAAP,KAAgB,QAAhB,GAA2B,CAACD,QAAQ,CAAC/Y,GAAV,GAAgBgZ,IAA3C,GAAkD,CAA/D;EAAkE;EAHrF,OAN6B;EAWlC/E,MAAAA,KAAK,EAAG;EAAE7M,QAAAA,UAAU,EAAE,IAAd;EAAoB9S,QAAAA,GAAG,EAAE;EAAA,iBAAIykB,QAAQ,CAAC9E,KAAT,GAAiByE,MAArB;EAAA;EAAzB,OAX0B;EAYlCtE,MAAAA,MAAM,EAAE;EAAEhN,QAAAA,UAAU,EAAE,IAAd;EAAoB9S,QAAAA,GAAG,EAAE;EAAA,iBAAIykB,QAAQ,CAAC3E,MAAT,GAAkBuE,OAAtB;EAAA;EAAzB,OAZ0B;EAalC5B,MAAAA,KAAK,EAAG;EAAE3P,QAAAA,UAAU,EAAE,IAAd;EAAoB9S,QAAAA,GAAG,EAAE;EAAA,iBAAIykB,QAAQ,CAAChC,KAAT,GAAiB6B,MAAjB,GAA0B9a,MAAM,CAACgZ,IAArC;EAAA;EAAzB,OAb0B;EAclCE,MAAAA,MAAM,EAAE;EAAE5P,QAAAA,UAAU,EAAE,IAAd;EAAoB9S,QAAAA,GAAG,EAAE;EAAA,iBAAIykB,QAAQ,CAAC/B,MAAT,GAAkB6B,OAAlB,GAA4B/a,MAAM,CAACkC,GAAvC;EAAA;EAAzB,OAd0B;EAelCkJ,MAAAA,CAAC,EAAO;EAAE9B,QAAAA,UAAU,EAAE,KAAd;EAAqB9S,QAAAA,GAAG,EAAE;EAAA,iBAAIwJ,MAAM,CAACgZ,IAAX;EAAA;EAA1B,OAf0B;EAgBlC3N,MAAAA,CAAC,EAAO;EAAE/B,QAAAA,UAAU,EAAE,KAAd;EAAqB9S,QAAAA,GAAG,EAAE;EAAA,iBAAIwJ,MAAM,CAACkC,GAAX;EAAA;EAA1B,OAhB0B;EAiBlClC,MAAAA,MAAM,EAAE;EACNsJ,QAAAA,UAAU,EAAE,KADN;EAEN9S,QAAAA,GAAG,EAAS;EAAA,iBAAI;EAAA,mBAAK;EACnB4U,cAAAA,CAAC,EAAOpL,MAAM,CAACgZ,IADI;EAEnB3N,cAAAA,CAAC,EAAOrL,MAAM,CAACkC,GAFI;EAGnB+W,cAAAA,KAAK,EAAG+B,UAAU,CAAC/B,KAHA;EAInBC,cAAAA,MAAM,EAAE8B,UAAU,CAAC9B,MAJA;EAKnBiC,cAAAA,IAAI,EAAIH,UAAU,CAAC/B,KAAX,GAAmB+B,UAAU,CAAC9B,MAA9B,GAAuC8B,UAAU,CAAC/B,KAAlD,GAA0D+B,UAAU,CAAC9B;EAL1D,aAAL;EAAA,WAAJ;EAAA;EAFN,OAjB0B;EA2BlCnb,MAAAA,IAAI,EAAE;EACJuL,QAAAA,UAAU,EAAE,KADR;EAEJ9S,QAAAA,GAAG,EAAS;EAAA,iBAAI,UAAC4kB,KAAD,EAAQC,IAAR,EAAe;EAC7BL,YAAAA,UAAU,CAAChC,IAAX,GAAkB,OAAOoC,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCV,KAAtD;EACAM,YAAAA,UAAU,CAAC9Y,GAAX,GAAiB,OAAOmZ,IAAP,KAAgB,QAAhB,GAA2BA,IAA3B,GAAkCV,IAAnD;EACA,mBAAOK,UAAP;EACD,WAJW;EAAA;EAFR,OA3B4B;EAmClCxE,MAAAA,MAAM,EAAE;EACNlN,QAAAA,UAAU,EAAE,KADN;EAEN9S,QAAAA,GAAG,EAAS;EAAA,iBAAI;EAAA,qCAAUwkB,UAAV;EAAA,WAAJ;EAAA;EAFN;EAnC0B,KAApC;EAyCA,WAAOA,UAAP;EACD,GAvJc;EAwJfM,EAAAA,QAxJe,oBAwJLxC,IAxJK,EAwJA;EACb,QAAG,OAAOA,IAAP,KAAgB,QAAnB,EAA4B;EAAE,YAAM,IAAI5e,KAAJ,CAAU,gCAAV,CAAN;EAAmD;;EADpE,QAELic,KAFK,GAEa2C,IAFb,CAEL3C,KAFK;EAAA,QAEEG,MAFF,GAEawC,IAFb,CAEExC,MAFF;;EAIb,QAAG,CAACpoB,QAAQ,CAACioB,KAAD,CAAT,IAAoB,CAACjoB,QAAQ,CAACooB,MAAD,CAAhC,EAAyC;EAAE,YAAM,IAAIpc,KAAJ,CAAU,yDAAV,CAAN;EAA4E;;EACvH,QAAMqhB,OAAO,GAAG,CAAEpF,KAAK,GAAG,KAAKA,KAAf,EAAsBG,MAAM,GAAG,KAAKA,MAApC,CAAhB;EACA,QAAMkF,cAAc,GAAGD,OAAO,CAACnqB,IAAR,GAAe,CAAf,CAAvB;EACA,WAAOoqB,cAAP;EACD,GAhKc;EAiKfC,EAAAA,GAjKe,eAiKV3C,IAjKU,EAiKL;EACR,QAAM0C,cAAc,GAAG,KAAKF,QAAL,CAAcxC,IAAd,CAAvB;EAEA,SAAK3C,KAAL,GAAc,KAAKA,KAAL,GAAaqF,cAAd,IAAiC,CAA9C;EACA,SAAKlF,MAAL,GAAe,KAAKA,MAAL,GAAckF,cAAf,IAAkC,CAAhD;EAEA,WAAO,IAAP;EACD,GAxKc;EAyKf;EACAE,EAAAA,MA1Ke,0BA0KoDC,QA1KpD,EA0K6E;EAAA,QAA7EC,IAA6E,UAAlF5C,IAAkF;EAAA,QAAnE6C,IAAmE,UAAvE3Z,GAAuE;EAAA,QAAvD4Z,QAAuD,UAA7D3F,KAA6D;EAAA,QAAtC4F,SAAsC,UAA7CzF,MAA6C;;EAAA,QAAzBqF,QAAyB;EAAzBA,MAAAA,QAAyB,GAAd,aAAc;EAAA;;EAAA,QAClF3C,IADkF,GACrD,IADqD,CAClFA,IADkF;EAAA,QAC5E9W,GAD4E,GACrD,IADqD,CAC5EA,GAD4E;EAAA,QACvEiU,KADuE,GACrD,IADqD,CACvEA,KADuE;EAAA,QAChEG,MADgE,GACrD,IADqD,CAChEA,MADgE;;EAE1F,YAAQqF,QAAR;EACE,WAAK,IAAL;EAAW,WAAK,KAAL;EAAY,WAAK,aAAL;EAAoB,WAAK,mBAAL;EACzC,eAAO7C,IAAI,CAAC;EACVE,UAAAA,IAAI,EAAE4C,IADI;EAEV1Z,UAAAA,GAAG,EAAG2Z,IAAI,GAAGE,SAFH;EAGV5F,UAAAA,KAAK,EAALA,KAHU;EAIVG,UAAAA,MAAM,EAANA;EAJU,SAAD,CAAX;;EAMF,WAAK,GAAL;EAAU,WAAK,GAAL;EAAU,WAAK,IAAL;EAAW,WAAK,QAAL;EAAe,WAAK,QAAL;EAAe,WAAK,eAAL;EAC3D,eAAOwC,IAAI,CAAC;EACVE,UAAAA,IAAI,EAAE4C,IAAI,GAAGE,QAAQ,GAAG,CAAlB,GAAsB3F,KAAK,GAAG,CAD1B;EAEVjU,UAAAA,GAAG,EAAG2Z,IAAI,GAAGE,SAAS,GAAG,CAAnB,GAAuBzF,MAAM,GAAG,CAF5B;EAGVH,UAAAA,KAAK,EAALA,KAHU;EAIVG,UAAAA,MAAM,EAANA;EAJU,SAAD,CAAX;;EAMF;EACE,eAAOwC,IAAI,CAAC;EAAEE,UAAAA,IAAI,EAAJA,IAAF;EAAQ9W,UAAAA,GAAG,EAAHA,GAAR;EAAaiU,UAAAA,KAAK,EAALA,KAAb;EAAoBG,UAAAA,MAAM,EAANA;EAApB,SAAD,CAAX;EAhBJ;EAkBD,GA9Lc;EA+Lf5Y,EAAAA,GA/Le,uBA+LmB;EAAA,QAA3Bsb,IAA2B,UAA3BA,IAA2B;EAAA,QAArB9W,GAAqB,UAArBA,GAAqB;EAAA,QAAhBiU,KAAgB,UAAhBA,KAAgB;EAAA,QAATG,MAAS,UAATA,MAAS;EAChCpoB,IAAAA,QAAQ,CAAC8qB,IAAD,CAAR,IAAkBA,IAAlB,KAA2B,KAAKA,IAAL,IAAaA,IAAxC;EACA9qB,IAAAA,QAAQ,CAACgU,GAAD,CAAR,IAAiBA,GAAjB,KAAyB,KAAKA,GAAL,IAAYA,GAArC;EACAhU,IAAAA,QAAQ,CAACioB,KAAD,CAAR,IAAmBA,KAAnB,KAA6B,KAAKA,KAAL,IAAcA,KAA3C;EACAjoB,IAAAA,QAAQ,CAACooB,MAAD,CAAR,IAAoBA,MAApB,KAA+B,KAAKA,MAAL,IAAeA,MAA9C;EACA,WAAO,IAAP;EACD,GArMc;EAsMfqB,EAAAA,QAtMe,4BAsMwB;EAAA,QAA3BqB,IAA2B,UAA3BA,IAA2B;EAAA,QAArB9W,GAAqB,UAArBA,GAAqB;EAAA,QAAhBiU,KAAgB,UAAhBA,KAAgB;EAAA,QAATG,MAAS,UAATA,MAAS;EACrCpoB,IAAAA,QAAQ,CAAC8qB,IAAD,CAAR,IAAkBA,IAAlB,KAA2B,KAAKA,IAAL,IAAaA,IAAxC;EACA9qB,IAAAA,QAAQ,CAACgU,GAAD,CAAR,IAAiBA,GAAjB,KAAyB,KAAKA,GAAL,IAAYA,GAArC;EACAhU,IAAAA,QAAQ,CAACioB,KAAD,CAAR,IAAmBA,KAAnB,KAA6B,KAAKA,KAAL,IAAcA,KAA3C;EACAjoB,IAAAA,QAAQ,CAACooB,MAAD,CAAR,IAAoBA,MAApB,KAA+B,KAAKA,MAAL,IAAeA,MAA9C;EACA,WAAO,IAAP;EACD;EA5Mc,CAAjB;AA+MA,EAAO,IAAMuB,KAAK,GAAG,SAARA,KAAQ,CAAUzM,CAAV,EAAaC,CAAb,EAAgBkK,CAAhB,EAAmBI,CAAnB,EAAqB;EACxC,SAAO,OAAOvK,CAAP,KAAa,QAAb,GACH,IAAIwK,KAAJ,CAAUxK,CAAC,CAACA,CAAZ,EAAeA,CAAC,CAACC,CAAjB,EAAoBD,CAAC,CAACmK,CAAtB,EAAyBnK,CAAC,CAACuK,CAA3B,CADG,GAEH,IAAIC,KAAJ,CAAUxK,CAAV,EAAaC,CAAb,EAAgBkK,CAAhB,EAAmBI,CAAnB,CAFJ;EAGD,CAJM;AAMP,EAAO,IAAMkE,MAAM,GAAG,SAATA,MAAS,CAAU/lB,KAAV,EAAiB2Q,GAAjB,EAAqB;EACzC,SAAO,IAAIoS,MAAJ,CAAW,CAAC;EAAEzL,IAAAA,CAAC,EAAEtX,KAAK,CAACsX,CAAX;EAAcC,IAAAA,CAAC,EAAEvX,KAAK,CAACuX,CAAvB;EAA0BkK,IAAAA,CAAC,EAAEzhB,KAAK,CAACyhB,CAAnC;EAAsCI,IAAAA,CAAC,EAAE7hB,KAAK,CAAC6hB;EAA/C,GAAD,EAAqD;EAAEvK,IAAAA,CAAC,EAAE3G,GAAG,CAAC2G,CAAT;EAAYC,IAAAA,CAAC,EAAE5G,GAAG,CAAC4G,CAAnB;EAAsBkK,IAAAA,CAAC,EAAE9Q,GAAG,CAAC8Q,CAA7B;EAAgCI,IAAAA,CAAC,EAAElR,GAAG,CAACkR;EAAvC,GAArD,CAAX,CAAP;EACD,CAFM;AAIP,EAAO,IAAMmD,IAAI,GAAG,SAAPA,IAAO,CAAUE,IAAV,EAAgB9W,GAAhB,EAAqBiU,KAArB,EAA4BG,MAA5B,EAAoClL,CAApC,EAAuCC,CAAvC,EAA0C2Q,KAA1C,EAAgD;EAClE,SAAO,OAAOhD,IAAP,KAAgB,QAAhB,GACH,IAAIzB,IAAJ,CAASyB,IAAI,CAACA,IAAd,EAAoBA,IAAI,CAAC9W,GAAzB,EAA8B8W,IAAI,CAAC7C,KAAnC,EAA0C6C,IAAI,CAAC1C,MAA/C,EAAuD0C,IAAI,CAAC5N,CAA5D,EAA+D4N,IAAI,CAAC3N,CAApE,EAAuE2N,IAAI,CAACgD,KAA5E,CADG,GAEH,IAAIzE,IAAJ,CAASyB,IAAT,EAAe9W,GAAf,EAAoBiU,KAApB,EAA2BG,MAA3B,EAAmClL,CAAnC,EAAsCC,CAAtC,EAAyC2Q,KAAzC,CAFJ;EAGD,CAJM;;EC1mBP,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAUC,KAAV,EAAiBC,MAAjB,EAAyBC,YAAzB,EAAsC;EAC3D,OAAKF,KAAL,GAAaA,KAAb;EACA,OAAKC,MAAL,GAAcA,MAAd;EACA,OAAKC,YAAL,GAAoB,OAAOA,YAAP,KAAwB,UAAxB,GAAqCA,YAArC,GAAoD,UAACzsB,CAAD,EAAI6E,CAAJ;EAAA,WAAQ7E,CAAC,KAAK6E,CAAd;EAAA,GAAxE;EACA,OAAK6nB,QAAL,GAAgBxuB,SAAhB;EACD,CALD;;EAOAouB,cAAc,CAACplB,SAAf,GAA2B;EACzBylB,EAAAA,WADyB,uBACZC,UADY,EACD;EACtB,SAAKJ,MAAL,CAAYI,UAAZ,EAAwBvf,SAAS,CAAC,KAAKqf,QAAN,CAAjC;EACA,SAAKA,QAAL,GAAgBE,UAAhB;EACD,GAJwB;EAKzBC,EAAAA,MALyB,oBAKT;EAAA,sCAAL1jB,IAAK;EAALA,MAAAA,IAAK;EAAA;;EACd,QAAM2jB,WAAW,GAAG,KAAKP,KAAL,CAAWppB,KAAX,CAAiB,IAAjB,EAAuBgG,IAAvB,CAApB;EACA,WAAO,KAAKsjB,YAAL,CAAkB,KAAKC,QAAvB,EAAiCI,WAAjC,IAAgD,KAAhD,IAAyD,KAAKH,WAAL,CAAiBG,WAAjB,GAA+B,IAAxF,CAAP;EACD;EARwB,CAA3B;AAWA,EAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAUP,MAAV,EAAkBC,YAAlB,EAA+B;EACnD,MAAIO,WAAJ;EACA,MAAMC,cAAc,GAAG,IAAIX,cAAJ,CAAmB;EAAA,WAAIU,WAAJ;EAAA,GAAnB,EAAoCR,MAApC,EAA4CC,YAA5C,CAAvB;EACA,SAAO,UAAChuB,KAAD,EAAS;EAAEuuB,IAAAA,WAAW,GAAGvuB,KAAd;EAAqBwuB,IAAAA,cAAc,CAACJ,MAAf;EAAyB,GAAhE;EACD,CAJM;;ECHA,IAAMK,aAAa,GAAG,SAAhBA,aAAgB,CAAUhe,IAAV,EAAe;EAC1C,SAAOqC,KAAK,CAAC,YAAW;EACtB,QAAI4b,QAAQ,GAAG,KAAf;EACA,WAAO,YAAkB;EAAA;;EAAA,wCAALhkB,IAAK;EAALA,QAAAA,IAAK;EAAA;;EACvB,UAAGgkB,QAAQ,KAAK,IAAhB,EAAqB;EACnB,eAAOC,KAAM,EAAb;EACD,OAFD,MAEO;EACLD,QAAAA,QAAQ,GAAG,IAAX;EACA,eAAO9Q,SAAO,CAAC,UAACP,UAAD,EAAUE,SAAV,EAAmB;EAChC,iBAAOqR,SAAQ,CAACne,IAAI,CAAC/L,KAAL,CAAW,KAAX,EAAiBgG,IAAjB,CAAD,CAAR,CAAiCgT,IAAjC,CAAsCL,UAAtC,EAA+CM,KAA/C,CAAqDJ,SAArD,CAAP;EACD,SAFa,CAAP,CAGNG,IAHM,CAGD,UAAA+G,CAAC,EAAE;EACPiK,UAAAA,QAAQ,GAAG,KAAX;EACA,iBAAOjK,CAAP;EACD,SANM,EAON9G,KAPM,CAOA,UAAA8G,CAAC,EAAE;EACRiK,UAAAA,QAAQ,GAAG,KAAX;EACA,iBAAOG,MAAO,CAACpK,CAAD,CAAd;EACD,SAVM,CAAP;EAWD;EACF,KAjBD;EAkBD,GApBW,CAAZ;EAqBD,CAtBM;AAwBP,EAAO,IAAMqK,YAAY,GAAG,SAAfA,YAAe,CAAUC,QAAV,EAAmB;EAC7C,SAAOjc,KAAK,CAAC,YAAW;EACtB,QAAMkc,YAAY,GAAG,EAArB;EAEAprB,IAAAA,OAAO,CAACmrB,QAAD,CAAP,CAAkB3jB,OAAlB,CAA0B,UAAA8X,CAAC,EAAE;EAAE,aAAOA,CAAP,KAAa,UAAb,IAA2B8L,YAAY,CAAChrB,IAAb,CAAkBkf,CAAlB,CAA3B;EAAiD,KAAhF;EAEA,WAAO,UAAUhe,OAAV,EAAkB;EAAA;;EACvB,aAAO0Y,SAAO,CAAC,UAACP,UAAD,EAAUE,SAAV,EAAmB;EAAA;EAAA;EAAA,gCACrB0R,QADqB;;EAChC,iBAAWA,QAAX;EAAA;EAAA;EAAA;EAAA;EAAA;EACUhhB,kBAAAA,CADV,GACc+gB,YADd,EAC4BrsB,CAD5B,GACgC,CADhC,EACmCkB,CADnC,GACuCoK,CAAC,CAAChN,MADzC;;EAAA;EAAA,wBACiD0B,CAAC,GAAGkB,CADrD;EAAA;EAAA;EAAA;;EAAA;EAEI,yBAAMoK,CAAC,CAACtL,CAAD,CAAP;;EAFJ;EACwDA,kBAAAA,CAAC,EADzD;EAAA;EAAA;;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EAMA,YAAMusB,OAAO,GAAG,SAAVA,OAAU,OAAwBC,WAAxB,EAAsC;EAAA,cAA5B3lB,IAA4B,QAAnCxJ,KAAmC;EAAA,cAAtB0lB,IAAsB,QAAtBA,IAAsB;;EACpD,cAAGA,IAAH,EAAQ;EACNrI,YAAAA,UAAO,CAAC8R,WAAD,CAAP;EACD,WAFD,MAEO;EACLP,YAAAA,SAAQ,CAACplB,IAAI,CAAChB,IAAL,CAAU,MAAV,EAAgB2mB,WAAhB,CAAD,CAAR,CACCzR,IADD,CACM,UAAA0R,WAAW,EAAE;EACjBF,cAAAA,OAAO,CAACD,QAAQ,CAACjoB,IAAT,EAAD,EAAkBooB,WAAlB,CAAP;EACD,aAHD,EAICzR,KAJD,CAIOJ,SAJP;EAKD;EACF,SAVD;;EAYA2R,QAAAA,OAAO,CAACxqB,KAAR,CAAcuqB,QAAQ,CAACjoB,IAAT,EAAd,EAA+B9B,OAA/B;EACD,OApBa,CAAd;EAqBD,KAtBD;EAuBD,GA5BW,CAAZ;EA6BD,CA9BM;EAgCP;;;;;;AAKA,EAAO,IAAMmqB,WAAW,GAAG,SAAdA,WAAc,GAAW;EACpC,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAAUC,QAAV,EAAoBxE,QAApB,EAA6B;EAC/C,QAAMyE,UAAU,GAAKD,QAAQ,CAACE,MAA9B;;EACA,QAAMC,YAAY,GAAGC,SAAU,CAAC5E,QAAD,CAA/B;;EAEAwE,IAAAA,QAAQ,CAACK,OAAT,CAAiBxkB,OAAjB,CAAyB,UAAA2iB,MAAM,EAAE;EAC/BA,MAAAA,MAAM,CAAChD,QAAD,EAAWwE,QAAQ,CAACM,SAApB,EAA+BL,UAA/B,CAAN;EACD,KAFD;EAIAD,IAAAA,QAAQ,CAACM,SAAT,GAAqBH,YAArB;EACD,GATD;;EAWA,MAAII,QAAQ,GAAG,SAAXA,QAAW,CAAUC,aAAV,EAAwB;EACrC,SAAKH,OAAL,GAAe,EAAf;EACA,SAAKC,SAAL,GAAiBpwB,SAAjB;EACA,SAAKgwB,MAAL,GAAc,CAAd;EACA,SAAKO,cAAL,GAAsBD,aAAtB;EACD,GALD;;EAOAD,EAAAA,QAAQ,CAACrnB,SAAT,GAAqB;EACnBwnB,IAAAA,MADmB,kBACXC,eADW,EACK;EAAA;;EACtBtsB,MAAAA,OAAO,CAACssB,eAAD,CAAP,CAAyB9kB,OAAzB,CAAiC,UAAAzH,EAAE,EAAE;EACnC,YAAG,OAAOA,EAAP,KAAc,UAAjB,EAA4B;EAC1B,UAAA,MAAI,CAACisB,OAAL,CAAa5rB,IAAb,CAAkBL,EAAlB;EACD;EACF,OAJD;EAKD,KAPkB;EAQnBwsB,IAAAA,MARmB,kBAQXpF,QARW,EAQF;EACf,UAAIA,QAAJ;;EACA,UAAG,KAAKiF,cAAR,EAAuB;EACrB,YAAG,CAACI,OAAQ,CAAC,KAAKP,SAAN,EAAiB9E,QAAjB,CAAZ,EAAuC;EACrCuE,UAAAA,WAAW,CAAC,IAAD,EAAOvE,QAAP,CAAX;EACD;EACF,OAJD,MAIO;EACL,YAAG,KAAK8E,SAAL,IAAkB9E,QAArB,EAA8B;EAC5BuE,UAAAA,WAAW,CAAC,IAAD,EAAOvE,QAAP,CAAX;EACD;EACF;EACF;EAnBkB,GAArB;EAqBA,SAAO,UAAUgD,MAAV,EAAkBgC,aAAlB,EAAgC;EACrC,QAAMjC,KAAK,GAAG,IAAIgC,QAAJ,CAAaC,aAAb,CAAd;EACAjC,IAAAA,KAAK,CAACmC,MAAN,CAAalC,MAAb;EACA,WAAOD,KAAP;EACD,GAJD;EAKD,CA7CM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EC5EP,IAAIuC,GAAG,GAAI,SAAPA,GAAO,GAAW,EAAtB;;EACA,IAAIC,UAAU,GAAG,SAAbA,UAAa,CAAUC,GAAV,EAAc;EAC7B,MAAIC,GAAG,GAAG,SAANA,GAAM,CAAUtrB,OAAV,EAAkB;EAAE,WAAO,IAAImrB,GAAJ,CAAQnrB,OAAR,CAAP;EAAyB,GAAvD;;EAEA,WAASurB,WAAT,CAAsBC,MAAtB,EAA6B;EAAE,SAAI,IAAInoB,IAAR,IAAgBmoB,MAAhB;EAAwBF,MAAAA,GAAG,CAACjoB,IAAD,CAAH,GAAYmoB,MAAM,CAACnoB,IAAD,CAAlB;EAAxB;EAAkD;;EAEjFkoB,EAAAA,WAAW,CAACF,GAAD,CAAX;EAEA,SAAOC,GAAP;EACD,CARD;;EAUA,IAAIG,OAAO,GAAGL,UAAU,mBAAMM,SAAN,EAAxB;AAEA,EAAO,IAAMC,OAAO,GAAGP,UAAhB;;ECZP,IAAMK,SAAO,GAAGE,OAAO,mBAAMD,SAAN,EAAvB;;;;;;;;"}