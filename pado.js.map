{"version":3,"file":"pado.js","sources":["packages/pado/functions/isLike.js","packages/pado/functions/cast.js","packages/pado/functions/remark.js","packages/pado/functions/enumerable.js","packages/pado/functions/read.js","packages/pado/functions/functions.js","packages/pado/functions/reform.js","packages/pado/functions/reduce/reduce.base.js","packages/pado/functions/reduce/reduce.js","packages/pado/functions/nice.js","packages/pado/functions/matrix.js","packages/pado/functions/random.js","packages/pado/functions/datetime.js","packages/pado/functions/hack.js","packages/pado/functions/draw.js","packages/pado/modules/promise/promiseEngine.js","packages/pado/modules/promise/promise.js","packages/pado/modules/operate.js","packages/pado/modules/promise/promiseFunctions.js","packages/pado/modules/block.js","packages/pado/modules/decorator.js","packages/pado/modules/session.js","packages/pado/modules/ranger.js","packages/pado/modules/matrix.js","packages/pado/modules/stance.js","packages/pado/modules/affect.js","packages/pado/pado.core.js","packages/pado/pado.js"],"sourcesContent":["export const isAbsoluteNaN = function (it){\n  // eslint-disable-next-line no-self-compare\n  return it !== it && typeof it === \"number\"\n}\n\nexport const isNone = function (data){\n  return isAbsoluteNaN(data) || data === undefined || data === null\n}\n\nexport const isInfinity = function (it){\n  return it === Number.POSITIVE_INFINITY || it === Number.NEGATIVE_INFINITY\n}\n\nexport const isNumber = function (it){\n  return (typeof it === \"number\" && !isInfinity(it) && !isAbsoluteNaN(it))\n}\n\nexport const isInteger = function (value){\n  //NaN, null, undefined\n  if(isNone(value) === true) return false\n  \n  if(typeof value === \"string\"){\n    value = value.trim()\n  }\n\n  if(!(/string|number/.test(typeof value)) || isInfinity(value) || isNaN(value)){\n    return false\n  }\n\n  return value == parseInt(value, 10)\n}\n\nexport const isArray = function (data){\n  return Array.isArray(data) || data instanceof Array\n}\n\nexport const isObject   = it=>!!((it !== null && typeof it === \"object\"))\nexport const isFunction = (it)=>typeof it === \"function\"\n\n/*\n  * likeObject is have hasOwnProperty\n*/\nexport const likeObject = (it)=>isObject(it) || isFunction(it)\n\nexport const likeString = function (data){\n  if(typeof data === \"string\") return true\n  if(isNumber(data)) return true\n  return false\n}\n\nexport const likeNumber = function (data){\n  if(isNumber(data) || isInfinity(data)) return true\n  if(typeof data === \"string\") return String(parseFloat(data)) === String(data)\n  return false\n}\n\nexport const likeArray = function (item){\n  return (\n    Array.isArray(item) || \n    ( \n      item !== null &&\n      typeof item === \"object\" &&\n      item.hasOwnProperty(\"length\") && \n      typeof item.length === \"number\" && \n      item.length > 0\n    )\n  )\n}\n\nexport const isPlainObject = data=>typeof data === \"object\" && data.constructor === Object\n\nexport const isEnumerableObject = data=>isPlainObject(data) || isArray(data)\n\nexport const isNode = (a)=>isObject(a) && typeof a.nodeType === \"number\"\n\nexport const isEmpty = function (it){\n  if(typeof it === \"undefined\") return true\n  if(typeof it === \"string\") return it.trim().length < 1\n  if(typeof it === \"object\"){\n    if(it == null) return true\n    if(it instanceof RegExp) return false      \n    if(isArray(it)){\n      return !it.length\n    } else {\n      for(var prop in it) return false; return true\n    }\n  }\n  if(typeof it === \"number\"){\n    //NaN check \n    return isAbsoluteNaN(it) || false\n  }\n  if(typeof it === \"function\") return false\n  if(typeof it === \"boolean\") return false\n  return true\n}\n\n// check JSON, input.value possible value\nexport const isPresence = function (it){\n  return !(it === undefined || isAbsoluteNaN(it))\n}\n\nexport const likeRegexp = (s)=>(typeof s === \"string\") || (s instanceof RegExp)\n\n// none(undfinec, null, NaN), value(1,\"1\"), hash({}), array([]), node, object(new, Date), function, boolean\nexport const eqof = function (it){\n  const typeIt = typeof it\n  switch (typeIt){\n    case \"number\":\n      if(isAbsoluteNaN(it)) return \"none\"\n    case \"string\":\n      return \"value\"\n      break\n    case \"object\":\n      if(isNone(it)) return \"none\"\n      if(likeArray(it)) return \"array\"\n      if(isNode(it)) return \"node\"\n      if(!isPlainObject(it)) return \"object\"\n      return \"hash\"\n      break\n    case \"undefined\":\n      return \"none\"\n      break\n    case \"function\":\n    case \"boolean\":\n    default:\n      return typeIt\n      break\n  }\n}\n\nconst baseEq = function (value, other, filter, depth = 0, strict){\n  if(arguments.length < 2) return false\n  \n  const valueType = eqof(value)\n  const otherType = eqof(other)\n  \n  if(valueType !== otherType) return false\n  \n  switch (valueType){\n    case \"none\":\n      return true\n    case \"array\":\n      if(value.length !== other.length){\n        return false\n      }\n      return value.every((vValue, i)=>{\n        const oValue = other[i]\n        return (typeof filter === \"function\" && filter(i, [vValue, oValue], depth) === false) ? true : baseEq(vValue, oValue, filter, depth + 1, strict)\n      })\n      break\n    case \"hash\":\n      const vKeys = Object.keys(value); const oKeys = Object.keys(other)\n      if(vKeys.length !== oKeys.length || !baseEq(vKeys.sort(), oKeys.sort())) return false\n      return vKeys.every((key)=>{\n        const vValue = value[key]\n        const oValue = other[key]\n        return (typeof filter === \"function\" && filter(key, [vValue, oValue], depth) === false) ? true : baseEq(vValue, oValue, filter, depth + 1, strict)\n      })\n      break\n    case \"node\":\n    case \"object\":\n    case \"function\":\n    case \"boolean\":\n    case \"value\":\n    default:\n      return strict ? value === other : value == other\n  }\n}\n\nexport const isEqual   = (value, other, filter, depth)=>baseEq(value, other, filter, depth, true)\nexport const likeEqual = (value, other, filter, depth)=>baseEq(\n  value,\n  other,\n  (key, values, depth)=>/^(\\$|\\_)/.test(key) ? false : typeof filter === \"function\" ? filter(key, values, depth) : true, \n  depth, \n  true\n)\nexport const eqeq      = (value, other, filter, depth)=>baseEq(value, other, filter, depth, false)\n\nexport const isExsist = function (value){\n  if(value === true){\n    return true\n  }\n  if(value === false){\n    return false\n  }\n  if(typeof value === \"string\" || typeof value === \"number\"){\n    return true\n  } else {\n    return false\n  }\n}\n\nexport const notExsist = value=>!isExsist(value)\n\nexport const likePromise = (target)=>(typeof target === \"object\" && target !== null && typeof target['then'] === \"function\" && typeof target['catch'] === \"function\")\n","import {\n  isArray,\n  isNone,\n  isAbsoluteNaN,\n  isPlainObject,\n  isObject\n} from './isLike'\n\nexport const asArray = function (data, defaultArray = undefined){\n  if(isArray(data)){\n    return data\n  }\n  if(isNone(data)){\n    return isArray(defaultArray) ? defaultArray\n      : isNone(defaultArray) ? [] : [defaultArray]\n  }\n  if(typeof data === \"object\" && typeof data.toArray === \"function\"){\n    return data.toArray()\n  }\n  return [data]\n}\n\nexport const toArray = function (data, option){\n  if(typeof data === \"undefined\" || data === null || isAbsoluteNaN(data)) return []\n  if(isArray(data)) return Array.prototype.slice.call(data)\n  if(typeof data === \"object\" && typeof data.toArray === \"function\") return data.toArray()\n  if(typeof data === \"string\" && typeof option === \"string\") return data.split(option)\n  return [data]\n}\n\nexport const asObject = function (data, defaultKey = \"default\"){\n  if(isPlainObject(data)){\n    return data\n  } else {\n    return { [defaultKey]: data }\n  }\n}\n\nexport const toNumber = function (v, d){\n  switch (typeof v){ case \"number\":return v; case \"string\":const vr = v.replace(/[^.\\d\\-]/g, \"\") * 1; return isAbsoluteNaN(vr) ? 0 : vr; break }\n  switch (typeof d){ case \"number\":return d; case \"string\":const dr = d * 1; return isAbsoluteNaN(dr) ? 0 : dr; break }\n  return 0\n}\n\nexport const cleanObject = function (data){\n  if(data instanceof Array){\n    Array.prototype.splice.call(data, 0, data.length)\n  } else if(typeof data == \"object\"){\n    Object.keys(data).forEach(key=>{ delete data[key] })\n  }\n  return data\n}\n\nexport const clone = function (target){\n  switch (typeof target){\n    case \"undefined\": case \"function\": case \"boolean\": case \"number\": case \"string\": return target; break\n    case \"object\":\n      if(target === null) return target\n    \n      if(isArray(target)){\n        let r = []\n        for(let i = 0, length = target.length; i < length; i++)r.push(target[i])\n        return r\n      }\n    \n      if(!isPlainObject(target)){\n        if(target instanceof Date){\n          let r = new Date()\n          r.setTime(target.getTime())\n          return r\n        }\n        return target\n      }\n    \n      let r = {}\n    \n      Object.keys(target).forEach(k=>{\n        if(target.hasOwnProperty(k)) r[k] = target[k]\n      })\n      return r\n      break\n    default : \n      console.error(\"clone::copy failed : target => \", target)\n      return target \n      break\n  }\n}\n\nexport const cloneDeep = function (target){\n  if(typeof target === \"object\"){\n    let d\n    if(isArray(target)){\n      if(!isArray(d)){ d = [] };\n      for(var i = 0, l = target.length; i < l; i++) d.push(((typeof target[i] === \"object\" && target[i] !== null) ? clone(target[i]) : target[i]))\n      return d\n    } else {\n      d = {}\n      Object.keys(target).forEach(p=>{\n        (typeof target[p] === \"object\" && target[p] !== null && d[p]) ? clone(target[p], d[p]) : d[p] = target[p]\n      })\n      return d\n    }\n  } else {\n    return clone(target)\n  }\n}\n\nexport const free = function (datum){\n  const dest = {}\n  Object.keys(datum).forEach(key=>{\n    if(!/^\\$/.test(key)){\n      dest[key] = cloneDeep(datum[key])\n    }\n  })\n  return dest\n}\n\nconst getKeyWithValue = function (obj, value){\n  if(isArray(obj)){\n    for(var i = 0, l = obj.length; i < l; i++) if(obj[i] === value) return i\n  } \n  if(isObject(obj)){\n    for(var key in obj) if(obj[key] === value) return key\n  }\n  return undefined\n}\n\nexport const removeValue = function (obj, value){\n  var detect = true\n  var array  = isArray(obj)\n\n  while(detect){\n    var key = getKeyWithValue(obj, value)\n    if(typeof key === \"undefined\"){\n      detect = false\n    } else {\n      if(array){\n        obj.splice(key, 1)\n      } else {\n        delete obj[key]\n      }\n    }\n  }\n\n  return obj\n}\n\nexport const instance = function (func, proto){\n  var ins; var DummyInstance = function (param){ if(typeof param === \"object\") for(var k in param) this[k] = param[k] }\n  if(typeof func == \"object\"){\n    if(typeof proto === \"object\") DummyInstance.prototype = proto\n    ins = new DummyInstance(func)\n  }\n  if(typeof func == \"function\"){\n    if(typeof proto === \"object\") func.prototype = proto\n    ins = (new func())\n  }\n  return ins\n}\n\nexport const alloc = function (init){\n  let fn = init()\n  const rn = function (...args){\n    return fn.apply(this, args)\n  }\n  rn['reset'] = function (){ fn = init(rn, rn) }\n  rn['$constructor'] = fn\n  return rn\n}\n\n// TODO\n/*\nconst syncData = (function (){\n  const ENTER_HOOK  = (newDatum)=>Object.assign({}, newDatum)\n  const UPDATE_HOOK = (oldDatum, newDatum)=>Object.assign({}, oldDatum, newDatum)\n  \n  return function (oldData, newData, getId, options){\n    if(!/string|function/.test(typeof getId)) throw new Error(\"syncData need getId\")\n  \n    if(typeof getId === \"string\"){\n      const getIdString = getId\n      getId = e=>_.get(e, getIdString)\n    }\n\n    oldData = asArray(oldData)\n    newData = asArray(newData)\n\n    const result = []\n    const hooks  = asObject(options, \"afterEach\")\n    \n    if(typeof hooks[\"enter\"] !== \"function\"){\n      hooks[\"enter\"] = ENTER_HOOK\n    }\n    \n    if(typeof hooks[\"update\"] !== \"function\"){\n      hooks[\"update\"] = UPDATE_HOOK\n    }\n    \n    const oldDataMap = _.map(oldData, e=>{\n      return { id: getId(e), ref: e }\n    })\n    \n    \n    asArray(newData).forEach((newDatum, i)=>{\n      const newId = getId(newDatum)\n      \n      let oldDatum = _.get(oldDataMap[_.findIndex(oldDataMap, e=>e.id === newId)], \"ref\")\n      let genDatum\n      let dirty = false\n      // eslint-disable-next-line no-undef\n      if(oldDatum){\n        // change is not dirty, modify is dirty\n        if(typeof oldDatum !== typeof newDatum){\n          dirty = false\n        } else { // same type\n          const oldOwnKeys = Object.keys(oldDatum).filter(key=>!(key.indexOf(\"$\") === 0))\n          const newOwnKeys = Object.keys(newDatum).filter(key=>!(key.indexOf(\"$\") === 0))\n\n          // inspect key chnage\n          if(_.isEqual(oldOwnKeys, newOwnKeys)){\n            dirty = !_.isEqual(_.pick(oldDatum, oldOwnKeys), _.pick(newDatum, newOwnKeys))\n          } else {\n            dirty = true\n          }\n        }\n        \n        if(typeof hooks[\"beforeUpdate\"] === \"function\"){\n          if(hooks[\"beforeUpdate\"](oldDatum, newDatum) === false){\n            return\n          }\n        }\n        \n        genDatum = hooks[\"update\"](oldDatum, newDatum)\n        \n        if(typeof hooks[\"afterUpdate\"] === \"function\"){\n          genDatum = hooks[\"afterUpdate\"](genDatum, oldDatum, newDatum)\n        }\n      } else {\n        if(typeof hooks[\"beforeEnter\"] === \"function\"){\n          if(hooks[\"beforeEnter\"](newDatum) === false){\n            return\n          }\n        }\n        \n        genDatum = hooks[\"enter\"](newDatum)\n        \n        if(typeof hooks[\"afterEnter\"] === \"function\"){\n          genDatum = hooks[\"afterEnter\"](genDatum, newDatum)\n        }\n      }\n\n      if(typeof hooks[\"afterEach\"] === \"function\"){\n        hooks[\"afterEach\"](genDatum, i, dirty)\n      }\n\n      result.push(genDatum)\n    })\n\n    return result\n  }\n}())\n*/\n","import { \n  isNone,\n  isNumber,\n  likeRegexp,\n  isArray,\n  likeArray,\n  likeObject,\n  isPlainObject\n} from './isLike'\n\nimport {\n  clone,\n  asArray\n} from './cast'\n\nexport const keys = function (target, filterExp, strict){\n  const result = []\n  if(!likeObject(target)) return result\n  \n  const filter = typeof filterExp === \"function\" ? filterExp : ()=>true;\n  \n  (strict === true ? isArray(target) : likeArray(target)) && \n  Object.keys(target).filter(key=>{ if(isNaN(key)) return; const numberKey = parseInt(key, 10); filter(numberKey, target) && result.push(parseInt(numberKey, 10)) }) || \n  (strict === true ? isPlainObject(target) : likeObject(target)) && \n  Object.keys(target).forEach(key=>{ filter(key, target) && result.push(key) })\n  \n  return result\n}\n\nexport const entries = function (it){\n  const result = []\n  switch (typeof it){\n    case \"object\":\n      // eslint-disable-next-line no-unused-expressions\n      isNone(it) ? 0\n        : likeArray(it) ? asArray(it).forEach((v, k)=>{ result.push([k, v]) })\n        : Object.keys(it).forEach(key=>{ result.push([key, it[key]]) })\n      break\n  }\n  return result\n}\n\nexport const deepKeys = (function (){\n  const nestedDeepKeys = function (target, filter, scope, total){\n    if(typeof target === \"object\"){\n      keys(target, (key, target)=>{\n        const child  = target[key]\n        const useKey = filter(child, key, scope.length)\n        if(!useKey){\n          return\n        }\n        const currentScope = clone(scope)\n        currentScope.push(key)\n        total.push(currentScope)\n        nestedDeepKeys(child, filter, currentScope, total)\n      }, true)\n    }\n  }\n  \n  return function (target, filter){\n    const result = []\n    nestedDeepKeys(target, filter ? (child, key)=>{ filter(child, key) } : ()=>true, [], result)\n    return result\n  }\n}())\n\n//remark.spec.js\nexport const matchString = (it, search, at = 0)=>{\n  if(typeof it !== \"string\") throw new Error(`matchString :: worng argument ${it}`)\n  if(typeof search === \"string\") search = search.replace(new RegExp(\"(\\\\.|\\\\[|\\\\])\", \"g\"), s=>`\\\\${s}`)\n  const result = it.substr(at).match(search)\n  return result ? [result.index + at, result[0].length] : [-1, 0]\n}\n\nexport const findIndex = (function (){\n  const __find_string = (it, search, at)=>it.indexOf(search, at)\n  const __find_regexp = (it, search, at)=>{\n    let i = it.substring(at || 0).search(search)\n    return (i >= 0) ? (i + (at || 0)) : i\n  }\n  return (it, search, at)=>((search instanceof RegExp) ? __find_regexp : __find_string)(it, search, at)\n}())\n\n//remark.spec.js\nexport const findIndexes = (function (){\n  return function (c, s, at){\n    if(typeof c === \"string\" || typeof c === \"number\"){\n      var idxs = []; var s = likeRegexp(s) ? s : s + \"\"; var at = (!at || !isNumber(at) || at < 0) ? 0 : at; var next\n      do {\n        let i = findIndex(c, s, at)\n        if(i > -1){\n          at = (s.length || 1) + i\n          idxs.push(i) \n          next = true\n        } else {\n          next = false\n        }\n      } while(next)\n      return idxs\n    }\n  }\n}())\n","import {\n  isArray\n} from './isLike'\n\nimport {\n  asArray\n} from './cast'\n\nexport const all = function (data, fn){\n  data = asArray(data)\n  \n  if(data.length === 0){\n    return false\n  }\n  \n  for(let i = 0, l = data.length; i < l; i++){\n    if(!fn(data[i], i)){\n      return false\n    } \n  };\n  \n  return true\n}\n\nexport const times = function (length, fn){\n  const result = []\n  for(var i = 0, l = length; i < l; i++){\n    result.push(fn(i))\n  }\n  return result\n}\n\nexport const hashMap = function (object, fn){\n  if(typeof object === \"object\" && !isArray(object)) for(var k in object) object[k] = fn(object[k], k)\n  else return fn(object, (void 0))\n  return object\n}\n\nexport const pairs = (inputArr, fn) => {\n  let result = [];\n  for(let i=0,l=inputArr.length;i<l;i++){\n    for(let ai=0,al=l;ai<al;(i!==ai && result.push([inputArr[i],inputArr[ai]])),ai++);\n  }\n  return typeof fn === \"function\" ? result.map(applyArgs=>fn.apply(undefined,applyArgs)) : result;\n}","import {\n  isArray,\n  likeString,\n  isObject,\n  likeObject,\n  isNumber,\n  isEmpty\n} from './isLike'\n\nimport {\n  entries,\n  matchString\n} from './remark'\n\nimport {\n  all\n} from './enumerable'\n\nimport {\n  asArray\n} from './cast'\n\n\n//read.readString.spec.js\nexport const readString = (function (){\n  const rebaseMatches = matches=>entries(asArray(matches))\n  return function (text, matches, castFn, props){\n    const payload = {\n      content: text,\n      props\n    }\n  \n    const newMatchEntries = rebaseMatches(matches)\n  \n    const castingState = {\n      firstIndex  : 0,\n      lastIndex   : text.length,\n      castingStart: 0,\n      cursor      : 0\n    }\n    \n    if(typeof props === \"object\" && isNumber(props.start)){\n      castingState.castingStart = props.start\n      castingState.cursor = props.start\n    }\n\n    const open = function ({ castingState:{ firstIndex, lastIndex, castingStart, cursor }, matchEntries, castFn, parentScope }){\n      if(cursor >= lastIndex){\n        return false\n      }\n      \n      //find match\n      const matchesMap = matchEntries.map(([matchType, matchExp])=>([matchString(text, matchExp, cursor), matchType, matchExp]))\n      let firstMatch   = asArray(matchesMap).sort(([a, aPriority], [b, bPriority])=>(\n        a[0] < 0 ? true\n        : b[0] < 0 ? false\n        : a[0] == b[0] ? aPriority < bPriority : a[0] > b[0]\n      ))[0]\n      \n      // top match is not exsist\n      if(!firstMatch){ return false }\n      \n      // unmatched\n      if(firstMatch[0][0] === -1){\n        firstMatch = [[-1, 0], -1, null]\n      }\n\n      //next variant\n      const [[ matchIndex, matchSize ], matchType, matchExp] = firstMatch\n      const castStart = castingStart\n      const castEnd   = matchType === -1 ? lastIndex : (matchIndex + matchSize)\n      const castSize  = castEnd - castStart\n      const skipSize  = castSize - matchSize\n      \n      //next params\n      const matching = { \n        matchType, \n        matchExp,\n        matchIndex,\n        matchSize,\n        skipSize\n      }\n      const casting = {\n        firstIndex,\n        lastIndex,\n        castStart,\n        castEnd,\n        castSize\n      }\n      const scope = {\n        fork (matchEntries, castFn){\n          const newMatchEntries = rebaseMatches(matches)\n          open({\n            castingState: {\n              firstIndex  : matching.matchIndex,\n              lastIndex   : matching.matchIndex + matchSize,\n              castingStart: matching.matchIndex,\n              cursor      : matching.matchIndex\n            }, \n            matchEntries: newMatchEntries,\n            castFn,\n            parentScope\n          })\n        },\n        next (needCursor){\n          const cursorTo = isNumber(needCursor) ? needCursor : casting.castEnd\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: cursorTo,\n              cursor      : cursorTo\n            },\n            matchEntries,\n            castFn,\n            parentScope\n          })\n        },\n        enter (enterMatches, enterCastFn){\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: matching.matchIndex,\n              cursor      : matching.matchIndex\n            },\n            matchEntries: rebaseMatches(enterMatches),\n            castFn      : enterCastFn,\n            parentScope : {\n              next: scope.next\n            }\n          })\n        },\n        exit (needCursor){\n          parentScope && parentScope.next(isNumber(needCursor) ? needCursor : casting.castEnd)\n        },\n        more (){\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: castStart,\n              cursor      : casting.castEnd\n            },\n            matchEntries,\n            castFn,\n            parentScope\n          })\n        }\n      }\n      \n      castFn({\n        ...payload,\n        ...matching,\n        ...casting,\n        ...scope\n      })\n      \n      return true\n    }\n    \n    open({\n      castingState,\n      matchEntries: newMatchEntries,\n      castFn\n    })\n  \n    return payload\n  }\n}())\n\nexport const readPath = (function (){\n  const __filterDotPath = (dotPath, removeFirstDot)=>removeFirstDot && dotPath.indexOf(\".\") === 0 ? dotPath.substr(1) : dotPath\n  const __filterBlockPath = (blockPath)=>{\n    //remove []\n    blockPath = blockPath.substring(1, blockPath.length - 1)\n    \n    //interger\n    if(/^[0-9]+$/.test(blockPath)){\n      return parseInt(blockPath, 10)\n    }\n    \n    //remove ''\n    if(/^\\'.*\\'$/.test(blockPath) || /^\\\".*\\\"$/.test(blockPath)){\n      blockPath = blockPath.substring(1, blockPath.length - 1)\n    }\n    return blockPath\n  }\n\n  return function (pathParam){\n    if(isArray(pathParam)){\n      return pathParam\n    }\n  \n    if(likeString(pathParam)){\n      if(isNumber(pathParam)){\n        return [pathParam]\n      }\n    \n      if(typeof pathParam === \"string\"){\n        //one depth\n        if(!/\\.|\\[/.test(pathParam)){\n          return [pathParam]\n        }\n        \n        //multiple depth\n        const { props:{ path:result } } = readString(pathParam, [\".\", \"[\"], ({\n          content, props:{ path }, matchExp, castStart, castEnd, skipSize, enter, next\n        })=>{\n          if(matchExp === \".\"){\n            skipSize && path.push(content.substr(castStart, skipSize))\n            next()\n          }\n          if(matchExp === \"[\"){\n            let stackCount = 0\n          \n            if(skipSize){\n              path.push(__filterDotPath(content.substr(castStart, skipSize), castStart !== 0))\n            }\n          \n            enter([\"[\", \"]\"], ({ matchExp, castStart, castEnd, more, exit })=>{\n              if(matchExp === \"[\") stackCount++\n              if(matchExp === \"]\") stackCount--\n              if(matchExp === null) return\n              if(stackCount === 0){\n                path.push(__filterBlockPath(content.substring(castStart, castEnd)))\n                exit()\n              } else {\n                more()\n              }\n            })\n          }\n          if(matchExp === null){\n            path.push(__filterDotPath(content.substr(castStart, castEnd), castStart !== 0))\n          }\n        }, { path: [] })\n      \n        return result\n      }\n    }\n    return []\n  }\n}())\n\nexport const get = function (target, path, defaultValue){\n  if(typeof target === \"object\"){\n    switch (typeof path){\n      case \"number\": path += \"\"\n      case \"string\":\n        path = readPath(path)\n      case \"object\":\n        if(isArray(path)){\n          const allget = all(path, (name)=>{\n            if(likeObject(target) && (target.hasOwnProperty(name) || target[name])){\n              target = target[name]\n              return true\n            } else {\n              return false\n            }\n          })\n          return allget ? target : defaultValue\n        } else {\n          return\n        }\n        break\n      case \"function\": return path.call(this, target)\n    }\n  } else if(typeof target === \"function\"){\n    return target.apply(this, Array.prototype.slice.call(arguments, 1))\n  }\n  return target\n}\n\nexport const hasProperty = function (target, pathParam){\n  return all(readPath(pathParam), path=>{\n    if(likeObject(target) && likeString(path) && target.hasOwnProperty(path)){\n      target = target[path]\n      return true\n    }\n    return false\n  })\n}\n\nexport const hasValue = (function (){\n  const defaultObjectValueFunc = function (object, value){\n    return object === value\n  }\n    \n  const functionKeyObjectValueProc = function (functionKey){\n    return function (object, value){\n      return Boolean(functionKey(object, value))\n    }\n  }\n    \n  const selectKeyObjectValueProc = function (leftSelect, rightSelect){\n    var useLeftSelector  = (typeof leftSelect === \"string\" || typeof leftSelect === \"number\")\n    var useRightSelector = leftSelect === rightSelect ? useLeftSelector : (typeof rightSelect === \"string\" || typeof rightSelect === \"number\")\n        \n    return function (object, value){\n      if(useLeftSelector && !object.hasOwnProperty(leftSelect)) return false\n      if(useRightSelector && !value.hasOwnProperty(rightSelect)) return false\n            \n      return (useLeftSelector ? get(object, leftSelect) : object) === (useRightSelector ? get(value, rightSelect) : value)\n    }\n  }\n    \n  return function (obj, value, key, getKey){\n    if(typeof key === \"boolean\"){\n      if(typeof getKey !== \"boolean\"){\n        getKey = key\n      }\n      key = void 0\n    }\n        \n    if(obj === value){\n      return true\n    } else if(likeObject(obj)){\n      if(value === (void 0) && key === (void 0)) return !isEmpty(obj)\n            \n      var proc\n            \n      if(key){\n        if(typeof key === \"function\"){\n          proc = functionKeyObjectValueProc(key)\n        } else if(isArray(key) && key.length > 1){\n          proc = selectKeyObjectValueProc(key[0], key[1])\n        } else if(typeof key === \"string\" || typeof key === \"number\"){\n          proc = selectKeyObjectValueProc(key, key)\n        }\n      } else {\n        proc = defaultObjectValueFunc\n      }\n            \n      if(isArray(obj)){\n        for(var i = 0, l = obj.length; i < l; i++) if(proc(obj[i], value)) return getKey ? i : true\n      } else {\n        for(var objKey in obj) if(obj.hasOwnProperty(objKey) && proc(obj[objKey], value)) return getKey ? objKey : true \n      }\n    }\n        \n    return getKey ? void 0 : false\n  }\n}())\n\nexport const readDown = function (rootValue, readFn, rootParam){\n  const enterScope = (value, depth, param)=>isArray(value) ? arrayScope(value, depth, param) : isObject(value) ? objectScope(value, depth, param) : primitiveScope(value, depth, param)\n  \n  const arrayScope = (array, depth, param)=>{\n    return readFn({\n      type : \"array\",\n      value: array,\n      key  : null,\n      depth,\n      param,\n      enter: (param)=>{\n        const childrenDepth = depth + 1\n        return Array(array.length).fill(void 0).map((v, i)=>i).map(key=>{\n          const value = array[key]\n          return enterScope(value, childrenDepth, param)\n        })\n      }\n    })\n  }\n  \n  const objectScope = (object, depth, param)=>{\n    return readFn({\n      type : \"object\",\n      value: object,\n      key  : null,\n      depth,\n      param,\n      enter: (param)=>{\n        const childrenDepth = depth + 1\n        return Object.keys(object).map(key=>{\n          const value = object[key]\n          return readFn({\n            type : \"hash\",\n            key,\n            value,\n            depth,\n            param,\n            enter: (param)=>enterScope(value, childrenDepth, param)\n          })\n        })\n      }\n    })\n  }\n  \n  const primitiveScope = (value, depth, param)=>{\n    readFn({\n      type : \"value\",\n      key  : null,\n      value,\n      depth,\n      param,\n      enter: (param)=>param\n    })\n  }\n  \n  enterScope(rootValue, 0, rootParam)\n  return rootParam\n}\n","import { \n  isObject,\n  isArray,\n  isFunction,\n  isNode,\n  isEqual\n} from './isLike'\n\nimport {\n  asArray\n} from './cast'\n\nimport {\n  get,\n  hasValue\n} from './read'\n\nexport const unique = function (array, findKey){\n  const result    = []\n  const uniqueSet = new Set()\n  if(typeof findKey === \"undefined\"){ findKey = (v)=>v }\n  if(typeof findKey === \"string\"){ const keyPath = findKey; findKey = (v)=>v[keyPath] }\n  array.forEach((v)=>{\n    const key = findKey(v)\n    if(uniqueSet.has(key)) return\n    uniqueSet.add(key)\n    result.push(v)\n  })\n  return result\n}\n\nexport const getKeyBy = function (object, value){\n  if(isFunction(value)){\n    if(isArray(object)) for(var i = 0, l = object.length; i < l; i++) if(value(object[i], i) === true) return i\n    if(isObject(object)) for(var key in object) if(value(object[key], key) === true) return key\n  } else {\n    if(isArray(object)) for(var i = 0, l = object.length; i < l; i++) if(object[i] === value) return i\n    if(isObject(object)) for(var key in object) if(object[key] === value) return key\n  }\n}\n\nexport const moveOf = function (data, oldIndex, newIndex){\n  if(oldIndex !== newIndex && isArray(data) && typeof oldIndex === \"number\" && typeof newIndex === \"number\" && oldIndex >= 0 && oldIndex < data.length){\n    Array.prototype.splice.call(data, newIndex > data.length ? data.length : newIndex, 0, Array.prototype.splice.call(data, oldIndex, 1)[0])\n  }\n  return data\n}\n\nexport const concatOf = function (data, appends){\n  var data = asArray(data)\n  return asArray(appends).forEach(value=>{ data.push(value) }), data\n}\n\n\nexport const filterOf = function (data, func, exitFn){\n  var data    = asArray(data)\n  var exitCnt = 0\n\n  for(var i = 0, ri = 0, keys = Object.keys(data), l = keys.length; i < l; i++, ri++){\n    var key   = keys[i]\n    var value = data[key]\n    var result = func(value, key)\n    if(result == false){\n      /*\n      var exit = Array.prototype.splice.call(data, i, 1)\n      */\n      i--\n      l--\n      typeof exitFn === \"function\" && exitFn(value, ri, exitCnt++)\n    }\n  }\n  \n  return data\n}\n\nexport const clearOf = function (data, fillFn, sp){\n  if(data instanceof Array){\n    sp = Array.prototype.splice.call(data, 0, data.length)\n  } else if(typeof data == \"object\"){\n    sp = {}\n    for(var key in data){ sp[key] = data[key]; delete data[key] } \n  }\n  return (fillFn && fillFn(data, sp)), data\n}\n\nexport const insertOf = function (data, v, a){\n  isArray(data) && data.splice(typeof a === \"number\" ? a : 0, 0, v)\n  return data\n}\n\nexport const sortOf = function (data, filter){\n  if(data.length == 0){\n    return data\n  }\n  \n  switch (filter){\n    case 'desc':\n      filter = function (a, b){ return a > b }\n      break\n    case undefined:\n    case 'asc':\n    default:\n      if(typeof filter !== \"function\"){\n        filter = function (a, b){ return a < b }\n      }\n      break\n  }\n\n  var result = [data[0]]\n\n  for(var i = 1, l = data.length; i < l; i++){\n    for(var ri = 0, rl = result.length; ri < rl; ri++){\n      if(filter(data[i], result[ri]) === true){\n        insertOf(result, data[i], ri)\n        break\n      }\n      if((ri + 1) === result.length){\n        result.push(data[i])\n      }\n    }\n  }\n\n  clearOf(data)\n\n  for(var i = 0, l = result.length; i < l; data.push(result[i]), i++);\n  \n  return data\n}\n\nexport const rebase = function (obj, ref){\n  var result = {}\n  for(var key in obj){\n    if(key === \".*\"){\n      var refValue = obj[key]\n      for(var i = 0, d = Object.keys(ref), l = d.length; i < l; i++){\n        var refKey = d[i]\n        if(typeof refValue === \"function\"){\n          result[refKey] = obj[key]\n        } else {\n          if((typeof refValue !== \"object\" && typeof refValue !== \"object\") || isNode(refValue)){\n            result[refKey] = refValue\n          } else {\n            result[refKey] = Object.assign(result[refKey], refValue)\n          }\n        }\n      }\n    } else if(key.indexOf(\",\") > -1){\n      key.split(\",\").forEach(deepKey=>{\n        deepKey = deepKey.trim()\n        if(typeof obj[key] === \"function\"){\n          result[deepKey] = obj[key]\n        } else {\n          if((!result.hasOwnProperty(deepKey) && typeof obj[key] !== \"object\") || isNode(obj[key])){\n            result[deepKey] = obj[key]\n          } else {\n            result[deepKey] = Object.assign(result[deepKey] || (isArray(obj[key]) ? [] : {}), obj[key], obj[deepKey])\n          }\n        }\n      })\n    } else {\n      if(typeof obj[key] === \"function\"){\n        result[key] = obj[key]\n      } else {\n        if((typeof result[key] !== \"object\" && typeof obj[key] !== \"object\") || isNode(obj[key])){\n          result[key] = obj[key]\n        } else {\n          result[key] = Object.assign(result[key], obj[key])\n        }\n      }\n    }\n  }\n  return result\n}\n\n\n//TODO: Union hasValue\nconst NESTED_HAS_PROC = function (obj, key){\n  var keys = key.split(\".\")\n  if(!keys.length) return false\n\n  var pointer = obj\n  for(var ki in keys){\n    var k = keys[ki]\n\n    if(!pointer.hasOwnProperty(k)){\n      return false\n    } else {\n      pointer = pointer[k]\n    }\n  }\n  return true\n}\n\nexport const diffStructure = function (before, after){\n  var afterKeys = Object.keys(after)\n  var beforeKeys\n  var canDiff = false\n  if(isObject(before)){\n    if(isArray(before)){\n      beforeKeys = before\n    } else {\n      beforeKeys = Object.keys(before)\n      canDiff = true\n    }\n  } else {\n    beforeKeys = []\n  }\n\n  var analysis = {\n    after  : after,\n    before : before,\n    keys   : unique(afterKeys.concat(beforeKeys)).reduce((dest, key)=>{ dest[key] = undefined; return dest }, {}),\n    match  : [],\n    missing: [],\n    surplus: [],\n    diff   : [],\n    pass   : false\n  }\n  \n  //match, missing\n  for(var ki in beforeKeys){\n    if(!beforeKeys.hasOwnProperty(ki)) continue\n      \n    var key = beforeKeys[ki]\n      \n    if(NESTED_HAS_PROC(after, key)){\n      analysis.match.push(key)\n      analysis.keys[key] = \"match\"\n\n      if(canDiff && !isEqual(get(after, key), get(before, key))){\n        analysis.diff.push(key)\n        analysis.keys[key] = \"diff\"\n      }\n    } else {\n      analysis.surplus.push(key)\n      analysis.keys[key] = \"surplus\"\n    }\n  }\n\n  //surplus\n  asArray(afterKeys).forEach(key=>{\n    if(!hasValue(analysis.match, key)){\n      analysis.missing.push(key)\n      analysis.keys[key] = \"missing\"\n    }\n  })\n\n  //absolute\n  analysis.pass = !analysis.missing.length && !analysis.surplus.length\n\n  return analysis\n}\n","import {\n  asArray\n} from './cast'\n\nimport { \n  isNumber\n} from './isLike'\n\nexport const fill = function (collection, fillLength, emptyDefault = undefined){\n  const data = asArray(collection)\n  let dataLength = data.length\n  \n  fillLength = isNumber(fillLength) ? fillLength : 0\n  const fillFn = typeof emptyDefault !== \"function\" ? ()=>emptyDefault : emptyDefault\n  \n  for(let i = 0, l = fillLength - dataLength; i < l; data.push(fillFn(dataLength++, i++)));\n  \n  return collection\n}\n","import { \n  isNumber\n} from '../isLike'\n\nimport {\n  asArray\n} from '../cast'\n\nimport {\n  fill\n} from '../reform'\n\nexport const baseCut = function (collection, cutLength, emptyDefault, useFill){\n  let data = asArray(collection); let rest\n  cutLength = isNumber(cutLength) ? cutLength : 1\n  \n  if(data.length > cutLength){\n    rest = data.splice(cutLength, Number.POSITIVE_INFINITY)\n    return [data, rest]\n  }\n  \n  useFill === true && (data = fill(data, cutLength, emptyDefault))\n  return [data, []]\n}\n","import {\n  baseCut\n} from './reduce.base'\n\nimport { \n  isInfinity,\n  isNumber\n} from '../isLike'\n\nimport {\n  asArray\n} from '../cast'\n\nimport {\n  get\n} from '../read'\n\n\nexport const cut = function (collection, cutLength, fillContent){\n  const useFill = arguments.length > 2\n  return baseCut(collection, cutLength, fillContent, useFill)[0]\n}\n\nexport const cuts = function (collection, cutLength, fillContent){\n  const result = []\n  let rest = collection\n  let rowIndex = 0\n  const enumFn = typeof fillContent !== \"function\" ? ()=>fillContent : (index)=>fillContent(rowIndex * cutLength + index, index, rowIndex)\n  const useFill = arguments.length > 2\n  \n  do {\n    ([collection, rest] = baseCut(rest, cutLength, enumFn, useFill))\n    result.push(collection)\n    rowIndex++\n  } while(rest.length > 0)\n  return result\n}\n\n//reduce.spec.js\nexport const top = function (data, iteratee, topLength){\n  switch (typeof iteratee){\n    case \"function\":\n    //iteratee=iteratee;\n      break\n    case \"string\":\n      const path = iteratee\n      iteratee = (a, b)=>get(a, path) < get(b, path)\n      break\n    case \"boolean\":\n      iteratee = iteratee ? (a, b)=>a < b : (a, b)=>a > b\n      break\n    default:\n      iteratee = (a, b)=>a < b\n      break\n  }\n  \n  if(typeof topLength === \"boolean\"){\n    topLength = topLength ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY\n  }\n  \n  return isNumber(topLength) || isInfinity(topLength)\n    ? asArray(data).sort((a, b)=>iteratee(a, b)).splice(0, topLength)\n    : asArray(data).sort((a, b)=>iteratee(a, b))[0]\n}\n","import { isNumber, isArray, isAbsoluteNaN } from './isLike'\nimport { asArray } from './cast'\n\nexport const limitNumber = (function (){\n  const limitOf = function (number, max, min){\n    if(typeof number == \"number\"){\n      if(isAbsoluteNaN(number) || number === Infinity){\n        return min\n      }\n      if(isNumber(min) && (number < min)){\n        return min\n      }\n      if(isNumber(max) && (number > max)){\n        return max\n      }\n    }\n    return number\n  }\n  const limitNumber = function (numbers, max, min){\n    if(typeof max !== \"number\"){ max = Number.POSITIVE_INFINITY }\n    if(typeof min !== \"number\"){\n      if(min === null || isAbsoluteNaN(min)){\n        min = Number.NEGATIVE_INFINITY\n      } else {\n        min = 0\n      }\n    }\n    if(isArray(numbers)){\n      for(var d = numbers, i = 0, l = d.length; i < l; i++){\n        d[i] = limitOf(d[i], max, min)\n      }\n      return numbers\n    } else {\n      return limitOf(numbers, max, min)\n    }\n  }\n  return limitNumber\n}())\n\nexport const accurateTimeout = (function (originalTimeout){\n  return function (trigger, time = 0, resolutionRatio = 0.75, coverage = 25){\n    let destTime = Date.now() + time\n    \n    if(!isNumber(time)){\n      time = 0\n    }\n    \n    if(!isNumber(resolutionRatio)){\n      resolutionRatio = 0.75\n    }\n    \n    if(!isNumber(coverage)){\n      resolutionRatio = 25\n    }\n    \n    if(resolutionRatio > 1){\n      resolutionRatio = 1\n    }\n        \n    if(resolutionRatio < 0.1){\n      resolutionRatio = 0.1\n    }\n    \n    if(coverage < 5){\n      coverage = 5\n    }\n        \n    function preparation (restTime){\n      const preparaTime = Math.floor(restTime * resolutionRatio)\n      originalTimeout(execution, preparaTime)\n    }\n        \n    function execution (){\n      const restTime = destTime - Date.now()\n        \n      if(restTime < coverage){\n        if(restTime < 1){\n          originalTimeout(trigger, 0)\n        } else {\n          originalTimeout(trigger, restTime)\n        }\n      } else {\n        preparation(restTime)\n      }\n    }\n    \n    execution()\n  }\n}(setTimeout))\n\nexport const turn = function (i, limit, ts, resultHook){\n  if(i < 0){ \n    let abs = Math.abs(i / ts) \n    i = limit - (abs > limit ? abs % limit : abs)\n  }\n  ts = typeof ts === \"number\" ? ts : 1\n  const fixIndex = Math.floor(i / ts)\n  const result = (limit > fixIndex) ? fixIndex : fixIndex % limit\n  return typeof resultHook === \"function\" ? resultHook(result, i, limit, ts) : result\n}\n\nexport const turnTime = function (i, limit, ts){\n  return turn(i, limit, ts, (result, i, limit, ts)=>[result, Math.floor(i / (limit * ts))])\n}\n\nexport const toggle = function (toggleArgs, currentValue, step = 1){\n  return (toggleArgs = asArray(toggleArgs)) && toggleArgs[(toggleArgs.findIndex(val=>val === currentValue) + step) % toggleArgs.length]\n}\n","import { asArray, cloneDeep } from './cast'\nimport { likeArray, isNumber, isAbsoluteNaN } from './isLike'\nimport { top } from './reduce'\nimport { turn, limitNumber } from './nice'\nimport { hashMap, times } from './enumerable'\n\nexport const rangeModel = function (value, step, sizeBase){\n  let start, end, reverse\n  \n  if(typeof value === \"number\"){\n    end = value\n    start = 0\n  } else if(typeof value === \"object\"){\n    start = value[0]\n    end = value[1]\n      \n    if(!step && typeof value[2] === \"number\"){\n      step = value[2]\n    }\n      \n    if(typeof sizeBase !== \"boolean\"){\n      sizeBase = false\n    }\n  }\n  \n  /*\n  if(typeof start !== \"number\" || typeof end !== \"number\"){\n    if(typeof start !== \"number\" && typeof end !== \"number\") return r\n    if(typeof start === \"number\") return r.push(start), r\n    if(typeof end === \"number\") return r.push(end), r\n  }\n  */\n  \n  if(start > end){\n    reverse = end\n    end = start\n    start = reverse\n    reverse = true\n  }\n  \n  end = parseFloat(end)\n  end = isAbsoluteNaN(end) ? 0 : end\n  start = parseFloat(start)\n  start = isAbsoluteNaN(start) ? 0 : start\n  step = parseFloat(step)\n  step = isAbsoluteNaN(step) || step == 0 ? 1 : step\n  \n  return {\n    start,\n    end,\n    step,\n    reverse,\n    sizeBase\n  }\n}\n\nexport const range = function (value, stepSize, sizeBaseRange){\n  let r = []\n  let {\n    start,\n    end,\n    step,\n    reverse,\n    sizeBase\n  } = rangeModel(value, stepSize, sizeBaseRange)\n  \n  if(step <= 0){ return console.warn(\"range::not support minus step\"), r };\n  if(sizeBase == false){ for(var i = start, l = end; i <= l; i = i + step) r.push(i) } else { for(var i = start, l = end; i < l; i = i + step) r.push(i) }\n  return reverse ? r.reverse() : r\n}\n\nexport const domainRangeValue = function (domain, range, vs, nice, limit){\n  return hashMap(cloneDeep(vs), function (v, sel){\n    const $range  = sel ? range[sel] : range\n    const $domain = sel ? domain[sel] : domain\n    if(!$range || !$domain){ return v }\n                    \n    const dSize = $domain[1] - $domain[0]\n    const sSize = $range[1] - $range[0]\n    const dRate = (v - $domain[0]) / dSize\n    const calc  = $range[0] + sSize * dRate\n    const result = nice ? Math.floor(calc) : calc\n    \n    return limit \n      ? $range[1] > $range[0] \n        ? limitNumber(result, $range[1], $range[0])\n        : limitNumber(result, $range[0], $range[1])\n      : result\n  })\n}\n\nexport const domainRangeInterpolate = function (domain, range, nice, limit){\n  let _domain = domain\n  let _range  = range\n  let _nice   = nice\n  \n  const interpolate = (value)=>domainRangeValue(_domain, _range, value, _nice, limit)\n  \n  interpolate.domain = (domain)=>{\n    _domain = domain\n    return interpolate\n  }\n  interpolate.range = (range)=>{\n    _range = range\n    return interpolate\n  }\n  interpolate.nice = (nice)=>{\n    _nice = nice\n    return interpolate\n  }\n  \n  return interpolate\n}\n\n//matrixRange([1],[3]) // [[1], [2], [3]] \n//matrixRange([1,1],[3,3]) // [[1, 1], [2, 1], [3, 1], [1, 2], [2, 2], [3, 2], [1, 3], [2, 3], [3, 3]]\n\nexport const matrixRange = function (start, end, step, sizeBase){\n  var scales = []\n  var maxLength = top([start.length, end.length])\n    \n  var selectLengthes = times(maxLength, function (scaleIndex){\n    const rangeResult = range([start[scaleIndex], end[scaleIndex]], step, sizeBase)\n    scales.push(rangeResult)\n    return rangeResult.length\n  })\n\n  var result = times(selectLengthes.reduce(function (redu, value){\n    return redu * value\n  }, 1), function (){ return new Array(maxLength) })\n    \n  var turnSize = 1\n  \n  \n  asArray(scales).forEach((scaleCase, scaleIndex)=>{\n    var scaleCaseLength = scaleCase.length\n    times(result.length, function (time){\n      result[time][scaleIndex] = scaleCase[turn(time, scaleCaseLength, turnSize)]\n    })\n    turnSize = turnSize * scaleCaseLength\n  })\n    \n  return result\n}\n\n//validate matrix format\nexport const validMatrix = function (arr){\n  // Matrix must be array\n  if(!likeArray(arr)){\n    return false\n  }\n  \n  // Empty is valid\n  if(arr.length === 0){\n    return true\n  }\n  \n  //find some error ( return true => false)\n  return !Array.from(arr).some((v)=>{\n    if(likeArray(v)){\n      //length check\n      if(v.length !== arr.length) return true\n      //type check\n      return v.some(likeError=>!(likeError == undefined || isNumber(likeError)))\n    }\n    return true\n  })\n}\n\n// real matrix model\nexport const asMatrix = function (arr, columnSize){\n  const result = []\n  if(typeof columnSize === \"number\" && columnSize > 0){\n    const rowCount = Math.ceil(arr.length / columnSize)\n    times(rowCount, i=>{\n      const column = []\n      times(columnSize, ci=>{ column.push(arr[i * columnSize + ci]) })\n      result.push(column)\n    })\n  } else {\n    return [arr]\n  }\n  return result\n}\n\nexport const multiplyMatrix = function (aMatrix, bMatrix){\n  if(!validMatrix(aMatrix) && validMatrix(bMatrix)){\n    return null\n  }\n  if(aMatrix[0].length !== bMatrix.length){\n    return null\n  }\n  const result = []\n  times(bMatrix.length, rRowIndex=>{\n    const columnLength = bMatrix[rRowIndex].length\n    const columnResult = []\n    times(columnLength, rColumnIndex=>{\n      //var calcLog = [];\n      const multiplied = aMatrix[rRowIndex].reduce((dist, num, index)=>{\n        //calcLog.push(`${num} * ${bMatrix[index][rColumnIndex]}`)\n        return num * bMatrix[index][rColumnIndex] + dist\n      }, 0)\n      //console.log(\"calcLog\",calcLog.join(\" + \"))\n      columnResult.push(multiplied)\n    })\n    result.push(columnResult)\n  })\n  return result\n}\n","import { isAbsoluteNaN } from './isLike'\n\nimport { rangeModel } from './matrix'\n\nexport const rand64 = (function (){\n  var rand64Token = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"\n  return function (length, codeAt, codeLength){\n    length = (isAbsoluteNaN(length)) ? 1 : parseInt(length, 10)\n    codeAt = (isAbsoluteNaN(codeAt)) ? 0 : parseInt(codeAt, 10)\n    codeLength = (isAbsoluteNaN(codeLength)) ? 62 - codeAt : parseInt(codeLength, 10)\n    var result = \"\"\n    for(var i = 0, l = length; i < l; i++) result = result + rand64Token.charAt(codeAt + parseInt(Math.random() * codeLength, 10))\n    return result\n  }\n}())\n\n\nexport const tokenize = function (seed, digits){\n  return Math.floor((Math.abs(Math.sin(Number((seed + \"\").replace(/./g, function (s){ return s.charCodeAt(0) }))) * 16777215)) % 16777215).toString(digits || 16) \n}\nexport const randRange = function (rangeValue, nice){\n  const { start, end } = rangeModel(rangeValue)\n  const result = start + (Math.random() * (end - start))\n  return nice === true ? Math.ceil(result) : result\n}\n","import { isArray } from './isLike'\nimport { toNumber } from './cast'\n\nexport const dateExp = function (dv, format){\n  if(isArray(dv)) dv = dv.join(' ')\n\n  var dt = /(\\d\\d\\d\\d|)[^\\d]?(\\d\\d|\\d|).?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)/.exec(dv)\n  dt[1] = dt[1] || (((new Date()).getYear() + 1900) + '')\n  dt[2] = dt[2] || ((new Date()).getMonth() + 1)\n  dt[3] = dt[3] || ((new Date()).getDate())\n  dt[4] = dt[4] || (\"00\")\n  dt[5] = dt[5] || (\"00\")\n  dt[6] = dt[6] || (\"00\")\n\n  var r = [ dt[1], dt[2], dt[3], dt[4], dt[5], dt[6], dt[0] ]\n  Object.defineProperties(r, {\n    year  : { enumerable: false, value: dt[1] },\n    month : { enumerable: false, value: dt[2] },\n    date  : { enumerable: false, value: dt[3] },\n    hour  : { enumerable: false, value: dt[4] },\n    minute: { enumerable: false, value: dt[5] },\n    second: { enumerable: false, value: dt[6] },\n    init  : { enumerable: false, value: dt[7] },\n    format: {\n      enumerable: false,\n      get       : ()=>function (s){\n        return s.replace('YYYY', r.year).replace(/(MM|M)/, r.month).replace(/(DD|D)/, r.date)\n        .replace(/(hh|h)/, r.hour).replace(/(mm|m)/, r.minute).replace(/(ss|s)/, r.second)\n        .replace(/(A)/, (toNumber(r.hour) > 12) ? 'PM' : 'AM')\n      }\n    }\n  })\n  if(typeof format === 'string'){ return r.format(format) }\n  return r\n}\n\nexport const timestampExp = function (exp){\n  if(arguments.length === 0){\n    return (+new Date())\n  }\n  if(typeof exp === \"string\"){\n    exp = dateExp(exp)\n  }\n  if(typeof exp === \"number\"){\n    return exp\n  }\n  if(isArray(exp) && (exp.length == 7)){\n    exp = new Date(exp[0], exp[1], exp[2], exp[3], exp[4], exp[5])\n  }\n  if(exp instanceof Date){\n    return (+exp)\n  }\n  return 0\n}\n\nexport const timescaleExp = function (exp){\n  var scale = 0\n  if(typeof exp === \"number\"){\n    return exp\n  }\n  if(typeof exp === \"string\"){\n    // \n    exp = exp.replace(/\\d+(Y|year)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 31536000000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(M|month)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 2678400000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(D|day)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 86400000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(h|hour)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 3600000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(ms|millisecond)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 1 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(m|minute)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 60000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(s|second)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 1000 })\n      return \"\"\n    })\n  }\n  return scale\n}\n","export const argumentNamesBy = function getArgs (fn){\n  if(typeof fn !== \"function\") return []\n    // normal -  function[^\\(]*?\\(([^)]*)\\)\n    // arrow  -  \\([\\)]*\\)\\s*\\=\\>\\s*\\{\n  var args = fn.toString().match(/function[^\\(]*?\\(([^)]*)\\)|\\([\\)]*\\)\\s*\\=\\>\\s*\\{/)[1]\n  if(!args) return []\n  return args.split(',').map(s=>s.trim()).filter(n=>n)\n}\n\nexport const scopelizeBy = function (evalCommand){\n  if(evalCommand.indexOf(\"return\") == -1){\n    evalCommand = `  return ${evalCommand}`\n  }\n\n  const command = evalCommand\n  const scopeBeforeFn = function (scope, info){\n    const params = []\n    const fnArgs = []\n    \n    Object.keys(scope).forEach(key=>{\n      params.push(scope[key])\n      fnArgs.push(key)\n    })\n    \n    fnArgs.push(command)\n    \n    const makeFn = Function.apply(Function, fnArgs)\n    \n    if(typeof info === \"function\"){\n      info({\n        func  : makeFn,\n        args  : fnArgs,\n        params: params\n      })\n    }\n    \n    return makeFn.apply(void 0, params)\n  }\n  \n  scopeBeforeFn.scoped = function (){\n    return command\n  }\n  \n  return scopeBeforeFn\n}\n\n","/*\n  usage\n  const size = 20\n  const stroke = 1\n\n  const { x, y, radius, diameter } = drawCircleVars(size, stroke);\n  \n  const d = `M${x} ${y} \n  a ${radius} ${radius} 0 0 1 0 ${diameter}\n  a ${radius} ${radius} 0 0 1 0 -${diameter}`\n\n  <svg viewbox=\"0 0 {size} {size}\">\n    <path d=\"{d}\" stroke-width=\"stroke\"></path>\n  </svg>\n*/\nexport const drawCircleVars = function (circleWidth, strokeWidth = 0){\n  const circumference = ((circleWidth - strokeWidth) / 2) * (3.14159 * 2)\n  const radius        = (circumference / (3.14159 * 2))\n  const diameter      = (radius * 2)\n  const x             = circleWidth / 2\n  const y             = strokeWidth / 2\n  //const circumLength  = drawRatio == 1 ? drawRatio : drawRatio * circumference;\n    \n  return { x, y, radius, diameter, circumference, circleWidth, strokeWidth }\n}\n","import { likePromise } from '../../functions'\nexport const PromiseClass = Promise\n\nconst resolveFn = PromiseClass.resolve\nconst rejectFn = PromiseClass.reject\n\nexport const newPromise = (fn)=>(new PromiseClass((r, c)=>{\n  const maybeAwaiter = fn(r, c)\n  likePromise(maybeAwaiter) && maybeAwaiter.then(r).catch(c)\n}))\n\nexport const promise = (fn)=>newPromise(fn)\n\nconst PromiseFunction = promise\n\nexport const all     = Promise.all\nPromiseFunction.all = all\n\nexport const resolve    = resolveFn\nPromiseFunction.resolve = resolve\n\nexport const reject    = rejectFn\nPromiseFunction.reject = reject\n","import { promise as PromiseFunction, newPromise, PromiseClass } from './promiseEngine'\nimport { likePromise } from '../../functions'\n\nexport const defer = function (){\n  var resolve, reject\n  var promise = new PromiseClass(function (){\n    resolve = arguments[0]\n    reject = arguments[1]\n  })\n  return {\n    resolve: resolve,\n    reject : reject,\n    promise: promise\n  }\n}\n\nPromiseFunction.defer = defer\n\nexport const timeout = function (fn, time){\n  if(typeof fn === \"number\"){\n    return newPromise(resolve=>setTimeout(()=>resolve(time), fn))\n  } else {\n    return newPromise(resolve=>setTimeout(()=>resolve(typeof fn === \"function\" ? fn() : fn), time))\n  }\n}\nPromiseFunction.timeout = timeout\n\nexport const valueOf = function (maybeQ){\n  return newPromise(function (resolve, reject){\n    likePromise(maybeQ)\n      ? maybeQ.then(resolve).catch(reject)\n      : resolve(maybeQ) \n  })\n}\nPromiseFunction.valueOf = valueOf\n\nexport const promise = PromiseFunction\n","import { \n  asArray,\n  isNumber\n} from '../functions'\n\nexport const operate = (function (){\n  const PARENT_OUTPUT_UPDATED = \"ParentOutputUpdated\"\n  \n  const operate = function ({ input, output, concurrent, rescue, limitInput, limitOutput }){\n    this.parent = undefined\n    this.children = []\n    this.inputs = []\n    this.outputs = []\n    this.limitInput = isNumber(limitInput) || limitInput > 0 ? limitInput : Number.POSITIVE_INFINITY\n    this.limitOutput = isNumber(limitOutput) || limitOutput > 0 ? limitOutput : Number.POSITIVE_INFINITY\n    \n    //\n    let current = 0\n    concurrent = isNumber(concurrent) || concurrent > 0 ? concurrent : 1\n    \n    Object.defineProperty(this, \"avaliablePullCount\", {\n      get: ()=>{\n        let limit = this.limitInput - this.inputs.length\n        if(limit < 0) limit = 0\n        return limit\n      }\n    })\n    \n    Object.defineProperty(this, \"avaliableOutputCount\", {\n      get: ()=>{\n        return this.limitOutput + current + this.outputs.length\n      }\n    })\n    \n    const inputOutput = { input, output }\n    \n    const kickStart = ()=>{\n      let avaliableQueLength = concurrent - current\n      \n      //  \n      if(avaliableQueLength < 1){\n        return\n      }\n      \n      // input     \n      if(avaliableQueLength > this.inputs.length){\n        avaliableQueLength = this.inputs.length\n      }\n      \n      // output     \n      if(avaliableQueLength > this.avaliableOutputCount){\n        avaliableQueLength = this.avaliableOutputCount\n      }\n      \n      if(avaliableQueLength < 1){\n        return\n      }\n      \n      Array(avaliableQueLength).fill(inputOutput).forEach(async ({input, output})=>{\n        let entry = this.inputs.shift()\n        current++\n        \n        const outputHandle = async (formInputDataum)=>{\n          /* TODO:lint\n          if(typeof output === \"function\"){\n            const out = await output({ entry: formInputDataum })\n          }\n          */\n          \n          this.outputs.push(formInputDataum)\n          current--\n        \n          this.children.forEach(child=>child.emit(PARENT_OUTPUT_UPDATED))\n          kickStart()\n        }\n        \n        if(input){\n          try {\n            outputHandle(await input({ entry }))\n          } catch (e){\n            if(typeof rescue === \"function\"){\n              rescue(e)\n            } else {\n              throw e\n            }\n            current--\n          }\n        } else {\n          outputHandle(entry)\n        }\n      })\n    }\n\n    Object.defineProperty(this, \"push\", {\n      value: (pushData)=>{\n        this.inputs.push(pushData)\n        kickStart()\n        return this\n      }\n    })\n    \n    Object.defineProperty(this, \"concat\", {\n      value: (pushData)=>{\n        asArray(pushData).forEach(d=>this.inputs.push(d))\n        kickStart()\n        return this\n      }\n    })\n    \n    Object.defineProperty(this, \"emit\", {\n      value: (eventName, payload)=>{\n        switch (eventName){\n          case PARENT_OUTPUT_UPDATED:\n            if(this.avaliablePullCount < 1) return\n            let pullData = this.parent.pull(this.avaliablePullCount)\n            if(pullData.length < 1) return\n            pullData.forEach(datum=>this.inputs.push(datum))\n            kickStart()\n            break\n        }\n      }\n    })\n    \n    Object.defineProperty(this, \"pull\", {\n      value: (pullLength)=>{\n        if(!(isNumber(pullLength) || pullLength == Number.POSITIVE_INFINITY)) return []\n        const pullData = this.outputs.splice(0, pullLength)\n        //pullData.length && kickStart();\n        return pullData\n      }\n    })\n    \n    Object.defineProperty(this, \"clone\", {\n      value: (deep = true, parentOperate)=>{\n        let cloneOperate = operateFunction({ input, output, concurrent, rescue, limitInput, limitOutput })\n        \n        deep === true && this.children.forEach(child=>{\n          child.clone(true, cloneOperate)\n        })\n        \n        return cloneOperate\n      }\n    })\n  }\n  \n  operate.prototype = {\n    append: function (child){\n      child.parent = this\n      this.children.push(child)\n      return this\n    },\n    remove: function (child){\n      let index = this.children.indexOf(child)\n      if(index < 0) return this\n      child.parent = undefined\n      this.children.splice(index, 1)\n    },\n    operate: function (option){\n      return this.append(operateFunction(option))\n    }\n  }\n  \n  const operateFunction = function (option){\n    return new operate(Object.assign({}, option))\n  }\n  \n  return operateFunction\n}())\n","// promise utils\nimport { PromiseClass, newPromise } from './promiseEngine'\nimport { promise as PromiseFunction } from './promise'\nimport { asArray, asObject } from '../../functions/cast'\nimport { isNumber } from '../../functions/isLike'\nimport { turn } from '../../functions/nice'\nimport { argumentNamesBy } from '../../functions/hack'\n\nimport { operate } from '../operate'\n\nexport const promisify = function (asyncErrCallbackfn){\n  const argumentNames = argumentNamesBy(asyncErrCallbackfn).slice(1)\n  const promisified   = function (){\n    const args = Array.from(arguments)\n    return new Promise((resolve, reject)=>{\n      const applyParams = args.concat(function (){\n        const [error, ...callbakArgs] = Array.from(arguments)\n        if(error){\n          reject(error)\n        } else if(argumentNames.length && callbakArgs.length > 1){\n          resolve(argumentNames.reduce((dest, name, index)=>{\n            dest[name] = callbakArgs[index]\n            return dest\n          }, {}))\n        } else {\n          resolve(callbakArgs[0])\n        }\n      })\n      asyncErrCallbackfn.apply(this, applyParams)\n    })\n  }\n  return function (){\n    return promisified.apply(this, Array.from(arguments))\n  }\n}\n\nexport const until = function (tasks, option){\n  if(!(tasks instanceof Array)){\n    return PromiseFunction.reject(new Error(\"tasks must be array\"))\n  }\n\n  if(!tasks.length || !tasks.some(e=>typeof e === \"function\")){\n    return PromiseFunction.reject(new Error(\"not found wheel executable\"))\n  }\n\n  if(!tasks.some(e=>(typeof e !== \"function\" || typeof e !== \"number\"))){\n    return PromiseFunction.reject(new Error(\"wheel task only function or number executable\"))\n  }\n\n  if(typeof option !== \"object\"){\n    option = {}\n  }\n\n  let finished = false\n  let defer\n  const limit = (typeof option.limit === \"number\" && option.limit > 0) ? parseInt(option.limit, 10) : 10000\n  const taskLength = tasks.length\n  let wheelTick = 0\n  let resetScope = 0\n  const nextWheelTick = (tick, value, tickScope)=>{\n    const nowAction = tasks[turn(tick, taskLength, 1)]\n\n    const isActiveFn = ()=>{\n      return tickScope === resetScope\n    }\n\n    const nextTickFn = passValue=>{\n      // if reset called\n      if(!isActiveFn()) return\n      // if over tick\n      if(wheelTick > limit){\n        return defer.reject(new Error(\"limit\"))\n      }\n      if(finished === false){\n        nextWheelTick(wheelTick++, passValue, tickScope)\n      }\n    }\n\n    if(typeof nowAction === \"function\"){\n      nowAction(\n        {\n          value,\n          next    : nextTickFn,\n          isActive: isActiveFn,\n          resolve : defer.resolve,\n          reject  : defer.reject\n        },\n        Math.floor(tick / tasks.length),\n        tick\n      )\n    } else if(typeof nowAction === \"number\"){\n      setTimeout(()=>{ nextTickFn(value) }, nowAction)\n    }\n  }\n  \n  const thenStack  = [\n    e=>{\n      if(finished === null) return abort()\n      finished = true\n      return e\n    }\n  ]\n  const catchStack = [\n    e=>{\n      if(finished === null) return abort()\n      finished = true\n      return PromiseFunction.reject(e)\n    }\n  ]\n  \n  const deferReset = (resetTick)=>{\n    defer && defer.stop()\n    //\n    defer = PromiseFunction.defer()\n    thenStack.forEach(fn=>defer.promise.then(fn))\n    catchStack.forEach(fn=>defer.promise.catch(fn))\n    \n    //\n    defer.stop = ()=>{\n      finished = null\n      resetScope += 1\n    }\n    \n    defer.start = (resetTick)=>{\n      if(finished === null){\n        finished = false\n        wheelTick = typeof resetTick === \"number\" ? resetTick : 0\n        nextWheelTick(wheelTick++, option.value, resetScope)\n      }\n    }\n    //\n    defer.reset = deferReset\n    //\n    finished = null\n    defer.start(resetTick)\n  }\n  \n  deferReset(0)\n  \n  const wheelControls = {\n    ...defer,\n    then (fn){\n      defer.promise.then(fn)\n      thenStack.push(fn)\n      return wheelControls\n    },\n    catch (fn){\n      defer.promise.catch(fn)\n      catchStack.push(fn)\n      return wheelControls\n    }\n  }\n  \n  return wheelControls\n}\n\nexport const batch = function (funcArray, opts){\n  return newPromise(function (resolve, reject){\n    const option = asObject(opts, \"concurrent\")\n      \n    if(option.concurrent === true){\n      option.concurrent = Number.POSITIVE_INFINITY\n    } else if(!isNumber(option.concurrent) || option.concurrent < 1){\n      option.concurrent = 1\n    }\n      \n    if(!isNumber(option.interval) || option.interval < -1){\n      option.interval = -1\n    }\n      \n    if(!isNumber(option.repeat) || option.repeat < 1){\n      option.repeat = 1\n    }\n      \n    //set task with repeat\n    const sequanceTaskEntries = Array(option.repeat)\n    .fill(asArray(funcArray))\n    .reduce((dest, tasks)=>{\n      tasks.forEach((fn, index)=>dest.push([index, fn]))\n      return dest\n    }, [])\n      \n    const sequanceLength = sequanceTaskEntries.length\n    let sequanceComplete = 0\n    const sequanceReseult = Array(sequanceTaskEntries.length)\n      \n    operate({\n      output: async ({ entry })=>{\n        if(option.interval > -1){\n          await PromiseFunction.timeout(option.interval)\n        }\n        return entry\n      },\n      limitOutput: 1\n    })\n    .operate({\n      concurrent: option.concurrent,\n      input     : async ({ entry })=>{\n        // eslint-disable-next-line no-unused-vars\n        const [index, fn] = entry\n        entry.push(await fn())\n        return entry\n      },\n      output: ({ entry })=>{\n        // eslint-disable-next-line no-unused-vars\n        const [index, fn, result] = entry\n        \n        sequanceReseult[index] = result\n        sequanceComplete++\n        \n        if(sequanceComplete === sequanceLength){\n          resolve(sequanceReseult)\n        }\n      }\n    })\n    .concat(sequanceTaskEntries)\n  })\n}\n\n\n// abort is deprecated\nconst abortMessage = new function (){\n  Object.defineProperty(this, \"message\", {\n    get: ()=>\":abort\"\n  })\n  Object.defineProperty(this, \"abort\", {\n    get: ()=>true\n  })\n}()\n\nexport const abort = function (notifyConsole = undefined){\n  return new PromiseClass((resolve, reject)=>{\n    if(notifyConsole === true){\n      console.warn(\"abort promise\")\n    }\n    reject(abortMessage)\n  })\n}\n","import {\n  get,\n  hashMap,\n  domainRangeValue\n} from '../functions'\n\nimport {\n  isArray,\n  likeObject,\n  isEmpty\n} from '../functions/isLike'\n\nimport {\n  asArray,\n  cloneDeep\n} from '../functions/cast'\n\n// ?\nconst hasValueProperty = function (obj, value, key){\n  if(arguments.length == 1 && likeObject(obj)) return isEmpty(obj)\n  if(isArray(obj)) for(var i = 0, l = obj.length; i < l; i++) if(obj[i] === value) return true\n  if(likeObject(obj)){\n    if(key){\n      return get(obj, key) === value\n    } else {\n      for(var key in obj) if(get(obj, key) === value) return true\n    }\n  }\n  return false\n}\n\n\n//Scale foundation\n//    ,     \n\nconst Block = function (posSize, syncOpt){\n  Object.defineProperties(this, {\n    $space     : { enumerable: false, writable: true, value: undefined },\n    $posSize   : { enumerable: false, writable: true, value: undefined },\n    $mask      : { enumerable: false, writable: true, value: undefined },\n    $compute   : { enumerable: false, writable: true, value: undefined },\n    $sync      : { enumerable: false, writable: true, value: undefined },\n    domainValue: { \n      enumerable: true,\n      get:()=>{\n        return hashMap(cloneDeep(this.get()), function (posSize){ return posSize[0]; });\n      }\n    },\n    domainSize: { \n      enumerable: true,\n      get:()=>{\n        return hashMap(cloneDeep(this.get()), function (posSize){ return posSize[1]; });\n      }\n    },\n    rangeStart: { \n      enumerable: true,\n      get:()=>{\n        return this.$space.domainRange(hashMap(this.get(), function (posSize){ return posSize[0]; }));\n      }\n    },\n    rangeSize: { \n      enumerable: true,\n      get:()=>{\n        return this.$space.domainRangeSize(hashMap(this.get(), function (posSize){ return posSize[1]; }));\n      }\n    }\n  })\n  \n  this.sync(posSize, syncOpt)\n}\n  \nconst BlockPrototype = {}\n\nObject.defineProperties(BlockPrototype, {\n  domainMap: { \n    enumerable: false,\n    get (){\n      return hashMap(cloneDeep(this.get()), function (posSize){\n        return {\n          start: posSize[0],\n          size : posSize[1],\n          end  : posSize[0] + posSize[1]\n        }\n      })\n    }\n  },\n  rangeMap: { \n    enumerable: false,\n    get (){\n      const rangeSize = this.rangeSize\n              \n      return hashMap(this.rangeStart, function ($start, sel){ \n        var $size = sel ? rangeSize[sel] : rangeSize\n        return {\n          start: $start,\n          size : $size,\n          end  : $start + $size\n        }\n      })\n    }\n  },\n  rangeEnd: { \n    enumerable: false,\n    get (){\n      return this.rangeMap(this.rangeMap, function (map){ return map.end })\n    }\n  }\n})\n\nObject.assign(BlockPrototype, {\n  sync: function (block, syncOpt){ \n    if(!arguments.length && this.$sync){\n      block = this.$sync()\n    } else if(typeof block === \"function\"){\n      this.$sync = block\n      if(syncOpt == true){\n        block = this.$sync()\n      } else {\n        return this\n      }\n    }\n    if(block instanceof Block){ \n      this.$posSize = cloneDeep(block.$posSize)\n      //.. this.$sync    = this.$sync || block.$sync\n      this.$space = this.$space || block.$space \n      this.$mask = this.$mask || block.$mask \n    } else {\n      this.$posSize = hashMap(cloneDeep(block), function (posSize){ return !isArray(posSize) ? [posSize, 0] : posSize })\n    }\n    return this \n  },\n  clone      : function (){ return new Block(this) },\n  setPosition: function (value, sel){ var $posSize = get(this.$posSize, sel); if($posSize instanceof Array) $posSize[0] = value; return this },\n  setSize    : function (value, sel){ var $posSize = get(this.$posSize, sel); if($posSize instanceof Array) $posSize[1] = value; return this },\n  get        : function (){ return cloneDeep(typeof this.$posSize === \"function\" ? this.$posSize() : this.$posSize) },\n  conflicts  : function (otherBlocks, selector){\n    return asArray(otherBlocks).reduce(function (red, block){\n      var selectOtherBlock = get(block, selector)\n                  \n      if(selectOtherBlock instanceof Block){\n        //     space   \n        if((selectOtherBlock === this) || (selectOtherBlock.$space != this.$space)) return red\n                      \n        //\n        var inspectResult = []\n                      \n        hashMap(this.get(), function (thisPos, key){\n          var otherPos = get(selectOtherBlock.get(), key)\n          if(otherPos[0] < thisPos[0] && (otherPos[0] + otherPos[1]) <= thisPos[0]) return inspectResult.push(false)\n          if(otherPos[0] > thisPos[0] && (thisPos[0] + thisPos[1]) <= otherPos[0]) return inspectResult.push(false)\n          return inspectResult.push(true)\n        })\n                      \n        if(inspectResult.length && !hasValueProperty(inspectResult, false)){\n          red.push(block)\n        }\n      }\n      return red\n    }.bind(this), [])\n  },\n  hasConflicts: function (otherBlocks, selector){ return !!this.conflicts(otherBlocks, selector).length },\n  overflow    : function (mask){\n    var blockPosSize  = this.get()\n    var spaceDomain   = this.$space.domain\n    var overflowDomain = (mask && cloneDeep(mask)) || (this.$space && this.$space.domain) || []\n    return hashMap(overflowDomain, function ($overflowSelected, sel){\n      var $posSize = get(blockPosSize, sel)\n      var $domain  = get(spaceDomain, sel)\n      return ($posSize[0] < get($overflowSelected[0], $domain[0]) || ($posSize[0] + $posSize[1]) > get($overflowSelected[1], $domain[1]))\n    })\n  },\n  isOverflow: function (mask){\n    var overflow = false\n    hashMap(this.overflow(mask), function (f){ if(f){ overflow = true } })\n    return overflow\n  },\n  maskOverflow  : function (mask){ return this.overflow(this.$mask || mask) },\n  isMaskOverflow: function (mask){ return this.isOverflow(this.$mask || mask) },\n  compute       : function (func){\n    if(typeof func === \"function\"){ \n      this.$compute = func \n    } else {\n      this.$compute && this.$compute(this.map())\n    } \n    return this \n  },\n  call: function (f){ typeof f === \"function\" && f.call(this, this.rangeMap) }\n})\n\nBlock.prototype = BlockPrototype \n      \nconst Tracker = function (space, domainMask){\n  this.$space = space\n  this.$domainMask = hashMap(cloneDeep(domainMask), function (mask, sel){\n    if(typeof mask === \"number\") mask = [mask]\n    if(mask instanceof Array){\n      if(!mask[0]) mask[0] = 0\n      if(!mask[1]) mask[1] = function (v){ return v }\n    }\n    return mask\n  })\n}\n      \nTracker.prototype = {\n  block: function (posSize, syncOpt){\n    var block = new Block(posSize, syncOpt) \n    block.$space = this.$space \n    block.$mask = this.$domainMask \n    return block\n  },\n  domainBlock: function (cursor, callback){\n    var domainGrid = hashMap(this.$space.range, function (range){ return range[2] })\n    var block      = this.block(hashMap(this.$space.rangeDomain(cursor), function (cursorPoint, key){ return [cursorPoint, get(domainGrid, key)] }))\n    var blockMap   = block.map()\n              \n    callback && callback.call(block, blockMap, block)\n    return block\n  }\n}\n      \nconst Space = function (domain, range){\n  this.$niceDomain = true\n  this.$niceRange = true\n  \n  Object.defineProperties(this, {\n    $niceDomain: { enumerable: false, writable: true, value: true },\n    $niceRange : { enumerable: false, writable: true, value: true },\n    $domain    : { enumerable: false, writable: true, value: undefined },\n    $range     : { enumerable: false, writable: true, value: undefined },\n    domain     : {\n      enumerable: true,\n      set (domain){\n        domain = hashMap(domain, function (domain){\n          if(!domain[2]){ domain[2] = 1 }\n          return domain\n        })\n        this.$domain = domain\n      },\n      get (){\n        return hashMap(cloneDeep(this.$domain), function (domain){\n          for(var i = 0, l = domain.length; i < l; i++) if(typeof domain[i] === \"function\") domain[i] = domain[i]()\n          return domain\n        })\n      }\n    },\n    range: {\n      enumerable: true,\n      set (range){\n        range = hashMap(range, function (range){\n          if(!range[2]){ range[2] = 1 }\n          return range\n        })\n        this.$range = range\n      },\n      get (){\n        return hashMap(cloneDeep(this.$range), function (range){\n          for(var i = 0, l = range.length; i < l; i++) if(typeof range[i] === \"function\") range[i] = range[i]()\n          return range\n        })\n      }\n    }\n  })\n  \n  this.$domain = domain\n  this.$range = range\n}\n      \nSpace.prototype = {\n  domainRangeSize: function (vs){\n    return hashMap(vs, function (v, sel){\n      var $range  = sel ? this.range[sel] : this.range\n      var $domain = sel ? this.domain[sel] : this.domain\n      return (v / ($domain[1] - $domain[0])) * ($range[1] - $range[0])\n    }.bind(this))\n  },\n  domainRange: function (vs){ return domainRangeValue(this.domain, this.range, vs, this.$niceRange) },\n  rangeDomain: function (vs){ return domainRangeValue(this.range, this.domain, vs, this.$niceDomain) },\n  block      : function (posSize, syncOpt){\n    var block = new Block(posSize, syncOpt)\n    block.$space = this\n    return block\n  },\n  tracker: function (domainMask){\n    var tracker = new Tracker(this, domainMask)\n    return tracker\n  }\n}\n      \nexport const space = (function (){\n  return function (domain, range){\n    return new Space(domain, range)\n  }\n}())\n  \nexport const block = (function (){\n  return function (posSize, syncOpt){\n    return new Block(posSize, syncOpt)\n  }\n}())\n","import {\n  promise,\n  valueOf as _valueOf,\n  abort as _abort,\n  reject as _reject\n} from './promise'\n\nimport {\n  alloc,\n  asArray,\n  cloneDeep as _cloneDeep\n} from '../functions/cast'\n\nimport {\n  isEqual as _isEqual\n} from '../functions/isLike'\n\nexport const awaitLeadOnly = function (func){\n  return alloc(function (){\n    let $pending = false\n    return function (...args){\n      if($pending === true){\n        return _abort()\n      } else {\n        $pending = true\n        return promise((resolve, reject)=>{\n          return _valueOf(func.apply(this, args)).then(resolve).catch(reject)\n        })\n        .then(e=>{\n          $pending = false\n          return e\n        })\n        .catch(e=>{\n          $pending = false\n          return _reject(e)\n        })\n      }\n    }\n  })\n}\n\nexport const awaitCompose = function (funcArgs){\n  return alloc(function (){\n    const composeFuncs = []\n\n    asArray(funcArgs).forEach(f=>{ typeof f === \"function\" && composeFuncs.push(f) })\n\n    return function (payload){\n      return promise((resolve, reject)=>{\n        function * iterator (){\n          for(let d = composeFuncs, i = 0, l = d.length; i < l; i++){\n            yield d[i]\n          }\n        }\n\n        const doWhile = ({ value: proc, done }, taskPayload)=>{\n          if(done){\n            resolve(taskPayload)\n          } else {\n            _valueOf(proc.call(this, taskPayload))\n            .then(nextPayload=>{\n              doWhile(iterator.next(), nextPayload)\n            })\n            .catch(reject)\n          }\n        }\n\n        doWhile.apply(iterator.next(), payload)\n      })\n    }\n  })\n}\n\n/*\n   watch .\n  let watcher = watchChange(newValue=>{ doSomething... })\n  watcher.change(\"newValue\")\n*/\nexport const watchChange = function (){\n  const changeValue = function (watchman, newValue){\n    const countScope   = watchman.$count\n    const destOldValue = _cloneDeep(newValue)\n    \n    watchman.$setter.forEach(effect=>{\n      effect(newValue, watchman.$oldValue, countScope)\n    })\n    \n    watchman.$oldValue = destOldValue\n  }\n  \n  var Watchman = function (equalityLogic){\n    this.$setter = []\n    this.$oldValue = undefined\n    this.$count = 0\n    this.$equalityLogic = equalityLogic\n  }\n  \n  Watchman.prototype = {\n    setter (changeListeners){\n      asArray(changeListeners).forEach(fn=>{\n        if(typeof fn === \"function\"){\n          this.$setter.push(fn)\n        }\n      })\n    },\n    change (newValue){\n      var newValue\n      if(this.$equalityLogic){\n        if(!_isEqual(this.$oldValue, newValue)){\n          changeValue(this, newValue)\n        }\n      } else {\n        if(this.$oldValue != newValue){\n          changeValue(this, newValue)\n        }\n      }\n    }\n  }\n  return function (effect, equalityLogic){\n    const watch = new Watchman(equalityLogic)\n    watch.setter(effect)\n    return watch\n  }\n}\n","import { promise } from './promise'\n\nconst SESSION_STORE = {}\nconst STATE_STORE   = {}\n\n/*\nlet idx = 0;\nsession(\"scopeName\").open((name)=>{ id:idx++, name });\n\nlet { item, resolve } = await session(\"scopeName\").spawn(\"bob\");\nresolve(item);\n\nlet { item, resolve } = await session(\"scopeName\").spawn(\"cat\");\nresolve(item);\n\nsession(\"scopeName\").close()\n*/\n\nexport const session = function (name){\n  const inst = {\n    outputs: ()=>STATE_STORE[name].map(e=>e.output),\n    open   : (fn)=>{\n      SESSION_STORE[name] = fn\n      STATE_STORE[name] = []\n    },\n    close: ()=>{\n      const result = inst.outputs()\n      delete SESSION_STORE[name]\n      delete STATE_STORE[name]\n      return Promise.all(result)\n    },\n    spawn: (payload)=>{\n      if(typeof SESSION_STORE[name] !== \"function\"){\n        if(!SESSION_STORE[name]){\n          throw new Error(`session:: ${name} is not defined`)\n        } else {\n          throw new Error(`session:: ${name} is not function callback`)\n        }\n      }\n      \n      const input = promise.valueOf(SESSION_STORE[name](payload))\n      const managedSpawn = {\n        input,\n        output: undefined,\n        item  : undefined\n      }\n      \n      return input.then((item)=>{\n        const deferred      = promise.defer()\n        const deferPromise  = deferred.promise\n        managedSpawn.output = deferPromise\n        managedSpawn.item = item\n        \n        STATE_STORE[name].push(managedSpawn)\n        \n        return { \n          item,\n          resolve: deferred.resolve,\n          reject : deferred.reject\n        }\n      })\n    }\n  }\n  \n  return inst\n}\n","import { limitNumber, isAbsoluteNaN } from \"../functions\"\n\nexport const Limitter = function (max, min){\n  this.value = 0\n  if(typeof max !== \"number\" || isAbsoluteNaN(min)){\n    this.maximum = Number.POSITIVE_INFINITY\n  } else {\n    this.maximum = max\n  }\n  if(typeof min !== \"number\" || isAbsoluteNaN(min)){\n    this.minimum = 0\n  } else {\n    this.minimum = min\n  }\n}\n\nconst LimitterPrototype = {\n  expectIn (setValue){\n    return setValue === limitNumber(setValue, this.maximum, this.minimum)\n  },\n  expectOut (setValue){\n    return setValue !== limitNumber(setValue, this.maximum, this.minimum)\n  },\n  addExpectIn: function (addValue){\n    const destValue = this.value + addValue\n    return destValue === limitNumber(destValue, this.maximum, this.minimum)\n  },\n  addExpectOut: function (addValue){\n    const destValue = this.value + addValue\n    return destValue !== limitNumber(destValue, this.maximum, this.minimum)\n  },\n  set: function (setValue){\n    this.value = setValue\n    return this\n  },\n  add: function (addValue){\n    this.value = this.value + addValue\n    return this\n  }\n}\n\nObject.defineProperties(LimitterPrototype, {\n  done: {\n    get (){\n      return this.value === limitNumber(this.value, this.maximum, this.minimum)\n    }\n  }\n})\n\nLimitter.prototype = LimitterPrototype\n\nexport const ranger = function (max, min){\n  return new Limitter(max, min)\n}\n","import { asArray } from '../functions/cast'\nimport { times } from '../functions/enumerable'\nimport { turnTime } from '../functions/nice'\n\nexport const MatrixArray = (function (){\n  const MatrixArray = function (data, column, row){\n    asArray(data).forEach(datum=>{ this.push(datum) })\n    \n    Object.defineProperties(this, {\n      column: {\n        enumerable: false,\n        value     : column\n      },\n      row: {\n        enumerable: false,\n        value     : row\n      },\n      length: {\n        enumerable: false\n      }\n    })\n  }\n\n  MatrixArray.prototype = Object.assign([], {\n    toMatrix (eachResultHook){\n      const result = []\n      eachResultHook = typeof eachResultHook === \"function\" ? eachResultHook : undefined\n\n      times(this.column * this.row, (index)=>{\n        const [ colIndex, rowIndex ] = turnTime(index, this.column)\n        const data       = this[index]\n        const dataResult = eachResultHook ? eachResultHook(data, index, colIndex, rowIndex) : data\n        if(!result[rowIndex]) result[rowIndex] = []\n        result[rowIndex].push(dataResult)\n      })\n      \n      return result\n    },\n    toArray (){\n      return Array.from(this)\n    },\n    eachColumn (eachFn){\n      const rows = this.toMatrix()\n      const columns = times(this.column, colIndex=>{\n        const colData = []\n        rows.forEach(row=>colData.push(row[colIndex]))\n        return colData\n      })\n      \n      return typeof eachFn === \"function\" ? columns.map(eachFn) : columns\n    },\n    eachRow (eachFn){\n      const rows = this.toMatrix()\n      return typeof eachFn === \"function\" ? rows.map(eachFn) : rows\n    },\n    multiply (){\n      //TODO\n    }\n  })\n  \n  return MatrixArray\n})()\n\nexport const makeMatrixArray = function (column, row, eachHook){\n  const matrixProto = times(column * row, (index)=>{\n    const [ colIndex, rowIndex ] = turnTime(index, column)\n    return eachHook(index, colIndex, rowIndex) || [colIndex, rowIndex]\n  })\n  \n  const matrixArray = new MatrixArray(matrixProto, column, row)\n  return matrixArray\n}\n","import { isArray, isNumber } from '../functions/isLike'\nimport { asArray } from '../functions/cast'\nimport { validMatrix, multiplyMatrix } from '../functions/matrix'\nimport { makeMatrixArray } from './matrix'\n\n\nconst likePoint = function (p){\n  return typeof p === \"object\" && p.hasOwnProperty(\"x\") && p.hasOwnProperty(\"y\")\n}\n\nconst calcTransformedPoint = (__ref, { matrix, perspectiveOrigin })=>{\n  // yet support affin\n  //let perspectiveVar = (this.meta && this.meta.perspective)\n  //perspectiveVar = !isNumber(perspectiveVar) ? 0 : perspectiveVar;\n  //perspectiveVar = -1/perspectiveVar;\n  //perspectiveVar = isInfinity(perspectiveVar) ? 0 : (perspectiveVar || 0) ;\n  if(!matrix) return\n  \n  const transformPoint = {}\n  const {x:px = 0, y:py = 0, z:pz = 0} = perspectiveOrigin || {x: 0, y: 0, z: 0}\n  const [[x], [y], [z], [w]] = multiplyMatrix(matrix, [[__ref.x - px], [__ref.y - py], [__ref.z - pz], [__ref.w]])\n  \n  transformPoint.x = x + px + matrix[0][3]\n  transformPoint.y = y + py + matrix[1][3]\n  transformPoint.z = z + pz + matrix[2][3]\n  transformPoint.w = w\n  \n  return transformPoint\n}\n\nconst Point = function (x = 0, y = 0, z = 0, w = 1, meta){\n  // base point config\n  const __ref = { x, y, z, w }\n  let __meta = {}\n  let __transformedPoint\n  \n  Object.defineProperties(this, {\n    x: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.x : __ref.x\n        }\n        return __ref.x\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.x = v\n      }\n    },\n    y: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.y : __ref.y\n        }\n        return __ref.y\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.y = v\n      }\n    },\n    z: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.z : __ref.z\n        }\n        return __ref.z\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.z = v\n      }\n    },\n    w: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.w : __ref.w\n        }\n        return __ref.w\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.w = v\n      }\n    },\n    meta: {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ \n        typeof it === \"object\" && Object.assign(__meta, it)\n        __transformedPoint = undefined\n        return __meta\n      }\n    },\n    transform: {\n      enumerable  : false,\n      configurable: false,\n      writable    : true,\n      value       : false\n    },\n    rx: { enumerable: false,\n      get       : ()=>{\n        const rangeWidth = (this.meta && this.meta.range && this.meta.range.width) || 0\n        return this.x / rangeWidth\n      }\n    },\n    ry: { \n      enumerable: false,\n      get       : ()=>{\n        const rangeHeight = (this.meta && this.meta.range && this.meta.range.height) || 0\n        return this.y / rangeHeight\n      }\n    }\n  })\n  \n  if(typeof meta === \"object\"){\n    this.meta = meta\n  }\n}\n\nPoint.prototype = {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  clone (){\n    return new Point(this.x, this.y, this.z, this.w, this.meta)\n  },\n  call (fn){\n    if(typeof fn === \"function\"){\n      return fn(this) || this\n    }\n    return this\n  },\n  toJSON (withMeta){\n    const json = { x: this.x, y: this.y, z: this.z, w: this.w }\n    if(withMeta === true && this.meta) json.meta = this.meta\n    return json\n  },\n  pull (width = 0, angle = \"horizontal\"){\n    const { x, y, z, w } = this\n    switch (angle){\n      case \"h\": case \"horizontal\":\n        const xHalf = width <= 0 ? 0 : width / 2\n        return new Vertex([{x: x - xHalf, y, z, w}, {x: x + xHalf, y, z, w}])\n      default:\n    }\n  },\n  vertexWith (destPoint){\n    const points = asArray(destPoint)\n    points.unshift(this)\n    return new Vertex(points)\n  },\n  rectWith ({x, y}){\n    const [largeX, smallX] = this.x > x ? [ this.x, x ] : [ x, this.x ]\n    const [largeY, smallY] = this.y > y ? [ this.y, y ] : [ y, this.y ]\n    return new Rect(smallX, smallY, largeX - smallX, largeY - smallY, 0, 0)\n  },\n  applyTransform (){\n    const {x, y, z, w} = this\n    this.transform = false\n    this.x = x\n    this.y = y\n    this.z = z\n    this.w = w\n    return this\n  },\n  setTransform (matrix44 = this.meta.matrix){\n    if(!validMatrix(matrix44)){\n      this.transform = false\n      throw new Error('Point::setTransform invalid matrix', matrix44)\n      return this\n    }\n    \n    this.meta.matrix = matrix44\n    this.transform = true\n    \n    return this\n  },\n  add ({ x, y, z, w }){\n    isNumber(x) && x && (this.x += x)\n    isNumber(y) && y && (this.y += y)\n    isNumber(z) && z && (this.z += z)\n    isNumber(w) && w && (this.w += w)\n    return this\n  },\n  subtract ({ x, y, z, w }){\n    isNumber(x) && x && (this.x -= x)\n    isNumber(y) && y && (this.y -= y)\n    isNumber(z) && z && (this.z -= z)\n    isNumber(w) && w && (this.w -= w)\n    return this\n  }\n}\n\nconst Vertex = function (pointArray, meta){\n  let __meta\n  \n  Object.defineProperties(this, {\n    meta: {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ __meta = typeof it === \"object\" ? it : null; return __meta }\n    }\n  })\n  \n  this.meta = meta\n  \n  asArray(pointArray).forEach(point=>{\n    if(!likePoint(point)) return\n    const {x, y, z, w} = point\n    this.push(new Point(x, y, z, w, __meta))\n  })\n};\n\n(function (classFunction, methods){\n  const prototype = []\n  \n  classFunction.prototype = prototype\n  \n  Object.keys(methods).forEach(key=>{\n    prototype[key] = methods[key]\n  })\n  \n  Object.defineProperties(prototype, {\n    start: {\n      enumerable: false,\n      get (){\n        return this[0]\n      }\n    },\n    end: {\n      enumerable: false,\n      get (){\n        return !this.length ? void 0 : this[this.length - 1]\n      }\n    }\n  })\n}(Vertex, {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  toJSON (withMeta){\n    const result = []\n    this.forEach(p=>result.push(p.toJSON(withMeta)))\n    return result\n  },\n  clone (){\n    return new Vertex(this)\n  },\n  eq (index){\n    return this[index]\n  },\n  join: function (fn){\n    const joins = []\n    this.forEach((refp, i)=>{\n      joins.push(refp)\n      if(!this[i + 1]) return\n      const newp = fn(refp, this[i + 1], i)\n      if(!likePoint(newp)) return\n      const {x, y, z, w, meta} = newp\n      joins.push(new Point(x, y, z, w, meta))\n    })\n    this.splice(0, this.length)\n    joins.forEach(p=>this.push(p))\n    return this\n  },\n  point (order){\n    switch (order){\n      case \"e\": case \"end\":\n      case \"d\": case \"down\": case \"r\": case \"right\":\n        const { x:px, y:py, z:pz, w:pw } = this.end\n        return new Point(\n          px,\n          py,\n          pz,\n          pw,\n          this.meta\n        )\n      case \"c\": case \"m\": case \"center\": case \"middle\":\n        const { x:sx, y:sy, z:sz, w:sw } = this.start\n        const { x:ex, y:ey, z:ez, w:ew } = this.end\n        return new Point(\n          sx / 2 + ex / 2,\n          sy / 2 + ey / 2,\n          sz / 2 + ez / 2,\n          sw / 2 + ew / 2,\n          this.meta\n        )\n      case \"s\": case \"start\":\n      case \"u\": case \"up\": case \"l\": case \"left\":\n      default:\n        const { x, y, z, w } = this.start\n        return new Point(\n          x,\n          y,\n          z,\n          w,\n          this.meta\n        )\n    }\n  },\n  rect (){\n    const first = this[0]\n    \n    if(!first){\n      return new Rect(0, 0, 0, 0)\n    }\n    \n    let left = first.x\n    let right = first.x\n    let top = first.y\n    let bottom = first.y\n    \n    for(let d = this, i = 1, l = this.length; i < l; i++){\n      const p = d[i]\n      p.x < left && (left = p.x)\n      p.x > right && (right = p.x)\n      p.y < top && (top = p.y)\n      p.y > bottom && (bottom = p.y)\n    }\n    \n    return new Rect(left, top, right - left, bottom - top)\n  },\n  setTransform (param){\n    this.forEach(p=>p.setTransform(param))\n    return this\n  }\n}))\n\n\nconst Rect = function (left = 0, top = 0, width = 0, height = 0, meta = null){\n  const __ref = { left, top, width, height }\n  let __meta = {}\n  \n  Object.defineProperties(this, {\n    width: { \n      enumerable: true, \n      get (){ return __ref.width },\n      set (newValue){\n        __ref.width = newValue\n        return newValue\n      }\n    },\n    height: { \n      enumerable: true, \n      get (){ return __ref.height },\n      set (newValue){\n        __ref.height = newValue\n        return newValue\n      }\n    },\n    left: { enumerable: true,\n      get (){ return __ref.left },\n      set (newValue){\n        __ref.left = newValue\n        return newValue\n      }\n    },\n    top: { enumerable: true,\n      get (){ return __ref.top },\n      set (newValue){\n        __ref.top = newValue\n        return newValue\n      }\n    },\n    right : { enumerable: true, get (){ return this.left + this.width } },\n    bottom: { enumerable: true, get (){ return this.top + this.height } },\n    meta  : {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ \n        typeof it === \"object\" && Object.assign(__meta, it)\n        return __meta\n      }\n    }\n  })\n  \n  if(typeof meta === \"object\"){\n    this.meta = meta\n  }\n}\n\nconst splitCountParser = (split)=>{\n    //splitCount [ horizental, vertical ]\n    //1 = [ 1 ]\n    //[1, 2] = [1, 2]\n  const [ columnOrder, rowOrder ] = asArray(split)\n  return {\n    column: isNumber(columnOrder) && columnOrder > 0 ? parseInt(columnOrder, 10) : 1,\n    row   : isNumber(rowOrder) && rowOrder > 0 ? parseInt(rowOrder, 10) : 1\n  }\n}\n\nRect.prototype = {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  clone (){\n    return new Rect(this.left, this.top, this.width, this.height, this.meta)\n  },\n  toJSON (withMeta){\n    const json = {width: this.width, height: this.height, left: this.left, top: this.top, right: this.right, bottom: this.bottom }\n    if(withMeta === true && this.meta) json.meta = this.meta\n    return json\n  },\n  defaultPerspective (){\n    return {\n      perspective      : 0,\n      perspectiveOrigin: {\n        x: this.left + (this.width / 2),\n        y: this.top + (this.height / 2),\n        z: 0\n      }\n    }\n  },\n  findPoint (findWord){\n    const [ lineFind, pointFind ] = isArray(findWord) ? findWord : findWord.trim().split(/\\s+/)\n    return this.vertex(lineFind).point(pointFind)\n  },\n  vertex (order){\n    const inheritMeta = Object.assign(this.defaultPerspective(), this.meta)\n    \n    switch (order){\n      case \"right\": case \"r\":\n        return new Vertex([{x: this.right, y: this.top, z: 0, w: 0}, {x: this.right, y: this.bottom, z: 0, w: 0}], inheritMeta)\n      case \"bottom\": case \"b\":\n        return new Vertex([{x: this.left, y: this.bottom, z: 0, w: 0}, {x: this.right, y: this.bottom, z: 0, w: 0}], inheritMeta)\n      case \"left\": case \"l\":\n        return new Vertex([{x: this.left, y: this.top, z: 0, w: 0}, {x: this.left, y: this.bottom, z: 0, w: 0}], inheritMeta)\n      case \"top\": case \"t\":\n        return new Vertex([{x: this.left, y: this.top, z: 0, w: 0}, {x: this.right, y: this.top, z: 0, w: 0}], inheritMeta)\n      case \"middle\": case \"m\":\n        const middleY = this.height / 2 + this.top\n        return new Vertex(\n          [\n            {x: this.left, y: middleY, z: 0, w: 0},\n            {x: this.right, y: middleY, z: 0, w: 0}\n          ],\n          inheritMeta\n        )\n      case \"center\": case \"c\":\n        const centerX = this.width / 2 + this.x\n        return new Vertex(\n          [\n            {x: centerX, y: this.top, z: 0, w: 0},\n            {x: centerX, y: this.bottom, z: 0, w: 0}\n          ],\n          inheritMeta\n        )\n      default:\n        return new Vertex(\n          [\n            {x: this.left, y: this.top, z: 0, w: 0},\n            {x: this.left, y: this.bottom, z: 0, w: 0},\n            {x: this.right, y: this.bottom, z: 0, w: 0},\n            {x: this.right, y: this.top, z: 0, w: 0}\n          ],\n          inheritMeta\n        )\n    }\n  },\n  transformRect (){\n    this.vertex()\n  },\n  piecesWithCount (splitCount, eachResultHook){\n    const { column, row } = splitCountParser(splitCount)\n    const width = this.width\n    const height = this.height\n    const pieceWidth = width / column\n    const pieceHeight = height / row\n    eachResultHook = typeof eachResultHook === \"function\" ? eachResultHook : undefined\n    \n    \n    const pacExt = { ...this.defaultPerspective() }\n    \n    if(this.meta.matrix && this.meta.matrix instanceof Array){\n      Object.assign(pacExt, {\n        matrix: this.meta.matrix\n      })\n    }\n    \n    const pacResult = makeMatrixArray(column, row, (index, colIndex, rowIndex)=>{\n      const pacMeta = { \n        column: colIndex,\n        row   : rowIndex,\n        coords: [colIndex, rowIndex], \n        range : { width, height },\n        ...pacExt\n      }\n      \n      //\n      const result = new Rect(colIndex * pieceWidth, rowIndex * pieceHeight, pieceWidth, pieceHeight, pacMeta)\n      return eachResultHook ? eachResultHook(result, index, colIndex, rowIndex) : result\n    })\n    \n    return pacResult\n  },\n  diff ({ left:aleft = 0, top:atop = 0, width:awidth = 0, height:aheight = 0, right:aright, bottom:abottom }){\n    const diffResult = {}\n    const original = this.toJSON()\n    const offset = {left: 0, top: 0}\n    Object.defineProperties(diffResult, {\n      left: {\n        enumerable: true, \n        get       : ()=>original.left - aleft + offset.left,\n        set       : (want)=>{ offset.left = typeof want === \"number\" ? -original.left + want : 0 }\n      },\n      top: {\n        enumerable: true,\n        get       : ()=>original.top - atop + offset.top,\n        set       : (want)=>{ offset.top = typeof want === \"number\" ? -original.top + want : 0 }\n      },\n      width : { enumerable: true, get: ()=>original.width - awidth},\n      height: { enumerable: true, get: ()=>original.height - aheight},\n      right : { enumerable: true, get: ()=>original.right - aright + offset.left},\n      bottom: { enumerable: true, get: ()=>original.bottom - abottom + offset.top},\n      x     : { enumerable: false, get: ()=>offset.left},\n      y     : { enumerable: false, get: ()=>offset.top},\n      offset: {\n        enumerable: false,\n        get       : ()=>()=>({\n          x     : offset.left,\n          y     : offset.top,\n          right : diffResult.right,\n          bottom: diffResult.bottom,\n          over  : diffResult.right > diffResult.bottom ? diffResult.right : diffResult.bottom\n        })\n      },\n      move: {\n        enumerable: false,\n        get       : ()=>(nleft, ntop)=>{\n          diffResult.left = typeof nleft === \"number\" ? nleft : aleft\n          diffResult.top = typeof ntop === \"number\" ? ntop : atop\n          return diffResult\n        }\n      },\n      toJSON: {\n        enumerable: false,\n        get       : ()=>()=>({ ...diffResult })\n      }\n    })\n    \n    return diffResult\n  },\n  fitRatio (rect){\n    if(typeof rect !== \"object\"){ throw new Error(\"fit::argument[0] is not object\"); }\n    const { width, height } = rect;\n    \n    if(!isNumber(width) || !isNumber(height)){ throw new Error(\"fit::argument[0] is not { width:Number, height:Number }\"); }\n    const WHRatio = [ width / this.width, height / this.height ];\n    const transformRatio = WHRatio.sort()[0];\n    return transformRatio;\n  },\n  fit (rect){\n    const transformRatio = this.fitRatio(rect);\n    \n    this.width = (this.width * transformRatio) || 0;\n    this.height = (this.height * transformRatio) || 0;\n    \n    return this;\n  },\n  //TODO : incompleted sticky(parent, position, offset);\n  sticky ({left:refX, top:refY, width:refWidth, height:refHeight}, position = \"bottom left\"){\n    const { left, top, width, height } = this\n    switch (position){\n      case \"bl\": case \"obl\": case \"bottom left\": case \"outer bottom left\":\n        return rect({\n          left: refX,\n          top : refY + refHeight,\n          width,\n          height\n        })\n      case \"c\": case \"m\": case \"mc\": case \"center\": case \"middle\": case \"middle center\":\n        return rect({\n          left: refX + refWidth / 2 - width / 2,\n          top : refY + refHeight / 2 - height / 2,\n          width,\n          height\n        })\n      default:\n        return rect({ left, top, width, height })\n    }\n  },\n  add ({ left, top, width, height }){\n    isNumber(left) && left && (this.left += left)\n    isNumber(top) && top && (this.top += top)\n    isNumber(width) && width && (this.width += width)\n    isNumber(height) && height && (this.height += height)\n    return this\n  },\n  subtract ({ left, top, width, height }){\n    isNumber(left) && left && (this.left -= left)\n    isNumber(top) && top && (this.top -= top)\n    isNumber(width) && width && (this.width -= width)\n    isNumber(height) && height && (this.height -= height)\n    return this\n  }\n}\n\nexport const point = function (x, y, z, w){\n  return typeof x === \"object\" \n    ? new Point(x.x, x.y, x.z, x.w) \n    : new Point(x, y, z, w)\n}\n\nexport const vertex = function (start, end){\n  return new Vertex([{x: start.x, y: start.y, z: start.z, w: start.w}, {x: end.x, y: end.y, z: end.z, w: end.w}])\n}\n\nexport const rect = function (left, top, width, height, x, y, valid){\n  return typeof left === \"object\"\n    ? new Rect(left.left, left.top, left.width, left.height, left.x, left.y, left.valid)\n    : new Rect(left, top, width, height, x, y, valid)\n}\n","import { cloneDeep } from '../functions'\n\nconst ManualReactive = function (watch, effect, judgeOfEqual){\n  this.watch = watch\n  this.effect = effect\n  this.judgeOfEqual = typeof judgeOfEqual === \"function\" ? judgeOfEqual : (a, b)=>a === b\n  this.oldValue = undefined\n}\n\nManualReactive.prototype = {\n  beginAffect (watchValue){\n    this.effect(watchValue, cloneDeep(this.oldValue))\n    this.oldValue = watchValue\n  },\n  digest (...args){\n    const watchResult = this.watch.apply(this, args)\n    return this.judgeOfEqual(this.oldValue, watchResult) ? false : (this.beginAffect(watchResult), true)\n  }\n}\n\nexport const affect = function (effect, judgeOfEqual){\n  let affectValue\n  const manualReactive = new ManualReactive(()=>affectValue, effect, judgeOfEqual)\n  return (value)=>{ affectValue = value; manualReactive.digest() }\n}\n","import * as functions from './index.js'\n\nlet Bow  = function (){}\nlet BowFactory = function (fns){\n  let BOX = function (payload){ return new Bow(payload) }\n  \n  function applyBoxFns (BowFns){ for(var name in BowFns) BOX[name] = BowFns[name] }\n  \n  applyBoxFns(fns)\n  \n  return BOX\n}\n\nlet DEFAULT = BowFactory({ ...functions })\n\nexport const factory = BowFactory\nexport default DEFAULT\n","import { factory } from './pado.core.js'\nimport * as functions from './index.js'\n\nconst DEFAULT = factory({ ...functions })\n\nexport default DEFAULT\n"],"names":["isAbsoluteNaN","it","isNone","data","undefined","isInfinity","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","isNumber","isInteger","value","trim","test","isNaN","parseInt","isArray","Array","isObject","isFunction","likeObject","likeString","likeNumber","String","parseFloat","likeArray","item","hasOwnProperty","length","isPlainObject","constructor","Object","isEnumerableObject","isNode","a","nodeType","isEmpty","RegExp","prop","isPresence","likeRegexp","s","eqof","typeIt","baseEq","other","filter","depth","strict","arguments","valueType","otherType","every","vValue","i","oValue","vKeys","keys","oKeys","sort","key","isEqual","likeEqual","values","eqeq","isExsist","notExsist","likePromise","target","asArray","defaultArray","toArray","option","prototype","slice","call","split","asObject","defaultKey","toNumber","v","d","vr","replace","dr","cleanObject","splice","forEach","clone","r","push","Date","setTime","getTime","k","console","error","cloneDeep","l","p","free","datum","dest","getKeyWithValue","obj","removeValue","detect","array","instance","func","proto","ins","DummyInstance","param","alloc","init","fn","rn","args","apply","filterExp","result","numberKey","entries","deepKeys","nestedDeepKeys","scope","total","child","useKey","currentScope","matchString","search","at","Error","substr","match","index","findIndex","__find_string","indexOf","__find_regexp","substring","findIndexes","c","idxs","next","all","times","hashMap","object","pairs","inputArr","ai","al","map","applyArgs","readString","rebaseMatches","matches","text","castFn","props","payload","content","newMatchEntries","castingState","firstIndex","lastIndex","castingStart","cursor","start","open","matchEntries","parentScope","matchesMap","matchType","matchExp","firstMatch","aPriority","b","bPriority","matchIndex","matchSize","castStart","castEnd","castSize","skipSize","matching","casting","fork","needCursor","cursorTo","enter","enterMatches","enterCastFn","exit","more","readPath","__filterDotPath","dotPath","removeFirstDot","__filterBlockPath","blockPath","pathParam","path","stackCount","get","defaultValue","allget","name","hasProperty","hasValue","defaultObjectValueFunc","functionKeyObjectValueProc","functionKey","Boolean","selectKeyObjectValueProc","leftSelect","rightSelect","useLeftSelector","useRightSelector","getKey","proc","objKey","readDown","rootValue","readFn","rootParam","enterScope","arrayScope","objectScope","primitiveScope","type","childrenDepth","fill","unique","findKey","uniqueSet","Set","keyPath","has","add","getKeyBy","moveOf","oldIndex","newIndex","concatOf","appends","filterOf","exitFn","exitCnt","ri","clearOf","fillFn","sp","insertOf","sortOf","rl","rebase","ref","refValue","refKey","assign","deepKey","NESTED_HAS_PROC","pointer","ki","diffStructure","before","after","afterKeys","beforeKeys","canDiff","analysis","concat","reduce","missing","surplus","diff","pass","collection","fillLength","emptyDefault","dataLength","baseCut","cutLength","useFill","rest","cut","fillContent","cuts","rowIndex","enumFn","top","iteratee","topLength","limitNumber","limitOf","number","max","min","Infinity","numbers","accurateTimeout","originalTimeout","trigger","time","resolutionRatio","coverage","destTime","now","preparation","restTime","preparaTime","Math","floor","execution","setTimeout","turn","limit","ts","resultHook","abs","fixIndex","turnTime","toggle","toggleArgs","currentValue","step","val","rangeModel","sizeBase","end","reverse","range","stepSize","sizeBaseRange","warn","domainRangeValue","domain","vs","nice","sel","$range","$domain","dSize","sSize","dRate","calc","domainRangeInterpolate","_domain","_range","_nice","interpolate","matrixRange","scales","maxLength","selectLengthes","scaleIndex","rangeResult","redu","turnSize","scaleCase","scaleCaseLength","validMatrix","arr","from","some","likeError","asMatrix","columnSize","rowCount","ceil","column","ci","multiplyMatrix","aMatrix","bMatrix","rRowIndex","columnLength","columnResult","rColumnIndex","multiplied","dist","num","rand64","rand64Token","codeAt","codeLength","charAt","random","tokenize","seed","digits","sin","charCodeAt","toString","randRange","rangeValue","dateExp","dv","format","join","dt","exec","getYear","getMonth","getDate","defineProperties","year","enumerable","month","date","hour","minute","second","timestampExp","exp","timescaleExp","scale","t","argumentNamesBy","getArgs","n","scopelizeBy","evalCommand","command","scopeBeforeFn","info","params","fnArgs","makeFn","Function","scoped","drawCircleVars","circleWidth","strokeWidth","circumference","radius","diameter","x","y","PromiseClass","Promise","resolveFn","resolve","rejectFn","reject","newPromise","maybeAwaiter","then","catch","promise","PromiseFunction","defer","timeout","valueOf","maybeQ","operate","PARENT_OUTPUT_UPDATED","input","output","concurrent","rescue","limitInput","limitOutput","parent","children","inputs","outputs","current","defineProperty","inputOutput","kickStart","avaliableQueLength","avaliableOutputCount","entry","shift","outputHandle","formInputDataum","emit","pushData","eventName","avaliablePullCount","pullData","pull","pullLength","deep","parentOperate","cloneOperate","operateFunction","append","remove","abortMessage","abort","notifyConsole","hasValueProperty","Block","posSize","syncOpt","$space","writable","$posSize","$mask","$compute","$sync","domainValue","domainSize","rangeStart","domainRange","rangeSize","domainRangeSize","sync","BlockPrototype","domainMap","size","rangeMap","$start","$size","rangeEnd","block","setPosition","setSize","conflicts","otherBlocks","selector","red","selectOtherBlock","inspectResult","thisPos","otherPos","bind","hasConflicts","overflow","mask","blockPosSize","spaceDomain","overflowDomain","$overflowSelected","isOverflow","f","maskOverflow","isMaskOverflow","compute","Tracker","space","domainMask","$domainMask","domainBlock","callback","domainGrid","rangeDomain","cursorPoint","blockMap","Space","$niceDomain","$niceRange","set","tracker","awaitLeadOnly","$pending","_abort","_valueOf","e","_reject","awaitCompose","funcArgs","composeFuncs","iterator","doWhile","taskPayload","done","nextPayload","watchChange","changeValue","watchman","newValue","countScope","$count","destOldValue","_cloneDeep","$setter","effect","$oldValue","Watchman","equalityLogic","$equalityLogic","setter","changeListeners","change","_isEqual","watch","SESSION_STORE","STATE_STORE","session","inst","close","spawn","managedSpawn","deferred","deferPromise","Limitter","maximum","minimum","LimitterPrototype","expectIn","setValue","expectOut","addExpectIn","addValue","destValue","addExpectOut","ranger","MatrixArray","row","toMatrix","eachResultHook","colIndex","dataResult","eachColumn","eachFn","rows","columns","colData","eachRow","multiply","makeMatrixArray","eachHook","matrixProto","matrixArray","likePoint","calcTransformedPoint","__ref","matrix","perspectiveOrigin","transformPoint","z","px","py","pz","w","Point","meta","__meta","__transformedPoint","transform","configurable","rx","rangeWidth","width","ry","rangeHeight","height","addMeta","toJSON","withMeta","json","angle","xHalf","Vertex","vertexWith","destPoint","points","unshift","rectWith","largeX","smallX","largeY","smallY","Rect","applyTransform","setTransform","matrix44","subtract","pointArray","point","classFunction","methods","eq","joins","refp","newp","order","pw","sx","sy","sz","sw","ex","ey","ez","ew","rect","first","left","right","bottom","splitCountParser","columnOrder","rowOrder","defaultPerspective","perspective","findPoint","findWord","lineFind","pointFind","vertex","inheritMeta","middleY","centerX","transformRect","piecesWithCount","splitCount","pieceWidth","pieceHeight","pacExt","pacResult","pacMeta","coords","aleft","atop","awidth","aheight","aright","abottom","diffResult","original","offset","want","over","move","nleft","ntop","fitRatio","WHRatio","transformRatio","fit","sticky","position","refX","refY","refWidth","refHeight","valid","ManualReactive","judgeOfEqual","oldValue","beginAffect","watchValue","digest","watchResult","affect","affectValue","manualReactive","Bow","BowFactory","fns","BOX","applyBoxFns","BowFns","DEFAULT","functions","factory"],"mappings":"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"}